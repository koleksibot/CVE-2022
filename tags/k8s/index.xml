<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>k8s on SoByte</title>
    <link>https://www.sobyte.net/tags/k8s/</link>
    <description>Recent content in k8s on SoByte</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 11 Mar 2022 09:22:00 +0800</lastBuildDate><atom:link href="https://www.sobyte.net/tags/k8s/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Build and maintain operators using the Operator Framework toolkit</title>
      <link>https://www.sobyte.net/post/2022-03/operator-framework/</link>
      <pubDate>Fri, 11 Mar 2022 09:22:00 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/operator-framework/</guid>
      <description>Operator Framework The Operator Framework is a CoreOS open source toolkit for rapid development and maintenance of Operator, and contains three main projects. Operator SDK: Quickly build an Operator application without having to understand the complex Kubernetes API features. Operator Lifecycle Manager (OLM): helps install, update, and manage all operators (and their associated services) running across clusters Operator Metering: collects operator metric information and generates reports With these three sub-projects,</description>
    </item>
    
    <item>
      <title>Creating custom K8s AdmissionWebhooks with Kubebuilder</title>
      <link>https://www.sobyte.net/post/2022-03/creating-custom-k8s-admissionwebhooks/</link>
      <pubDate>Fri, 11 Mar 2022 09:09:19 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/creating-custom-k8s-admissionwebhooks/</guid>
      <description>Kubebuilder can build AdmissionWebhooks in addition to CRD APIs and their Controllers, and this article will analyze how Kubebuilder builds AdmissionWebhooks in detail.
AdmissionWebhooks for K8s First of all, it is important to know what AdmissionWebhooks is in K8s and what its purpose is.
Let&amp;rsquo;s start with the scenario. If we need to make configuration changes or checks on a pod before it is created, this part of the work would require the administrator to compile it into a binary file in ApiServer, which would be very annoying if the configuration changes were made in a custom form.</description>
    </item>
    
    <item>
      <title>What is the Pause container</title>
      <link>https://www.sobyte.net/post/2022-03/what-is-pause-container/</link>
      <pubDate>Wed, 09 Mar 2022 10:23:17 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/what-is-pause-container/</guid>
      <description>We all know that the smallest unit of scheduling in k8s is the POD, and each POD has a so-called Infra container Pause, so what exactly is a Pause container? What does it look like? What does it do?
Analyze the source code From the official pause.c.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52  #include &amp;lt;signal.</description>
    </item>
    
    <item>
      <title>Prometheus Monitoring Kubernetes Job Resource False Alarm Issue</title>
      <link>https://www.sobyte.net/post/2022-03/prometheus-monitor-k8s-job-trap/</link>
      <pubDate>Sun, 06 Mar 2022 17:12:01 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/prometheus-monitor-k8s-job-trap/</guid>
      <description>Someone mentioned a problem before, it is about Prometheus monitoring Job task false alarm problem, the general meaning of the CronJob control Job, the front of the execution failed, monitoring will trigger the alarm, after the solution to generate a new Job can be executed normally, but will still receive the alarm in front.
This is because we generally keep some history when executing Job tasks to facilitate troubleshooting, so if there is a failed Job before, even if it will become successful later, the previous Job will continue to exist, and the default alarm rule used by most direct kube-prometheus installation and deployment is kube_job_ status_failed &amp;gt; 0, which is obviously inaccurate.</description>
    </item>
    
    <item>
      <title>How to report errors via Kubernetes events</title>
      <link>https://www.sobyte.net/post/2022-03/error-reporting-with-kubernetes-events/</link>
      <pubDate>Sun, 06 Mar 2022 16:24:57 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/error-reporting-with-kubernetes-events/</guid>
      <description>There is a Kubernetes webhook maintained within the group that intercepts pod creation requests and makes some changes (e.g. adding environment variables, adding init-container, etc.). The business logic itself is simple, but it&amp;rsquo;s hard to handle if errors are generated in the process. Either you directly prevent the pod from being created, then there is a risk that the application will not start. Either ignore the business logic, then it</description>
    </item>
    
    <item>
      <title>High Risk! Kubernetes New Container Escape Vulnerability Warning!</title>
      <link>https://www.sobyte.net/post/2022-03/k8s-container-escape-vulnerability/</link>
      <pubDate>Fri, 04 Mar 2022 09:37:19 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/k8s-container-escape-vulnerability/</guid>
      <description>On January 18, 2022, Linux maintainers and vendors discovered a heap buffer overflow vulnerability in the legacy_parse_param function of the Linux kernel (5.1-rc1+) file system context function with the vulnerability ID number CVE-2022-0185, which is a high-risk vulnerability with a severity rating of is 7.8 . The vulnerability allows for out-of-bounds writes in kernel memory. Using this vulnerability, an unprivileged attacker could bypass the restrictions of any Linux namespace and</description>
    </item>
    
    <item>
      <title>Solve kubeadm initialization exception: dial tcp 127.0.0.1:10248: connect: connection refused</title>
      <link>https://www.sobyte.net/post/2022-03/connect-connection-refused/</link>
      <pubDate>Tue, 01 Mar 2022 19:25:00 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-03/connect-connection-refused/</guid>
      <description>Kubernetes, often abbreviated as K8s, is an open-source system for automating the deployment, scaling, and management of containerized containerized applications in an open source system. The system was designed by Google and donated to the Cloud Native Computing Foundation (Linux Foundation). It is designed to provide a platform for automated deployment, scaling, and running application containers across host clusters. It supports a range of container tools, including Docker and others.</description>
    </item>
    
    <item>
      <title>Forced deletion of the k8s terminating state namespace</title>
      <link>https://www.sobyte.net/post/2022-02/force-delete-k8s-terminating-namespace/</link>
      <pubDate>Wed, 23 Feb 2022 10:07:55 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-02/force-delete-k8s-terminating-namespace/</guid>
      <description>When deleting a namespace, the delete operation is interrupted when it is not completely deleted, and the namespace is in the terminating state. One solution is to delete again with the --force option after the command, e.g.
1  kubectl delete ns &amp;lt;terminating-namespace&amp;gt; --force   But it often doesn&amp;rsquo;t work, so you need to use the interface to delete the namespace.
First, export the namespace information for the terminating state to a json file.</description>
    </item>
    
    <item>
      <title>Deploy a Kubernetes cluster</title>
      <link>https://www.sobyte.net/post/2022-01/kubernetes-deployemnt-using-kubeadm/</link>
      <pubDate>Sat, 29 Jan 2022 17:21:31 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/kubernetes-deployemnt-using-kubeadm/</guid>
      <description>Native Kubernetes Cluster Installation Tool Kubernetes clusters on the cloud, basically all cloud vendors support one-click deployment. The main focus here is on local deployment, or baremetal deployment. The approach presented in this article is suitable for development testing, and there may still be issues with security, stability, long-term availability, and other solutions. kubernetes is a component-based system with a lot of flexibility in the installation process, and many components</description>
    </item>
    
    <item>
      <title>Kubernetes Microservices Best Practices</title>
      <link>https://www.sobyte.net/post/2022-01/kubernetes-best-practices/</link>
      <pubDate>Sat, 29 Jan 2022 16:56:20 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/kubernetes-best-practices/</guid>
      <description>This article introduces a set of &amp;ldquo;Kubernetes configuration&amp;rdquo; that I have summarized as my personal &amp;ldquo;best practices&amp;rdquo; in the process of using Kubernetes. Most of the content has been tested in an online environment, but there are a few parts that have only been simulated in my head, so please refer to them with caution. A few notes before reading. This document is quite long and includes a lot of</description>
    </item>
    
    <item>
      <title>Rebuild the ISO image using overlay2 or bind</title>
      <link>https://www.sobyte.net/post/2022-01/rebuild-iso-image/</link>
      <pubDate>Wed, 26 Jan 2022 13:02:51 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/rebuild-iso-image/</guid>
      <description>I was in charge of the PaaS container cloud platform for private deployment related work, so I often deal with some container images, and have some research on container images, and have written many blog articles before. Since I got a new job, I started to be responsible for &amp;ldquo;hyper-converged products&amp;rdquo; cluster deployment related work, so I will also come into contact with a lot of mirrors, but this mirror</description>
    </item>
    
    <item>
      <title>Kubernetes HPA Controlled Elastic Scaling based on Prometheus Custom Metrics</title>
      <link>https://www.sobyte.net/post/2022-01/k8s-hpa-prometheus/</link>
      <pubDate>Wed, 19 Jan 2022 15:37:00 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/k8s-hpa-prometheus/</guid>
      <description>There are three main types of elastic scaling in Kubernetes: HPA, VPA, and CA. Here we will focus on Pod Horizontal Scaling HPA.
With the release of Kubernetes v1.23, the HPA API came to a stable version autoscaling/v2:
 Scaling based on custom metrics Scaling based on multiple metrics Configurable scaling behaviour  From the initial v1 version of HPA, which only supported CPU and memory utilisation scaling, to the later support for custom metrics and aggregation layer APIs, to v1.</description>
    </item>
    
    <item>
      <title>K8s drain command source code reading</title>
      <link>https://www.sobyte.net/post/2022-01/k8s-drain/</link>
      <pubDate>Mon, 17 Jan 2022 13:24:33 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/k8s-drain/</guid>
      <description>Background I&amp;rsquo;ve written a previous article [&amp;ldquo;Kubernetes in Action - Smooth Node Removal&amp;rdquo;]) about how to remove nodes from a K8s cluster, and today I&amp;rsquo;ll take a look at what the kubectl drain command does and how it does it. kubectl K8s uses cobra as a command line builder (I don&amp;rsquo;t find cobra very useful and the documentation is unclear.) The actual processing logic is in pkg/kubectl/cmd/cmd.go, with a unified</description>
    </item>
    
    <item>
      <title>Analysis and resolution of memory cgroup leaks</title>
      <link>https://www.sobyte.net/post/2022-01/memory-cgroup/</link>
      <pubDate>Thu, 13 Jan 2022 09:44:29 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/memory-cgroup/</guid>
      <description>Memory cgroup leaks are a common problem in K8s (Kubernetes) clusters, resulting in nodes being stretched for memory resources, or nodes becoming unresponsive and having to restart the server to recover. Most developers use regular drop cache or disable kernel kmem accounting to circumvent this problem. This paper analyses the root cause of memory cgroup leaks and provides a solution to fix the problem at the kernel level, based on a practical example from the NetEase Digital Sail kernel team.</description>
    </item>
    
    <item>
      <title>Kubernetes mounted subpath containers fail to mount when restarting after configmap changes</title>
      <link>https://www.sobyte.net/post/2022-01/pod-loopcrash-of-k8s-subpath/</link>
      <pubDate>Tue, 04 Jan 2022 20:46:06 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/pod-loopcrash-of-k8s-subpath/</guid>
      <description>Kubernetes has a problem with mounted subpath containers that continue to crash after configmap or other volume changes if the container quits unexpectedly and does not start properly.
Kubernetes has now released version 1.18 and this issue still exists.
Community-related issue #68211
Reproduction steps 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29  ---apiVersion:v1kind:Pod metadata:name:test-podspec:volumes:- configMap:name:extra-cfgname:extra-cfgcontainers:- name:testimage:ubuntu:bioniccommand:[&amp;#34;sleep&amp;#34;,&amp;#34;30&amp;#34;]resources:requests:cpu:100mvolumeMounts:- name:extra-cfgmountPath:/etc/extra.</description>
    </item>
    
    <item>
      <title>Pod targeted migration support in Kubernetes</title>
      <link>https://www.sobyte.net/post/2022-01/k8s-pod-directional-migration/</link>
      <pubDate>Tue, 04 Jan 2022 20:37:25 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2022-01/k8s-pod-directional-migration/</guid>
      <description>Native K8s does not support migration of a given Pod from the current node to another given node. However, we can implement support for this feature based on the extension capabilities provided by K8s. Background In K8s, kube-scheduler is responsible for scheduling the Pods that need to be scheduled to a suitable node. It computes the best node to run the current Pod through various algorithms. When a new Pod</description>
    </item>
    
    <item>
      <title>Customizing the Kubernetes Scheduler</title>
      <link>https://www.sobyte.net/post/2021-12/custom-k8s-scheduler/</link>
      <pubDate>Tue, 21 Dec 2021 17:09:26 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/custom-k8s-scheduler/</guid>
      <description>kube-scheduler is one of the core components of kubernetes, mainly responsible for the scheduling function of the entire cluster resources, according to specific scheduling algorithms and policies, Pods will be scheduled to the optimal working nodes, so as to make more reasonable and full use of the cluster resources, which is also a very important reason why we choose to use kubernetes This is a very important reason why we</description>
    </item>
    
    <item>
      <title>Deploying VSCode on a Kubernetes Cluster</title>
      <link>https://www.sobyte.net/post/2021-12/deploy-vscode-on-k8s/</link>
      <pubDate>Tue, 21 Dec 2021 16:48:31 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/deploy-vscode-on-k8s/</guid>
      <description>code-server is a VSCode that runs on top of a server and can be accessed directly through a browser, VSCode is a modern code editor that supports Git, a code debugger, intelligent code hints, and various customizations and extensions. Next, we&amp;rsquo;ll go over how to run a VSCode on our Kubernetes cluster.
Installation First of all, of course, you need an installed Kubernetes cluster, and if you want to access our Cloud IDE via a domain name, you also need to prepare a domain name and an Ingress Controller to be installed in the cluster.</description>
    </item>
    
    <item>
      <title>Zero Downtime Rolling Update K8s</title>
      <link>https://www.sobyte.net/post/2021-12/zero-downtime-rolling-update-k8s/</link>
      <pubDate>Mon, 20 Dec 2021 21:42:55 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/zero-downtime-rolling-update-k8s/</guid>
      <description>The software world is evolving faster than ever, and the need to stay competitive requires new software releases as quickly as possible, without impacting users online. Many enterprises have migrated their workloads to Kubernetes clusters, which inherently take into account some production environment practices, but there are some additional things we need to do to make Kubernetes truly zero downtime without disruption or lost requests.
Rolling Updates By default, Kubernetes Deployment has a rolling update policy for Pod updates, which ensures that some instances are still running when the application is updated at any point in time to prevent the application from going down, and only kills the old Pod when the newly deployed Pod is up and ready to handle traffic.</description>
    </item>
    
    <item>
      <title>Deploying Spinnaker on Kubernetes</title>
      <link>https://www.sobyte.net/post/2021-12/deploy-spinnaker-on-k8s/</link>
      <pubDate>Fri, 17 Dec 2021 15:29:05 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/deploy-spinnaker-on-k8s/</guid>
      <description>Spinnaker is a continuous delivery platform, originally developed by Netflix, for releasing software changes quickly and reliably. Spinnaker makes it easier for developers to focus on writing code without worrying about the underlying cloud infrastructure, and it integrates seamlessly with Jenkins It integrates seamlessly with Jenkins and other popular build tools. I&amp;rsquo;ve been wanting to try Spinnaker for a long time, but I&amp;rsquo;ve tried many times without success due to</description>
    </item>
    
    <item>
      <title>Deploying Vault on Kubernetes</title>
      <link>https://www.sobyte.net/post/2021-12/deploy-vault-on-k8s/</link>
      <pubDate>Fri, 17 Dec 2021 15:09:31 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/deploy-vault-on-k8s/</guid>
      <description>Many times we may directly expose private information such as application passwords or API Token in the source code, which is obviously not a good way to expose such private information. The Kubernetes system provides a Secret object to store private data, but it is only a simple Base64 encoding, which is better than exposing it directly, but it is still not enough to use Secret directly for applications with</description>
    </item>
    
    <item>
      <title>Get the real access IP of the client</title>
      <link>https://www.sobyte.net/post/2021-12/get-client-realip/</link>
      <pubDate>Thu, 16 Dec 2021 17:53:13 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/get-client-realip/</guid>
      <description>Normally, when a client in the cluster connects to the service, the Pod supporting the service can get the IP address of the client, but when the connection is received through the node port, the source IP address of the packet will change because of the Source Network Address Translation (SNAT) performed on the packet, and the Pod on the backend cannot see the actual client IP, which is a problem for some applications, for example, the request log of nginx cannot get the exact IP of the client access.</description>
    </item>
    
    <item>
      <title>Describing Kubernetes Applications Using Programming Languages - cdk8s</title>
      <link>https://www.sobyte.net/post/2021-12/use-cdk8s-define-k8s-app/</link>
      <pubDate>Wed, 15 Dec 2021 22:46:34 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/use-cdk8s-define-k8s-app/</guid>
      <description>cdk8s is a new framework released by AWS Labs written in TypeScript that allows us to define resource lists for Kubernetes using a number of object-oriented programming languages. cdk8s also ends up generating native Kubernetes YAML files, so we can use cdk8s to define running Kubernetes application resources from anywhere. Introduction The concept of constructs is provided in cdk8s, and they are abstractions of Kubernetes resource objects (Deployment, Service, Ingress,</description>
    </item>
    
    <item>
      <title>Visually Create Kubernetes Microservice Applications</title>
      <link>https://www.sobyte.net/post/2021-12/visualize-kubernetes-app/</link>
      <pubDate>Wed, 15 Dec 2021 17:48:41 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/visualize-kubernetes-app/</guid>
      <description>Just found an awesome looking tool: icepanel that can be used to quickly create and visualize our Kubernetes microservice applications. It&amp;rsquo;s also very easy to use, you just need to install a VSCODE plugin.
Search for the plugin IcePanel in VSCODE and install it. Create a new empty workspace and in the bottom left corner you will see an Open IcePanel button, clicking on it will prompt us if we want to install the icepanel.</description>
    </item>
    
    <item>
      <title>Resolving CoreDNS custom domain name failure issues</title>
      <link>https://www.sobyte.net/post/2021-12/resolve-coredns-hosts-invalid/</link>
      <pubDate>Mon, 13 Dec 2021 16:23:50 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/resolve-coredns-hosts-invalid/</guid>
      <description>A few days ago we used NodeLocal DNSCache to solve the 5 second timeout problem with CoreDNS, and the cluster DNS resolution performance was significantly improved. However, today we encountered a major pitfall, when we were doing DevOps experiments, the tools were using custom domains, so we needed to add custom domain name resolution to access each other, which we could solve by adding hostAlias to Pods, but when using</description>
    </item>
    
    <item>
      <title>Log monitoring and alerting with Loki</title>
      <link>https://www.sobyte.net/post/2021-12/use-loki-monitor-alert/</link>
      <pubDate>Mon, 13 Dec 2021 16:05:54 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/use-loki-monitor-alert/</guid>
      <description>For a production environment and an aspiring ops person, even millisecond level downtime is not tolerated. Proper logging and monitoring of infrastructure and applications is very helpful in solving problems, and can also help optimize costs and resources, as well as help detect some problems that may occur later. In this article we will use the more lightweight Grafana Loki to implement log monitoring and alerting. The key thing is that if you are familiar with using Prometheus, you will have no problem using Loki, as they are basically the same, and have the same Label tag if they are auto-discovered in a Kubernetes cluster.</description>
    </item>
    
    <item>
      <title>Building a Kubernetes cluster with WSL2 on Windows</title>
      <link>https://www.sobyte.net/post/2021-12/deploy-k8s-on-win-use-wsl2/</link>
      <pubDate>Sun, 12 Dec 2021 17:54:23 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/deploy-k8s-on-win-use-wsl2/</guid>
      <description>In this article we&amp;rsquo;ll cover how to build a Kubernetes cluster using WSL2 and KinD under Windows 10. Over the past few years, Kubernetes has become the de facto standard in container orchestration. While there are now a variety of Kubernetes distributions and installers to deploy Kubernetes environments, we still need to deploy and run Kubernetes clusters locally, especially for developers, except in cloud or bare-metal environments. However, Kubernetes was</description>
    </item>
    
    <item>
      <title>Running Kubernetes in Kubernetes</title>
      <link>https://www.sobyte.net/post/2021-12/k8s-in-k8s/</link>
      <pubDate>Sun, 12 Dec 2021 17:46:19 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/k8s-in-k8s/</guid>
      <description>KinD is a very lightweight Kubernetes installation tool that treats Docker containers as Kubernetes nodes, making it very easy to use. Since you can run a Kubernetes cluster in a Docker container, it&amp;rsquo;s natural to wonder if you can run it in a Pod. What are the problems with running in a Pod?
Installing Docker Daemon in a Pod KinD is now dependent on Docker, so first we need to create an image that allows us to run Docker Deamon in the Pod, so that we can execute commands like docker run inside the Pod, but this is not the same as the DIND mode of mounting docker.</description>
    </item>
    
    <item>
      <title>PV and PVC state changes in Kubernetes</title>
      <link>https://www.sobyte.net/post/2021-12/status-in-pv-pvc/</link>
      <pubDate>Sun, 12 Dec 2021 17:37:14 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/status-in-pv-pvc/</guid>
      <description>We should not be unfamiliar with several states of PV and PVC, but we may have some questions in the process of using them, such as why the PV has become Failed state, how can the newly created PVC bind the previous PV, and can I restore the previous PV? Here we will explain several state changes in PV and PVC again. In different cases, the state changes of PV</description>
    </item>
    
    <item>
      <title>Encrypting Kubernetes Secrets with Sealed Secrets</title>
      <link>https://www.sobyte.net/post/2021-12/encrypt-k8s-secrets-with-sealed-secrets/</link>
      <pubDate>Sun, 12 Dec 2021 17:27:36 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/encrypt-k8s-secrets-with-sealed-secrets/</guid>
      <description>We&amp;rsquo;ve talked about GitOps practices before, and we know that GitOps advocates managing all of your configuration through Git and versioning your environment configuration and infrastructure through declarative code.
In Kubernetes, we know that you can use resource manifest files to manage a cluster&amp;rsquo;s resource objects, but it&amp;rsquo;s not a good idea to store Kubernetes Secrets data in a Git repository, which is also very insecure.
Kubernetes Secrets are resource objects used to help us store sensitive information, such as passwords, keys, certificates, OAuth Token, SSH KEY, etc.</description>
    </item>
    
    <item>
      <title>Excellent Grafana K8S Plugin - DevOpsProdigy KubeGraf</title>
      <link>https://www.sobyte.net/post/2021-12/grafana-k8s-plugin-kubegraf/</link>
      <pubDate>Sat, 11 Dec 2021 14:45:39 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/grafana-k8s-plugin-kubegraf/</guid>
      <description>DevOpsProdigy KubeGraf is an excellent Grafana Kubernetes plugin, an update to Grafana&amp;rsquo;s official Kubernetes Plugin. The plugin can be used to visualize and analyze the performance of a Kubernetes cluster, visually displaying the metrics and characteristics of the main services of the Kubernetes cluster through various graphs, and can also be used to examine the application lifecycle and error logs. Environment Requirements To install and use the DevOpsProdigy KubeGraf plugin</description>
    </item>
    
    <item>
      <title>Thoughts on k8s CPU limit and throttling</title>
      <link>https://www.sobyte.net/post/2021-12/myth-of-k8s-cpu-limit-and-throttle/</link>
      <pubDate>Mon, 06 Dec 2021 15:06:57 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-12/myth-of-k8s-cpu-limit-and-throttle/</guid>
      <description>You should be careful about setting the CPU limit for loads in k8s. A value that is too small can introduce extra, meaningless latency into your program, and a value that is too large can introduce too large a blast radius and weaken the overall stability of the cluster.
request and limit One of the major benefits of k8s is resource isolation. By setting the request and limit of the load, we can easily allow different programs to coexist on the right node.</description>
    </item>
    
    <item>
      <title>Kubernetes HPA Usage Explained</title>
      <link>https://www.sobyte.net/post/2021-11/k8s-hpa-usage/</link>
      <pubDate>Sun, 21 Nov 2021 20:21:02 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-11/k8s-hpa-usage/</guid>
      <description>In the previous study, we used a kubectl scale command to implement Pod scaling, but this is after all a completely manual operation. To this end, Kubernetes also provides us with such a resource object: Horizontal Pod Autoscaling, or HPA for short, which monitors and analyzes the load changes of all Pods controlled by some controllers to determine whether the number of copies of Pods needs to be adjusted. The</description>
    </item>
    
    <item>
      <title>Describing Kubernetes Applications Using Programming Languages - cdk8s</title>
      <link>https://www.sobyte.net/post/2021-11/use-cdk8s-define-k8s-apps/</link>
      <pubDate>Sun, 21 Nov 2021 20:08:53 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-11/use-cdk8s-define-k8s-apps/</guid>
      <description>cdk8s is a new framework released by AWS Labs written in TypeScript that allows us to define resource lists for Kubernetes using a number of object-oriented programming languages. cdk8s also ends up generating native Kubernetes YAML files, so we can use cdk8s to define running Kubernetes application resources from anywhere. Introduction The concept of constructs is provided in cdk8s, and they are abstractions of Kubernetes resource objects (Deployment, Service, Ingress,</description>
    </item>
    
    <item>
      <title>Running a highly available Kafka cluster on Kubernetes</title>
      <link>https://www.sobyte.net/post/2021-10/deploy-kafka-ha-on-k8s/</link>
      <pubDate>Tue, 19 Oct 2021 22:40:40 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-10/deploy-kafka-ha-on-k8s/</guid>
      <description>Apache Kafka is the most popular distributed messaging publish-subscribe system available today. While Kafka is very powerful, it is equally complex and requires a highly available and robust platform to run. In a world where microservices are prevalent and most companies are adopting distributed computing, it is still very advantageous to use Kafka as a core messaging system.
If you run your microservices in a Kubernetes cluster, it makes sense to run a Kafka cluster in Kubernetes to take advantage of its built-in resiliency and high availability, and we can easily interact with Kafka Pods within the cluster using the built-in Kubernetes service discovery.</description>
    </item>
    
    <item>
      <title>Illustrating Kubernetes Ingress</title>
      <link>https://www.sobyte.net/post/2021-10/visually-explained-k8s-ingress/</link>
      <pubDate>Sun, 10 Oct 2021 13:22:09 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-10/visually-explained-k8s-ingress/</guid>
      <description>Kubernetes Ingress is just a common resource object in Kubernetes that requires a corresponding Ingress Controller to resolve Ingress rules and expose the service to the outside, such as ingress-nginx, which is essentially just an Nginx Pod that then redirects requests to This Pod itself is also exposed through the Kubernetes service, most commonly through LoadBalancer.
Again, this article wants to give you a simple and clear overview of what&amp;rsquo;s behind Kubernetes Ingress to make it easier for you to understand the Ingress in use.</description>
    </item>
    
    <item>
      <title>Write a do-it-yourself Kubernetes YAML templating tool</title>
      <link>https://www.sobyte.net/post/2021-10/code-k8s-yaml-templating/</link>
      <pubDate>Sun, 10 Oct 2021 13:15:42 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-10/code-k8s-yaml-templating/</guid>
      <description>When we write resource manifest files with Kubernetes, we often use tools like Helm or Kustomize for templating, both to improve the flexibility of resource manifests and to really lower the threshold for installing complex Kubernetes applications. In this article we try to implement a YAML resource manifest file templating solution ourselves using Golang. Golang&amp;rsquo;s Templating Golang has a standard library text/template that supports templated text files. This library allows</description>
    </item>
    
    <item>
      <title>Understanding the Container Runtime Containerd in one article</title>
      <link>https://www.sobyte.net/post/2021-09/containerd-usage/</link>
      <pubDate>Mon, 27 Sep 2021 14:38:27 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-09/containerd-usage/</guid>
      <description>Before learning Containerd we need to do a brief review of Docker&amp;rsquo;s development history, because it involves a bit more components in practice, there are many we will often hear, but it is not clear what these components are really for, such as libcontainer, runc, containerd, CRI, OCI and so on. Docker Since Docker 1.11, Docker containers are not simply started by Docker Daemon, but by integrating containerd, runc and</description>
    </item>
    
    <item>
      <title>How to use the registry storage features</title>
      <link>https://www.sobyte.net/post/2021-09/skopeo-to-registry/</link>
      <pubDate>Thu, 16 Sep 2021 14:32:01 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-09/skopeo-to-registry/</guid>
      <description>I am currently responsible for the packaging and release of the company&amp;rsquo;s PaaS toB product. One of my daily tasks is to run the automated packaging pipeline, and then update the installation packages to the QA test environment. Since the packaging and testing environments are located in two different server rooms, the product installation packages need to be synchronized across the public network from the packaging machine to the QA</description>
    </item>
    
    <item>
      <title>Deploying a kubernetes cluster with Kubespray native development tests</title>
      <link>https://www.sobyte.net/post/2021-09/deploy-k8s-by-kubespray/</link>
      <pubDate>Mon, 13 Sep 2021 19:19:59 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-09/deploy-k8s-by-kubespray/</guid>
      <description>The company&amp;rsquo;s PaaS platform uses the open source kubespray for the underlying kubernetes cluster deployment, and I was involved in the kubespray second-opening work. During this period, I mainly completed kubespray automated packaging and release pipeline, private deployment, added self-research CNI deployment, and some bugfixes. I recently took time to organize and summarize some of the pitfalls of using kubespray to deploy kubernetes clusters for local development and testing. Prepare</description>
    </item>
    
    <item>
      <title>Using kubeplay to deploy a kubernetes cluster offline</title>
      <link>https://www.sobyte.net/post/2021-09/deploy-k8s-by-kubeplay/</link>
      <pubDate>Thu, 09 Sep 2021 14:03:53 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-09/deploy-k8s-by-kubeplay/</guid>
      <description>kubeplay is a tool for offline deployment of kuberneres clusters based on kubespray
Features  Includes all dependencies and can be installed offline with a single command Support amd64 and arm64 CPU architectures kubeadm-generated certificate validity adjusted to 10 years De-dockerized deployment, seamless migration to containerd as container runtime Offline installation of rpm/deb packages that the platform depends on (e.g. storage client) for toB privatization scenarios Multi-cluster deployment, with support for deploying kubernetes clusters as Job Pods within kubernetes clusters Build offline installers using GitHub Actions, no membership required, 100% open source 100% free  Component Versions    addon version Use     kubernetes v1.</description>
    </item>
    
    <item>
      <title>Compiling kubernetes components with GitHub Actions</title>
      <link>https://www.sobyte.net/post/2021-09/build-k8s-binary-by-github-actions/</link>
      <pubDate>Thu, 09 Sep 2021 13:27:58 +0800</pubDate>
      
      <guid>https://www.sobyte.net/post/2021-09/build-k8s-binary-by-github-actions/</guid>
      <description>When using kubernetes, you often have to modify the official k8s source code and recompile it due to certain needs. This article explains how to use GitHub Actions to compile and publish the generated binaries by modifying the kubeadm generation certificate to the default 10 years.
Build clone repo Fork the official kubernetes source code to your own repo
1 2 3 4 5 6  $ git clone https://github.com/k8sli/kubernetes.git $ cd kubernetes $ git remote add upstream https://github.</description>
    </item>
    
  </channel>
</rss>
