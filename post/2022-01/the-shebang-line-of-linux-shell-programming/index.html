<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>The shebang line of linux shell programming - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="You will often encounter shell scripts starting with #! /bin/bash, #! is called a shebang or hashbang. shebang plays an important role in shell scripting, especially when dealing with different types of shells.
In this tutorial we will explain what shebang is, how it plays a role in shell scripting. And how to specify an interpreter for shell scripts. We will use the two shells, bash and zsh, for comparison. All shell programming tutorials can be used in many Linux distributions such as Ubuntu, Debian, Fedora, Redhat, CentOS, Suse, Arch, Gentoo etc." /><meta name="keywords" content="shell, Shebang" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-01/the-shebang-line-of-linux-shell-programming/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="The shebang line of linux shell programming" />
<meta property="og:description" content="You will often encounter shell scripts starting with #! /bin/bash, #! is called a shebang or hashbang. shebang plays an important role in shell scripting, especially when dealing with different types of shells.
In this tutorial we will explain what shebang is, how it plays a role in shell scripting. And how to specify an interpreter for shell scripts. We will use the two shells, bash and zsh, for comparison. All shell programming tutorials can be used in many Linux distributions such as Ubuntu, Debian, Fedora, Redhat, CentOS, Suse, Arch, Gentoo etc." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-01/the-shebang-line-of-linux-shell-programming/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-18T13:28:47+08:00" />
<meta property="article:modified_time" content="2022-01-18T13:28:47+08:00" />

<meta itemprop="name" content="The shebang line of linux shell programming">
<meta itemprop="description" content="You will often encounter shell scripts starting with #! /bin/bash, #! is called a shebang or hashbang. shebang plays an important role in shell scripting, especially when dealing with different types of shells.
In this tutorial we will explain what shebang is, how it plays a role in shell scripting. And how to specify an interpreter for shell scripts. We will use the two shells, bash and zsh, for comparison. All shell programming tutorials can be used in many Linux distributions such as Ubuntu, Debian, Fedora, Redhat, CentOS, Suse, Arch, Gentoo etc."><meta itemprop="datePublished" content="2022-01-18T13:28:47+08:00" />
<meta itemprop="dateModified" content="2022-01-18T13:28:47+08:00" />
<meta itemprop="wordCount" content="947">
<meta itemprop="keywords" content="shell," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The shebang line of linux shell programming"/>
<meta name="twitter:description" content="You will often encounter shell scripts starting with #! /bin/bash, #! is called a shebang or hashbang. shebang plays an important role in shell scripting, especially when dealing with different types of shells.
In this tutorial we will explain what shebang is, how it plays a role in shell scripting. And how to specify an interpreter for shell scripts. We will use the two shells, bash and zsh, for comparison. All shell programming tutorials can be used in many Linux distributions such as Ubuntu, Debian, Fedora, Redhat, CentOS, Suse, Arch, Gentoo etc."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">The shebang line of linux shell programming</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-01-18 13:28:47 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 947 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#shebang-in-shell-scripts">shebang in shell scripts</a></li>
        <li><a href="#the-role-of-shebang-in-shell-scripts">The role of shebang in shell scripts</a>
          <ul>
            <li><a href="#the-importance-of-specifying-a-shell-interpreter-using-shebang">The importance of specifying a shell interpreter using shebang</a></li>
            <li><a href="#if-you-specify-a-shell-explicitly-shebang-will-be-ignored">If you specify a shell explicitly, shebang will be ignored</a></li>
          </ul>
        </li>
        <li><a href="#how-does-shebang-work">How does shebang work?</a></li>
        <li><a href="#conclusion">Conclusion</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>You will often encounter shell scripts starting with #! /bin/bash, <code>#!</code> is called a shebang or hashbang. shebang plays an important role in shell scripting, especially when dealing with different types of shells.</p>
<p>In this tutorial we will explain what shebang is, how it plays a role in shell scripting. And how to specify an interpreter for shell scripts. We will use the two shells, bash and zsh, for comparison. All shell programming tutorials can be used in many Linux distributions such as Ubuntu, Debian, Fedora, Redhat, CentOS, Suse, Arch, Gentoo etc.</p>
<h2 id="shebang-in-shell-scripts">shebang in shell scripts</h2>
<p>shebang is written with the well # and the exclamation mark ! . This character combination has a special meaning when used in the first line of a script. It is used to specify the interpreter that will run the specified script by default.</p>
<p>Thus, if the first line of a script is ! /bin/bash, this means that the interpreter should be the bash shell; if the first line is ! /bin/zsh, this means that the interpreter to be used is the Z shell.</p>
<p>Because # is used for comments in shell scripts, but in this case #! has a special meaning.</p>
<h2 id="the-role-of-shebang-in-shell-scripts">The role of shebang in shell scripts</h2>
<p>shebang is not mandatory for scripts. If you write a simple script like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nb">echo</span> <span class="s2">&#34;Namaste, folks!&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>and grant it execute permission and use the <code>.</code> operator, it will be run by the shell you used when you logged in, i.e. you are currently using the shell. so why do shell scripts include the <code>#!/bin/bash</code> line?</p>
<p>Because there are a variety of shells available for Linux and UNIX systems. While most of these shells have a common syntax, they do have different syntax or ways of handling different options.</p>
<p>This is why it becomes important to specify the correct shell interpreter in your scripts, otherwise certain scripts may produce different results when run in different shells. Let me show you this with a simple example.</p>
<h3 id="the-importance-of-specifying-a-shell-interpreter-using-shebang">The importance of specifying a shell interpreter using shebang</h3>
<p>I have written a sample shell script containing an array of Linux distributions. The second element of the distribution array is then printed on the second line of the script.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">distros</span><span class="o">=(</span><span class="s2">&#34;Ubuntu&#34;</span> <span class="s2">&#34;Fedora&#34;</span> <span class="s2">&#34;SUSE&#34;</span> <span class="s2">&#34;Debian&#34;</span><span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&#34;Distro at index 2 is: </span><span class="si">${</span><span class="nv">distros</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>At this point there is no shebang line added to specify any shell interpreter. This means that when I execute this script, it will be run by the default shell (in my case bash, echo $0 to print the shell currently in use).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">myfreax.com@swift:~$ <span class="nb">echo</span> <span class="nv">$0</span>
bash
</code></pre></td></tr></table>
</div>
</div><p>The output is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">myfreax.com@swift:~$ ./arrays.sh 
Distro at index <span class="m">2</span> is: SUSE
</code></pre></td></tr></table>
</div>
</div><p>Print SUSE at index 2, because in Bash and many other programming and scripting languages the array index starts at 0. But this is not the case in the Z shell. In the Z shell, the array index starts at 1.</p>
<p>We can install the Z shell on our own system, Linux allows multiple shells to exist at the same time, now we will add the shebang line to the script to specify that the default shell for the script is run by the Z shell.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/zsh
</span><span class="cp"></span>
<span class="nv">distros</span><span class="o">=(</span><span class="s2">&#34;Ubuntu&#34;</span> <span class="s2">&#34;Fedora&#34;</span> <span class="s2">&#34;SUSE&#34;</span> <span class="s2">&#34;Debian&#34;</span><span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&#34;Distro at index 2 is: </span><span class="si">${</span><span class="nv">distros</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>The output is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">myfreax.com@swift:~$ ./arrays.sh 
Distro at index <span class="m">2</span> is: Fedora
</code></pre></td></tr></table>
</div>
</div><p>Now you should notice the difference. It&rsquo;s the same script, but with the shebang line added but different.</p>
<p>This is why it is important to specify the correct shell interpreter with the shebang operator. As a system administrator, you may write shell scripts and remember a particular shell, whether it is bash, ksh or zsh, but you cannot be sure that the system on which the script will be run has the same default shell as your system.</p>
<h3 id="if-you-specify-a-shell-explicitly-shebang-will-be-ignored">If you specify a shell explicitly, shebang will be ignored</h3>
<p>because shebang specifies the shell interpreter that will run the script. However, you can explicitly specify the shell to run the script, but in this case the shebang line will be ignored.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">myfreax.com@swift:~$ bash ./arrays.sh
</code></pre></td></tr></table>
</div>
</div><h2 id="how-does-shebang-work">How does shebang work?</h2>
<p>When you use shebang in the first line of a script, you are telling the shell to run the script using the specified command. This is like, <code>#!/bin/zsh</code> is the equivalent of.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">/bin/zsh script_name
</code></pre></td></tr></table>
</div>
</div><p>You already know that if the first line of the script starts with shebang, this means that you specified the shell interpreter. This is only partially correct. But that&rsquo;s what shebang is for. Sometimes the shebang line doesn&rsquo;t have to have a shell executable. It can be anything.</p>
<p>For example, I replace <code>#!/bin/zsh</code> instead of <code>#!/bin/cat</code> and the cat command will become the shell&rsquo;s interpreter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/bin/cat
</span><span class="cp"></span>
<span class="nv">distros</span><span class="o">=(</span><span class="s2">&#34;Ubuntu&#34;</span> <span class="s2">&#34;Fedora&#34;</span> <span class="s2">&#34;SUSE&#34;</span> <span class="s2">&#34;Debian&#34;</span><span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&#34;Distro at index 2 is: </span><span class="si">${</span><span class="nv">distros</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>This means that the script will now be run with the <code>cat</code> command and the contents of the script will be displayed. It will output all the contents of the script. As long as it points to an executable command, it will work. If you put in some random command that doesn&rsquo;t exist, it will throw an error. I changed the shebang line to read</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="cp">#!/home/myfreax
</span></code></pre></td></tr></table>
</div>
</div><p>Obviously, it does not point to any command executable, so it will raise an interpreter error.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">myfreax.com@swift:~$ cat arrays.sh 
<span class="c1">#!/home/www.myfreax.com</span>

<span class="nv">distros</span><span class="o">=(</span><span class="s2">&#34;Ubuntu&#34;</span> <span class="s2">&#34;Fedora&#34;</span> <span class="s2">&#34;SUSE&#34;</span> <span class="s2">&#34;Debian&#34;</span><span class="o">)</span>
<span class="nb">echo</span> <span class="s2">&#34;Distro at index 2 is: </span><span class="si">${</span><span class="nv">distros</span><span class="p">[2]</span><span class="si">}</span><span class="s2">&#34;</span>
myfreax.com@swift:~$ ./arrays.sh 
bash: ./arrays.sh: /home/abhishek: bad interpreter: Permission denied
</code></pre></td></tr></table>
</div>
</div><h2 id="conclusion">Conclusion</h2>
<p>At this point, you have the role of the shebang line in the script. And you can specify any command in the shebang line.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/shell/">shell</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-01/timingwheel/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Time Wheel for Timed Tasks</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-01/3-ways-how-to-check-the-linux-kernel-version-in-the-command-line/">
            <span class="next-text nav-default">3 ways to check the Linux kernel version from the command line</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
