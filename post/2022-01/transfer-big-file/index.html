<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Linux LAN transfer of large files - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Today I need to copy a large file (about 20G) to my router&amp;rsquo;s hard drive. Usually people think of using the scp command. scp is short for ssh copy. I tried it and the speed is only 5M or so. It took almost an hour to finish copying, which was unbearable. So I looked into how to speed up the transfer speed.
So why is it slow? The main reason is that ssh encrypts üîê the communication content, the sender has to encrypt and the receiver has to decrypt." /><meta name="keywords" content="Transfer , TBigab, File, Local Area Network" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-01/transfer-big-file/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Linux LAN transfer of large files" />
<meta property="og:description" content="Today I need to copy a large file (about 20G) to my router&rsquo;s hard drive. Usually people think of using the scp command. scp is short for ssh copy. I tried it and the speed is only 5M or so. It took almost an hour to finish copying, which was unbearable. So I looked into how to speed up the transfer speed.
So why is it slow? The main reason is that ssh encrypts üîê the communication content, the sender has to encrypt and the receiver has to decrypt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-01/transfer-big-file/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-07T10:35:39+08:00" />
<meta property="article:modified_time" content="2022-01-07T10:35:39+08:00" />

<meta itemprop="name" content="Linux LAN transfer of large files">
<meta itemprop="description" content="Today I need to copy a large file (about 20G) to my router&rsquo;s hard drive. Usually people think of using the scp command. scp is short for ssh copy. I tried it and the speed is only 5M or so. It took almost an hour to finish copying, which was unbearable. So I looked into how to speed up the transfer speed.
So why is it slow? The main reason is that ssh encrypts üîê the communication content, the sender has to encrypt and the receiver has to decrypt."><meta itemprop="datePublished" content="2022-01-07T10:35:39+08:00" />
<meta itemprop="dateModified" content="2022-01-07T10:35:39+08:00" />
<meta itemprop="wordCount" content="403">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux LAN transfer of large files"/>
<meta name="twitter:description" content="Today I need to copy a large file (about 20G) to my router&rsquo;s hard drive. Usually people think of using the scp command. scp is short for ssh copy. I tried it and the speed is only 5M or so. It took almost an hour to finish copying, which was unbearable. So I looked into how to speed up the transfer speed.
So why is it slow? The main reason is that ssh encrypts üîê the communication content, the sender has to encrypt and the receiver has to decrypt."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Linux LAN transfer of large files</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-01-07 10:35:39 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 403 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <p>Today I need to copy a large file (about 20G) to my router&rsquo;s hard drive. Usually people think of using the scp command. scp is short for ssh copy. I tried it and the speed is only 5M or so. It took almost an hour to finish copying, which was unbearable. So I looked into how to speed up the transfer speed.</p>
<p>So why is it slow? The main reason is that ssh encrypts üîê the communication content, the sender has to encrypt and the receiver has to decrypt. But my receiver is a used ASUS AC1900P with dual-core 1.4G main frequency, which does not support AES hard decryption. So when decrypting ssh data, it&rsquo;s more difficult. The slow speed is also normal. So we need to find a way to transfer without encryption. In fact, my home LAN can be seen as a secure environment, and encrypted transmission is really unnecessary.</p>
<p>There are many ways to transmit in clear text. For example, you can use http protocol, or you can use ftp protocol. However, general http servers do not support uploading files by default, and ftp servers are even more difficult to configure. The easiest way is to use <a href="http://netcat.sourceforge.net/">netcat</a>.</p>
<p>netcat is very powerful and can perform simple network communication.</p>
<p>After installing netcat you need to wait on the receiving end to receive the file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">nc -l -p <span class="m">1234</span> &gt; bak.tgz
</code></pre></td></tr></table>
</div>
</div><p><code>nc</code> is the command for netcat, a few platforms need to write it as <code>netcat</code>. <code>-l</code> is the port to listen on, waiting for data to be received. <code>-p 1234</code> is the port number to listen on, here we are listening on port <code>1234</code>. followed by <code>&gt; bak.tgz</code> means that the received data will be redirected to the <code>bak.tgz</code> file. Without this redirection, netcat will output the received data to stdout.</p>
<p>Next you can send the transport set on the sender side.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">nc 192.168.1.1 <span class="m">1234</span> &lt; bak.tgz
</code></pre></td></tr></table>
</div>
</div><p><code>nc</code> is followed by the IP and port number of the receiving end. Then <code>&lt; bak.tgz</code> is another redirect, meaning that the contents of the <code>bak.tgz</code> file are piped to <code>nc</code>. <code>nc</code> will first establish a tcp connection with the receiver, and then pass the entire file slowly.</p>
<p>I tried it myself, and the transfer speed was stable at around 30M. Considering that I have a mechanical hard drive, plus the network loss and CPU operation, this is not a bad speed.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/2022-01/iptables-rule-order/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">About iptables release port invalid issue</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-01/go-map-concurrent-misue/">
            <span class="next-text nav-default">Concurrency safety for Go language maps</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
