<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>OpenSUSE Usage Guide - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="openSUSE is an RPM-based distribution, which is in line with RHEL/CentOS. But its official package manager is a proprietary zypper, which works quite well, and the software is quite new. I recently switched from Manjaro to openSUSE and found that the KDE desktop is indeed smoother than Manjaro and the community source OBS experience is more comfortable than AUR. Especially for containers/Kubernetes, the source is richer than AUR and is" /><meta name="keywords" content="opensuse" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-01/opensuse-instruction/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="OpenSUSE Usage Guide" />
<meta property="og:description" content="openSUSE is an RPM-based distribution, which is in line with RHEL/CentOS. But its official package manager is a proprietary zypper, which works quite well, and the software is quite new. I recently switched from Manjaro to openSUSE and found that the KDE desktop is indeed smoother than Manjaro and the community source OBS experience is more comfortable than AUR. Especially for containers/Kubernetes, the source is richer than AUR and is" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-01/opensuse-instruction/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-01-09T10:00:07+08:00" />
<meta property="article:modified_time" content="2022-01-09T10:00:07+08:00" />

<meta itemprop="name" content="OpenSUSE Usage Guide">
<meta itemprop="description" content="openSUSE is an RPM-based distribution, which is in line with RHEL/CentOS. But its official package manager is a proprietary zypper, which works quite well, and the software is quite new. I recently switched from Manjaro to openSUSE and found that the KDE desktop is indeed smoother than Manjaro and the community source OBS experience is more comfortable than AUR. Especially for containers/Kubernetes, the source is richer than AUR and is"><meta itemprop="datePublished" content="2022-01-09T10:00:07+08:00" />
<meta itemprop="dateModified" content="2022-01-09T10:00:07+08:00" />
<meta itemprop="wordCount" content="1831">
<meta itemprop="keywords" content="opensuse," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OpenSUSE Usage Guide"/>
<meta name="twitter:description" content="openSUSE is an RPM-based distribution, which is in line with RHEL/CentOS. But its official package manager is a proprietary zypper, which works quite well, and the software is quite new. I recently switched from Manjaro to openSUSE and found that the KDE desktop is indeed smoother than Manjaro and the community source OBS experience is more comfortable than AUR. Especially for containers/Kubernetes, the source is richer than AUR and is"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">OpenSUSE Usage Guide</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-01-09 10:00:07 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1831 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#zyppers-basic-commands">zypper&rsquo;s basic commands</a></li>
        <li><a href="#install-softwares">Install Softwares</a>
          <ul>
            <li><a href="#ide--programming-language">IDE + programming language</a></li>
            <li><a href="#containers--kubernetes">Containers + Kubernetes</a></li>
            <li><a href="#office-music-chat">Office, music, chat</a></li>
            <li><a href="#install-input-method">Install input method</a></li>
            <li><a href="#qemukvm">QEMU/KVM</a></li>
            <li><a href="#kde-connect">KDE Connect</a></li>
            <li><a href="#qv2ray-proxy">Qv2ray Proxy</a></li>
            <li><a href="#vpn-connection-with-firewall">VPN connection with firewall</a></li>
          </ul>
        </li>
        <li><a href="#other-settings">Other settings</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>openSUSE is an RPM-based distribution, which is in line with RHEL/CentOS. But its official package manager is a proprietary zypper, which works quite well, and the software is quite new.</p>
<p>I recently switched from Manjaro to openSUSE and found that the KDE desktop is indeed smoother than Manjaro and the community source OBS experience is more comfortable than AUR.</p>
<p>Especially for containers/Kubernetes, the source is richer than AUR and is officially maintained. This article is a summary of the migration process.</p>
<blockquote>
<p>This article is based on openSUSE Tumbleweed, which is a rolling distribution like Manjaro/Arch, with newer sources. Most users in the openSUSE community use Tumbleweed. It also has better hardware compatibility than openSUSE Leap (stable version) - I tested a Xiaomi gaming notebook with Leap installed and the Touchpad would not work after hibernation.</p>
</blockquote>
<h2 id="zyppers-basic-commands">zypper&rsquo;s basic commands</h2>
<p>zypper&rsquo;s source is slow in China, but actually when downloading, zypper will intelligently select the fastest mirror source to download the package, such as the domestic Tsinghua source, etc.</p>
<p>But I found that the official source index is too slow to update, and even often fails. So there is no way, or have to manually set the mirror source: the</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 禁用原有的官方软件源</span>
sudo zypper mr --disable repo-oss repo-non-oss repo-update repo-update-non-oss repo-debug
<span class="c1"># 添加北外镜像源</span>
sudo zypper ar -fcg https://mirrors.bfsu.edu.cn/opensuse/tumbleweed/repo/oss/ bfsu-oss
sudo zypper ar -fcg https://mirrors.bfsu.edu.cn/opensuse/tumbleweed/repo/non-oss/ bfsu-non-oss
</code></pre></td></tr></table>
</div>
</div><p>Then there are the usual zypper commands.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">sudo zypper refresh  <span class="c1"># refresh all repos</span>
sudo zypper update   <span class="c1"># update all softwares</span>

sudo zypper search --installed-only  &lt;package-name&gt;  <span class="c1"># 查找本地安装的程序</span>
sudo zypper search &lt;package-name&gt;  <span class="c1"># 查找本地和软件源中的程序</span>

sudo zypper install &lt;package-name&gt;  <span class="c1"># 安装程序</span>
sudo zypper remove --clean-deps &lt;package-name&gt;  <span class="c1"># 卸载程序，注意添加 --clean-deps 或者 -u，否则不会卸载依赖项！</span>

sudo zypper clean  <span class="c1"># 清理本地的包缓存</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="install-softwares">Install Softwares</h2>
<blockquote>
<p>Here you need to use <a href="https://mirrors.opensuse.org/list/bs.html">OBS (Open Build Service, similar to arch&rsquo;s AUR, but a pre-compiled package)</a>, because there are too many OBS things, so there is no complete domestic mirror, the average speed is about 300kb/s. The average speed is about 300kb/s. It is recommended to add a smart proxy on the router to speed up.</p>
</blockquote>
<p>Install all kinds of software you need:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 启用 Packman 仓库，使用北交镜像源</span>
sudo zypper ar -cfp <span class="m">90</span> <span class="s1">&#39;https://mirror.bjtu.edu.cn/packman/suse/openSUSE_Tumbleweed/&#39;</span> packman-bjtu

<span class="c1"># install video player and web browser</span>
sudo zypper install mpv ffmpeg-4 chromium firefox

<span class="c1"># install screenshot and other utils</span>
<span class="c1"># 安装好后可以配个截图快捷键 alt+a =&gt; `flameshot gui`</span>
sudo zypper install flameshot peek nomacs

<span class="c1"># install git clang/make/cmake</span>
sudo zypper install git gcc clang make cmake

<span class="c1"># install wireshark</span>
sudo zypper install wireshark
sudo gpasswd --add <span class="nv">$USER</span> wireshark  <span class="c1">#  将你添加到 wireshark 用户组中</span>

</code></pre></td></tr></table>
</div>
</div><h3 id="ide--programming-language">IDE + programming language</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># install vscode: https://en.openSUSE.org/Visual_Studio_Code</span>
sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc
sudo zypper addrepo https://packages.microsoft.com/yumrepos/vscode vscode
sudo zypper refresh
sudo zypper install code

<span class="c1"># 安装 dotnet 5: https://docs.microsoft.com/en-us/dotnet/core/install/linux-openSUSE#openSUSE-15-</span>
sudo rpm --import https://packages.microsoft.com/keys/microsoft.asc
sudo zypper addrepo https://packages.microsoft.com/openSUSE/15/prod/ microsoft-prod
sudo zypper refresh
sudo zypper install dotnet-sdk-5.0

<span class="c1"># 安装新版本的 go（源中的版本比较低，更建议从 go 官网下载安装）</span>
sudo zypper install go

</code></pre></td></tr></table>
</div>
</div><p>Installation via tarball/script.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># rustup，rust 环境管理器</span>
curl --proto <span class="s1">&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs <span class="p">|</span> sh

<span class="c1"># jetbrains toolbox app，用于安装和管理 pycharm/idea/goland/android studio 等 IDE</span>
<span class="c1"># 参见：https://www.jetbrains.com/toolbox-app/</span>

<span class="c1"># 不使用系统 python，改用 miniconda 装 python3.8</span>
<span class="c1"># 参考：https://github.com/ContinuumIO/docker-images/blob/master/miniconda3/debian/Dockerfile</span>
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -O /tmp/miniconda.sh
sudo /bin/bash /tmp/miniconda.sh -b -p /opt/conda
rm /tmp/miniconda.sh
sudo /opt/conda/bin/conda clean -tipsy
sudo ln -s /opt/conda/etc/profile.d/conda.sh /etc/profile.d/conda.sh
<span class="nb">echo</span> <span class="s2">&#34;. /opt/conda/etc/profile.d/conda.sh&#34;</span> &gt;&gt; ~/.bashrc
<span class="nb">echo</span> <span class="s2">&#34;conda activate base&#34;</span> &gt;&gt; ~/.bashrc
<span class="c1"># miniconda 的 entrypoint 默认安装在如下目录，添加到 PATH 中</span>
<span class="nb">echo</span> <span class="s2">&#34;export PATH=\$PATH:\$HOME/.local/bin&#34;</span> &gt;&gt; ~/.bashrc

</code></pre></td></tr></table>
</div>
</div><p>Next, install the VSCode plugins, the following is my list of plugins.</p>
<ol>
<li>Language:
<ol>
<li>python/go/rust/c#/julia/flutter</li>
<li>xml/yaml/toml</li>
<li>vscode proto3</li>
</ol>
</li>
<li>ansible/terraform</li>
<li>markdown all in one + Markdown Preview Enhanced</li>
<li>Beautification.
<ol>
<li>community material theme</li>
<li>vscode icons</li>
<li>glasslt-vsc</li>
</ol>
</li>
<li>docker/kubernetes</li>
<li>IntelliJ IDEA Keybindings</li>
<li>gitlens</li>
<li>prettier</li>
<li>utils
<ol>
<li>comment translate</li>
<li>path intellisense</li>
<li>svg</li>
<li>visual studio intellicode</li>
</ol>
</li>
<li>antlr4</li>
<li>remote ssh + remote containers</li>
<li>rest client</li>
<li>vscode databases</li>
</ol>
<h3 id="containers--kubernetes">Containers + Kubernetes</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 时髦的新容器套装: https://documentation.suse.com/sles/15-SP2/html/SLES-all/cha-podman-overview.html</span>
sudo zypper in podman kompose skopeo buildah katacontainers
<span class="c1"># 安装 kubernetes 相关工具，tumbleweed 官方仓库的包都非常新！很舒服</span>
sudo zypper in helm k9s kubernetes-client

<span class="c1"># 本地测试目前还是 docker-compose 最方便，docker 仍有必要安装</span>
sudo zypper in docker
sudo gpasswd --add <span class="nv">$USER</span> docker
sudo systemctl <span class="nb">enable</span> docker
sudo systemctl start docker

<span class="c1"># 简单起见，直接用 pip 安装 docker-compose 和 podman-compose</span>
sudo pip install docker-compose podman-compose

</code></pre></td></tr></table>
</div>
</div><h3 id="office-music-chat">Office, music, chat</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 添加 openSUSE_zh 源：https://build.opensuse.org/project/show/home:opensuse_zh</span>
sudo zypper addrepo <span class="s1">&#39;https://download.opensuse.org/repositories/home:/opensuse_zh/openSUSE_Tumbleweed&#39;</span> openSUSE_zh
sudo zypper refresh
sudo zypper install wps-office netease-cloud-music

<span class="c1"># linux qq: https://im.qq.com/linuxqq/download.html</span>
<span class="c1"># 虽然简陋但也够用，发送文件比 KDE Connect 要方便一些。</span>
sudo rpm -ivh linux_qq.rpm

</code></pre></td></tr></table>
</div>
</div><h3 id="install-input-method">Install input method</h3>
<p>The input method I&rsquo;m using is Xiaohe phonetic, first install fcitx-rime:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 添加 m17n obs 源：https://build.openSUSE.org/repositories/M17N</span>
sudo zypper addrepo <span class="s1">&#39;https://download.opensuse.org/repositories/M17N/openSUSE_Tumbleweed&#39;</span> m17n
sudo zypper refresh
sudo zypper install fcitx5 fcitx5-configtool fcitx5-qt5 fcitx5-rime

</code></pre></td></tr></table>
</div>
</div><p>Then, download the latest mouse whiskers (MacOS) configuration file from <code>http://flypy.ys168.com/</code>, and copy the unpacked rime folder to ~/.local/share/fcitx5/ under.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">mv rime ~/.local/share/fcitx5/

</code></pre></td></tr></table>
</div>
</div><p>Now reboot the system and add rime &ldquo;Zhongzhou rhyme&rdquo; inside the fcitx5 configuration, and you can use Xiaohe phonetic form normally.</p>
<h3 id="qemukvm">QEMU/KVM</h3>
<p>I have to say, openSUSE installation of KVM is really super convenient, pure GUI operation:.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># see: https://doc.openSUSE.org/documentation/leap/virtualization/html/book-virt/cha-vt-installation.html</span>
sudo yast2 virtualization
<span class="c1"># enter to terminal ui, select kvm + kvm tools, and then install it.</span>

</code></pre></td></tr></table>
</div>
</div><h3 id="kde-connect">KDE Connect</h3>
<p>KDE Connect is a PC phone collaboration tool that allows you to share clippings, remote input, send files, share folders, sync notifications, etc. between your computer and phone. All in all it works very well, as long as the phone and PC are on the same LAN, no data cable is needed.</p>
<p>If you choose to open the firewall when you install the system, KDE Connect cannot be connected, you need to open the port number manually.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># see: https://userbase.kde.org/KDEConnect#firewalld</span>
<span class="c1"># 还可以使用 --add-source=xx.xx.xx.xx/xx 设置 ip 白名单</span>
sudo firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span>1714-1764/tcp
sudo firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span>1714-1764/udp
sudo systemctl restart firewalld.service

</code></pre></td></tr></table>
</div>
</div><p>Then install KDE Connect on your phone (Android) and start enjoying it.</p>
<p>Current bugs:</p>
<ul>
<li>Android 10 disables background apps from reading the clipboard, which causes KDE Connect to only sync from PC to phone, but not reverse.
<ul>
<li>If you have ROOT permission, you can refer to <a href="https://szclsya.me/posts/android/fix-clipboard-android-10/">Fix clipboard permission on Android 10</a> and install ClipboardWhitelist to open the permission.</li>
<li>Otherwise, it seems that you can only use the &ldquo;Remote Input&rdquo; module on the phone to transfer text manually.</li>
</ul>
</li>
</ul>
<h3 id="qv2ray-proxy">Qv2ray Proxy</h3>
<p>Qv2ray is one of the better GUI proxy tools I&rsquo;ve used, supporting all common proxy protocols via plugins.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># see: https://build.openSUSE.org/repositories/home:zzndb</span>
sudo zypper addrepo <span class="s1">&#39;https://download.opensuse.org/repositories/home:/zzndb/openSUSE_Tumbleweed&#39;</span> qv2ray
sudo zypper refresh
sudo zypper install Qv2ray QvPlugin-Trojan QvPlugin-SS

</code></pre></td></tr></table>
</div>
</div><h3 id="vpn-connection-with-firewall">VPN connection with firewall</h3>
<p>The firewall disables ports for vpn protocols such as pptp by default, you need to open them manually.</p>
<p>PPTP protocol is allowed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># 允许 gre 数据包流入网络</span>
sudo firewall-cmd --permanent --zone<span class="o">=</span>public --direct --add-rule ipv4 filter INPUT <span class="m">0</span> -p gre -j ACCEPT
sudo firewall-cmd --permanent --zone<span class="o">=</span>public --direct --add-rule ipv6 filter INPUT <span class="m">0</span> -p gre -j ACCEPT

<span class="c1"># masquerade: 自动使用 interface 地址伪装所有流量（将主机当作路由器使用，vpn 是虚拟网络，需要这个功能）</span>
sudo firewall-cmd --permanent --zone<span class="o">=</span>public --add-masquerade
<span class="c1"># pptp 客户端使用固定端口 1723/tcp 通信</span>
firewall-cmd --add-port<span class="o">=</span>1723/tcp --permanent

sudo firewall-cmd --reload

</code></pre></td></tr></table>
</div>
</div><p>The wireguard protocol is allowed. This protocol only uses the tcp protocol, and the port number can be customized. However, wireguard&rsquo;s own configuration file <code>/etc/wireguard/xxx.conf</code> can be configured with iptables parameters to release the relevant ports, so we won&rsquo;t go into that here.</p>
<h2 id="other-settings">Other settings</h2>
<p>You can change this in &ldquo;System Settings&rdquo; - &ldquo;Workspace Behavior&rdquo; - &ldquo;General Behavior&rdquo; - &ldquo;Click Behavior&rdquo;.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/opensuse/">opensuse</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-01/websocket-http2-and-grpc/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">WebSocket, HTTP/2 and gRPC</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-01/xquic/">
            <span class="next-text nav-default">Ali&#39;s own standardized protocol library XQUIC officially open source!</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
