<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>How to build your own react hooks - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="With the new API for hooks added in React v16.8.0, it&amp;rsquo;s important to understand how to use it and be able to write a few custom hooks for our business. 1. One of the commonly used hooks There are several built-in hooks officially provided, let&amp;rsquo;s have a brief look at their usage. 1.1 useState: State hooks If we need to update the state of the page, we can put it" /><meta name="keywords" content="react, build own, Hooks" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-02/self-react-hooks/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="How to build your own react hooks" />
<meta property="og:description" content="With the new API for hooks added in React v16.8.0, it&rsquo;s important to understand how to use it and be able to write a few custom hooks for our business. 1. One of the commonly used hooks There are several built-in hooks officially provided, let&rsquo;s have a brief look at their usage. 1.1 useState: State hooks If we need to update the state of the page, we can put it" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-02/self-react-hooks/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-21T09:31:47+08:00" />
<meta property="article:modified_time" content="2022-02-21T09:31:47+08:00" />

<meta itemprop="name" content="How to build your own react hooks">
<meta itemprop="description" content="With the new API for hooks added in React v16.8.0, it&rsquo;s important to understand how to use it and be able to write a few custom hooks for our business. 1. One of the commonly used hooks There are several built-in hooks officially provided, let&rsquo;s have a brief look at their usage. 1.1 useState: State hooks If we need to update the state of the page, we can put it"><meta itemprop="datePublished" content="2022-02-21T09:31:47+08:00" />
<meta itemprop="dateModified" content="2022-02-21T09:31:47+08:00" />
<meta itemprop="wordCount" content="1902">
<meta itemprop="keywords" content="react," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to build your own react hooks"/>
<meta name="twitter:description" content="With the new API for hooks added in React v16.8.0, it&rsquo;s important to understand how to use it and be able to write a few custom hooks for our business. 1. One of the commonly used hooks There are several built-in hooks officially provided, let&rsquo;s have a brief look at their usage. 1.1 useState: State hooks If we need to update the state of the page, we can put it"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">How to build your own react hooks</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-02-21 09:31:47 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1902 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#1-one-of-the-commonly-used-hooks">1. One of the commonly used hooks</a></li>
            <li><a href="#2-implement-a-few-custom-hooks">2. implement a few custom hooks</a></li>
            <li><a href="#3-summary">3. Summary</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>With the new API for hooks added in React v16.8.0, it&rsquo;s important to understand how to use it and be able to write a few custom hooks for our business.</p>
<h3 id="1-one-of-the-commonly-used-hooks">1. One of the commonly used hooks</h3>
<p>There are several built-in hooks officially provided, let&rsquo;s have a brief look at their usage.</p>
<h4 id="11-usestate-state-hooks">1.1 useState: State hooks</h4>
<p>If we need to update the state of the page, we can put it into the <code>useState</code> hook. For example, a click on a button will add 1 to the data.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

<span class="k">return</span> <span class="p">(</span><span class="o">&lt;&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span> <span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span><span class="o">&gt;</span> <span class="nx">add</span> <span class="mi">1</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="o">&lt;</span><span class="err">/&gt;</span>
<span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>In the typescript system, the type of count is, by default, the type of the current initial value, for example, the variable in the above example is of type <code>number</code>. If we want to customize the type of this variable, we can define it after useState.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">&lt;</span><span class="nt">number</span> <span class="err">|</span> <span class="na">null</span><span class="p">&gt;(</span><span class="kc">null</span><span class="p">);</span> <span class="c1">// 变量count为number类型或者null类型
</span></code></pre></td></tr></table>
</div>
</div><p>Also, when using useState to change the state, the entire state is replaced, so if the state variable is an object type data and I only want to change one of the fields, it will automatically merge the data internally when setState is called from within the previous class component.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">class</span> <span class="nx">Home</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
    <span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;wenzi&#39;</span><span class="p">,</span>
        <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
        <span class="nx">score</span><span class="o">:</span> <span class="mi">89</span>
    <span class="p">};</span>

    <span class="nx">update</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
            <span class="nx">score</span><span class="o">:</span> <span class="mi">98</span>
        <span class="p">});</span> <span class="c1">// 内部自动合并
</span><span class="c1"></span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>However, when using <code>useState</code> within a function component, you need to merge the data yourself before calling the method, otherwise the fields will be lost.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="p">[</span><span class="nx">person</span><span class="p">,</span> <span class="nx">setPerson</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;wenzi&#39;</span><span class="p">,</span>
    <span class="nx">age</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="nx">score</span><span class="o">:</span> <span class="mi">89</span>
<span class="p">});</span>

<span class="nx">setPerson</span><span class="p">({</span>
    <span class="p">...</span><span class="nx">person</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="nx">score</span><span class="o">:</span> <span class="mi">98</span>
    <span class="p">}</span>
<span class="p">});</span> <span class="c1">// 先合并数据 { name: &#39;wenzi&#39;, age: 20, score: 98 }
</span><span class="c1"></span><span class="nx">setPerson</span><span class="p">({</span>
    <span class="nx">score</span><span class="o">:</span> <span class="mi">98</span>
<span class="p">});</span> <span class="c1">// 仅传入要修改的字段，后name和age字段丢失
</span></code></pre></td></tr></table>
</div>
</div><h4 id="12-useeffect-side-effect-hooks">1.2 useEffect: Side effect hooks</h4>
<p>useEffect can be thought of as a combination of the functions componentDidMount, componentDidUpdate and componentWillUnmount.</p>
<p>The useEffect hook must be executed once when the component is initialized, and it depends on the 2nd parameter passed in whether or not the component will be updated during the re-rendering process.</p>
<ol>
<li>when there is only one argument to the callback function, the callback is executed for each update of the component.</li>
<li>when there are 2 parameters, the callback is executed only when the data in the 2nd parameter changes.</li>
<li>to be executed only once when the component has been initialized, the second parameter can be passed to an empty array.</li>
</ol>
<p>We can see in this example that the useEffect callback is executed whether the <code>add button</code> or the <code>settime button</code> is clicked.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">nowtime</span><span class="p">,</span> <span class="nx">setNowtime</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;nowtime&#39;</span><span class="p">,</span> <span class="nx">nowtime</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="p">(</span> <span class="o">&lt;&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">count</span><span class="o">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span> <span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">nowtime</span><span class="o">:</span> <span class="p">{</span><span class="nx">nowtime</span><span class="p">}</span> <span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span><span class="o">&gt;</span> <span class="nx">add</span> <span class="mi">1</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setNowtime</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">())}</span> <span class="o">&gt;</span> <span class="nx">set</span> <span class="nx">now</span> <span class="nx">time</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="o">&lt;</span><span class="err">/&gt;);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>If you change it like this, the callback will be output in the console only when the count changes, and not when the nowtime value is changed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;nowtime&#39;</span><span class="p">,</span> <span class="nx">nowtime</span><span class="p">);</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">count</span><span class="p">]);</span>
</code></pre></td></tr></table>
</div>
</div><p>The useEffect callback function can also return a function that is called before the end of the effect&rsquo;s life cycle. To prevent memory leaks, the clear function is executed before the component is unloaded. Also, <strong>if the component is rendered multiple times, the previous effect is cleared before the next effect is executed</strong>.</p>
<p>Based on the above code, let&rsquo;s modify it a bit.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="nx">count</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;nowtime&#39;</span><span class="p">,</span> <span class="nx">nowtime</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;effect callback will be cleared&#39;</span><span class="p">);</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">count</span><span class="p">]);</span>
</code></pre></td></tr></table>
</div>
</div><p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/21/af21985b0bde42da838f81d93ecafb1c.png" alt="sobyte"></p>
<p>Based on this mechanism, it is particularly suitable for cases where there is a need to add and remove bindings, such as listening to page window size changes, setting timers, establishing and disconnecting from the back-end websocket interface, etc. A secondary wrapping of useEffect can be expected to form a custom hook.</p>
<h4 id="13-usememo-and-usecallback">1.3 useMemo and useCallback</h4>
<p>The variables and methods defined in the function component are re-calculated when the component is re-rendered, as in the following example.</p>
<p>Translated with <a href="http://www.DeepL.com/Translator">www.DeepL.com/Translator</a> (free version)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">nowtime</span><span class="p">,</span> <span class="nx">setNowtime</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="kr">const</span> <span class="nx">getSum</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">sum</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">count</span><span class="p">)</span> <span class="o">*</span> <span class="nx">count</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">sum</span> <span class="o">+</span> <span class="s1">&#39; , &#39;</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span> <span class="c1">// 这个random是为了看到区别
</span><span class="c1"></span>    <span class="p">};</span>

    <span class="k">return</span> <span class="p">(</span> <span class="o">&lt;&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="nx">count</span><span class="o">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span> <span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="nx">sum</span><span class="o">:</span> <span class="p">{</span><span class="nx">getSum</span><span class="p">()}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="nx">nowtime</span><span class="o">:</span> <span class="p">{</span><span class="nx">nowtime</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span> <span class="o">&gt;</span> <span class="nx">add</span> <span class="mi">1</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setNowtime</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">())}</span><span class="o">&gt;</span> <span class="nx">set</span> <span class="nx">now</span> <span class="nx">time</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="o">&lt;</span><span class="err">/&gt;);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>There are 2 buttons here, one for count+1 and one for setting the current timestamp. The <code>getSun()</code> method calculates the sum from 1 to count, and the sum method will recalculate the sum every time we click the add button. However, when we click the settime button, the getSum method will also recalculate, which is not necessary.</p>
<p>Here we can use <code>useMemo</code> to change it.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">sum</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">count</span><span class="p">)</span> <span class="o">*</span> <span class="nx">count</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="s1">&#39; , &#39;</span> <span class="o">+</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">(),</span> <span class="p">[</span><span class="nx">count</span><span class="p">]);</span>

<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="p">{</span><span class="nx">sum</span><span class="p">}</span> <span class="o">&lt;</span><span class="err">/p&gt;;</span>
</code></pre></td></tr></table>
</div>
</div><p><a href="https://www.xiabingbao.com/demos/20191118/react-useMemo.html">click for sample</a>. Once modified, you can see that the sum value is only recalculated when the count changes, but not when the settime button is clicked. This is thanks to the <code>useMemo</code> hook feature.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">memoizedValue</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">computeExpensiveValue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]);</span>
</code></pre></td></tr></table>
</div>
</div><p>useMemo returns the value returned in the callback, and memoizedValue it is only recalculated when a dependency changes. This optimization helps to avoid high overhead calculations at each rendering. If an array of dependencies is not provided, useMemo will compute the new value each time it renders.</p>
<p>In the above example, sum is only recalculated when the count variable changes, otherwise the value of sum remains the same.</p>
<p>useCallback is the same type as useMemo, except that useCallback returns a function, e.g.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">fn</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">((</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">count</span><span class="p">)</span> <span class="o">*</span> <span class="nx">count</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="s1">&#39; , &#39;</span> <span class="o">+</span> <span class="nx">nowtime</span><span class="p">;</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">count</span><span class="p">]);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="2-implement-a-few-custom-hooks">2. implement a few custom hooks</h3>
<p>In the official documentation, the online and offline functionality for friends is implemented. Here we also learn to implement a few hooks ourselves.</p>
<h4 id="21-get-the-width-and-height-of-the-window-change">2.1 Get the width and height of the window change</h4>
<p>We listen to the <code>resize</code> event to get the width and height of the window in real time, and encapsulate this method to automatically unbind the resize event before the end of its lifecycle.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">useWinResize</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">size</span><span class="p">,</span> <span class="nx">setSize</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span>
        <span class="nx">width</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span>
        <span class="nx">height</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientHeight</span>
    <span class="p">});</span>
    <span class="kr">const</span> <span class="nx">resize</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">setSize</span><span class="p">({</span>
        <span class="nx">width</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span>
        <span class="nx">height</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">clientHeight</span>
    <span class="p">})</span>
    <span class="p">},</span> <span class="p">[])</span>
    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="nx">resize</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span> <span class="nx">resize</span><span class="p">);</span>
    <span class="p">},</span> <span class="p">[]);</span>
    <span class="k">return</span> <span class="nx">size</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>It is also very easy to use.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">{</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">}</span> <span class="o">=</span> <span class="nx">useWinResize</span><span class="p">();</span>

    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">width</span><span class="o">:</span> <span class="p">{</span><span class="nx">width</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">height</span><span class="o">:</span> <span class="p">{</span><span class="nx">height</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>Click on the link <a href="https://www.xiabingbao.com/demos/20191115/react-useWinResize.html">use of useWinResize</a> to see the demo demonstration.</p>
<h4 id="22-timer-useinterval">2.2 Timer useInterval</h4>
<p>When using a timer in a front-end, you usually have to clear the timer before the end of the component&rsquo;s life cycle, and if the timer&rsquo;s period has changed, you also have to clear the timer before restarting it according to the new period. The most common scenario of this kind is the nine-gallery lottery, where the user clicks to start the lottery, then starts slowly, then gradually gets faster, and after the interface returns the winning result, then starts to slow down and finally stops.</p>
<p>It&rsquo;s easy to think of using <code>useEffect</code> to implement such a hook.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">useInterval</span> <span class="o">=</span> <span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">delay</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">delay</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">delay</span><span class="p">);</span>
            <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">delay</span><span class="p">]);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>Let&rsquo;s try this code in our project.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">Home</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="nx">useInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">count</span><span class="p">);</span>
        <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
    <span class="p">},</span> <span class="mi">500</span><span class="p">);</span>

    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="o">&gt;</span> <span class="p">{</span>
        <span class="nx">count</span>
    <span class="p">}</span> <span class="o">&lt;</span> <span class="err">/div&gt;;</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>The output of <code>console.log(count)</code> indicates that the code is not stuck, so what&rsquo;s the problem?</p>
<p>The props and states in React components can change, and React re-renders them and &ldquo;discards&rdquo; any results from the last rendering, so they are no longer relevant to each other.</p>
<p>The useEffect() Hook also &ldquo;discards&rdquo; the result of the previous rendering, it clears the previous effect and creates the next effect, which locks in the new props and state, which is why our first attempt at a simple example worked correctly.</p>
<p>But setInterval doesn&rsquo;t &ldquo;throw away&rdquo;. It keeps referring to the old props and state until you replace it &ndash; which you can&rsquo;t do without resetting the time.</p>
<p>Here&rsquo;s where the <a href="https://zh-hans.reactjs.org/docs/hooks-reference.html#useref">useRef</a> hook comes in. We store the callback in the ref and update the value of <code>ref.current</code> is updated when the callback is updated.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">useInterval</span> <span class="o">=</span> <span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">delay</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">saveCallback</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">();</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="c1">// 每次渲染后，保存新的回调到我们的 ref 里
</span><span class="c1"></span>        <span class="nx">saveCallback</span><span class="p">.</span><span class="nx">current</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>
    <span class="p">});</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kd">function</span> <span class="nx">tick</span><span class="p">()</span> <span class="p">{</span>
            <span class="nx">saveCallback</span><span class="p">.</span><span class="nx">current</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">delay</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">tick</span><span class="p">,</span> <span class="nx">delay</span><span class="p">);</span>
            <span class="k">return</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">delay</span><span class="p">]);</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>When we use the new <code>useInterval</code>, we find that it is self-increasing, click for a sample <a href="https://www.xiabingbao.com/demos/20191115/react-useInterval.html">simple use of useInterval</a>.</p>
<p>Here we use a variable to control the rate of increase.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="kr">const</span> <span class="p">[</span><span class="nx">diff</span><span class="p">,</span> <span class="nx">setDiff</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span>

<span class="nx">useInterval</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">},</span> <span class="nx">diff</span><span class="p">);</span>

<span class="k">return</span> <span class="p">(</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="nx">count</span><span class="o">:</span> <span class="p">{</span><span class="nx">count</span><span class="p">}</span> <span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span> <span class="nx">diff</span><span class="o">:</span> <span class="p">{</span><span class="nx">diff</span><span class="p">}</span><span class="nx">ms</span> <span class="o">&lt;</span><span class="err">/p&gt; </span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setDiff</span><span class="p">(</span><span class="nx">diff</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)}</span><span class="o">&gt;</span> <span class="nx">加快50ms</span> <span class="o">&lt;</span><span class="err">/button&gt; </span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span> <span class="o">=</span> <span class="p">{()</span> <span class="p">=&gt;</span> <span class="nx">setDiff</span><span class="p">(</span><span class="nx">diff</span> <span class="o">+</span> <span class="mi">50</span><span class="p">)}</span> <span class="o">&gt;</span> <span class="nx">减慢50ms</span> <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="o">&lt;</span><span class="err">/p&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;);</span>
</code></pre></td></tr></table>
</div>
</div><p>Click the two buttons separately to adjust the rate of count increase.</p>
<h3 id="3-summary">3. Summary</h3>
<p>There are a lot of interesting things you can do with react hook, here we just give a few simple examples, we will also go deeper into the principle of hook.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/react/">react</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-02/method-swizzling/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">IOS Method Swizzling Usage Pitfalls</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-02/node-multiprocessing/">
            <span class="next-text nav-default">Multiprocessing and daemons in nodejs</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
