<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>How to properly open Linux gui programs in SSH terminal - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Windows systems use mostly GUI programs, with a few command line programs (such as netstat). Linux, on the other hand, uses mostly command-line programs, but also has gui programs (such as jvisualvm). But sometimes opening a gui program in Linux will report an error, and sometimes there is no problem. This article explores what the X Window System is and how to properly open Linux gui programs in ssh terminal." /><meta name="keywords" content="ssh, linux, gui program" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-02/how-ssh-terminal-open-linux-gui-program/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="How to properly open Linux gui programs in SSH terminal" />
<meta property="og:description" content="Windows systems use mostly GUI programs, with a few command line programs (such as netstat). Linux, on the other hand, uses mostly command-line programs, but also has gui programs (such as jvisualvm). But sometimes opening a gui program in Linux will report an error, and sometimes there is no problem. This article explores what the X Window System is and how to properly open Linux gui programs in ssh terminal." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-02/how-ssh-terminal-open-linux-gui-program/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-14T10:53:13+08:00" />
<meta property="article:modified_time" content="2022-02-14T10:53:13+08:00" />

<meta itemprop="name" content="How to properly open Linux gui programs in SSH terminal">
<meta itemprop="description" content="Windows systems use mostly GUI programs, with a few command line programs (such as netstat). Linux, on the other hand, uses mostly command-line programs, but also has gui programs (such as jvisualvm). But sometimes opening a gui program in Linux will report an error, and sometimes there is no problem. This article explores what the X Window System is and how to properly open Linux gui programs in ssh terminal."><meta itemprop="datePublished" content="2022-02-14T10:53:13+08:00" />
<meta itemprop="dateModified" content="2022-02-14T10:53:13+08:00" />
<meta itemprop="wordCount" content="1709">
<meta itemprop="keywords" content="ssh,linux," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to properly open Linux gui programs in SSH terminal"/>
<meta name="twitter:description" content="Windows systems use mostly GUI programs, with a few command line programs (such as netstat). Linux, on the other hand, uses mostly command-line programs, but also has gui programs (such as jvisualvm). But sometimes opening a gui program in Linux will report an error, and sometimes there is no problem. This article explores what the X Window System is and how to properly open Linux gui programs in ssh terminal."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">How to properly open Linux gui programs in SSH terminal</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-02-14 10:53:13 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1709 words </span>
          <span class="more-meta"> 9 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#1-introduction">1. Introduction</a></li>
            <li><a href="#2-linux-gui-programs-and-window-system">2. linux gui programs and Window System</a></li>
            <li><a href="#3-open-linux-gui-programs-with-microsoft-vcxsrv">3. Open Linux gui programs with Microsoft VcXsrv</a></li>
            <li><a href="#4-summary">4. Summary</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Windows systems use mostly GUI programs, with a few command line programs (such as netstat). Linux, on the other hand, uses mostly command-line programs, but also has gui programs (such as jvisualvm). But sometimes opening a gui program in Linux will report an error, and sometimes there is no problem. This article explores what the X Window System is and how to properly open Linux gui programs in ssh terminal.</p>
<h3 id="1-introduction">1. Introduction</h3>
<p>In my work, I came across the localized Damon database, which provides a graphical management tool <code>manager</code>. It is easy to open the management tool for Damon installed on Windows, you can find the <code>manager</code> management tool directly in <code>Start-&gt;All Programs</code>; while for Damon installed on Linux, you need to find the <code>tool</code> directory in the installation location ( For example, the full path <code>/home/dmdba/dmdbms/tool</code>) and execute <code>. /manager</code>, and if you are lucky, you will be able to bring up the Damon manager GUI.</p>
<p>The reason why I say here: <strong>if you are lucky</strong> you will be able to bring up the Damon manager GUI is that connecting to the same Damon server can sometimes open the manager management tool successfully in a Linux SSH terminal, and sometimes it will report an error. For example, if you use <code>putty</code> to connect to the Damon database server and execute <code>. /manager</code> will report an error; using <code>MobaXterm</code> to connect to the server and executing <code>. /manager</code> to the server, and it will successfully pull it out.</p>
<blockquote>
<p>In fact, before understanding <code>DISPLAY SERVER</code>, we didn&rsquo;t find out that connecting with different SSH clients is the difference between success and failure of opening Damon manager tool. Here in advance, open Damon manager with <code>putty</code> and <code>MobaXterm</code> respectively, the former fails and the latter succeeds because the latter comes with <code>X DISPLAY SERVER</code> and opens <code>X Forwarding</code> function.</p>
</blockquote>
<p>The phenomenon is that sometimes the graphical management tool of the manager can be opened from different SSH terminals, and sometimes it fails (background error). What is the problem?</p>
<p>To abstract the problem a bit, the Damon manager running on Linux is actually a Linux gui program, so the question is <strong>how to open the Linux gui program correctly on SSH terminal?</strong> After some inquiries, I found that it is a blind spot of knowledge <code>DISPLAY SERVER</code>.</p>
<h3 id="2-linux-gui-programs-and-window-system">2. linux gui programs and Window System</h3>
<p>What is the relationship between the graphical presentation of Linux gui programs and the <code>Window System</code>?</p>
<h4 id="21-window-system">2.1 Window System</h4>
<p>It is easy to open graphical applications on Windows systems because the graphical capabilities of Win programs are written in the kernel (Microsoft discovered the great commercial value of graphical interfaces after the DOC system and later developed operating systems that support graphical content at the kernel level). Linux (or POSIX) systems that want to support graphical interface programs need <code>Window System</code> (one of the philosophies of Unix systems is that a tool does one thing and does it well, so graphical displays are architecturally decoupled and independent as well).</p>
<p>The <code>Window System</code> is a gui that implements the window, icon, menu, and pixel-dot paradigms, and most of the familiar Unix operating systems use the <code>X Window System</code>, and Apple&rsquo;s <code>OSX</code> system uses the <code>Quartz Compositor</code> Window System.</p>
<blockquote>
<p>Note that <code>Window System</code> here is not <code>Windows System</code> and is not related to Microsoft windows.</p>
</blockquote>
<h4 id="22-display-server">2.2 DISPLAY SERVER</h4>
<p>The core of the <code>Window System</code> is the <code>DISPLAY SERVER</code> (also called window server, compositor). A program that calls <code>DISPLAY SERVER</code> to display a graphical representation is called a client (<strong>client</strong>) of that <code>DISPLAY SERVER</code>.</p>
<p>There is both a <strong>client</strong> (a gui program that calls the <code>DISPLAY SERVER</code> service) and a <strong>server</strong> (the <code>DISPLAY SERVER</code>), and their interaction involves a protocol, which is called the <strong>display server protocol</strong>. The current protocol used by the <code>X DISPLAY SERVER</code> of the <code>X Window System</code> is <code>X 11</code> (11 means version).</p>
<p>The main function of <code>DISPLAY SERVER</code> is to coordinate input and output between the operating system, hardware and other modules and the gui application, providing an abstraction on top of the graphical hardware for use by higher-level graphical interfaces such as <code>window manager</code>.</p>
<h4 id="23-how-linux-gui-programs-present-graphical-interfaces">2.3 How Linux gui programs present graphical interfaces</h4>
<p>The Window System is designed to be hierarchical, which reflects the design philosophy of the Unix system. The <code>Window System</code> graphical call architecture is as follows.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/14/25cad50e46d448e0a906f914b6075650.png" alt="Window System"></p>
<p>As you can see, <code>DISPLAY SERVER</code> is the heart of the <code>Window System</code>. When you open a gui program on Linux, it calls the <code>DISPLAY SERVER</code> graphical display service. At this point <code>DISPLAY SERVER</code> is the server, and the gui program is the client. Here there is a difference with our usual understanding, we usually think that the server is on the remote side and the client is on the local side, here the call of <code>DISPLAY SERVER</code> service is the other way around (the remote side calls the local side, that is, the GUI program calls <code>DISPLAY SERVER</code>).</p>
<p>So where exactly is <code>DISPLAY SERVER</code> located locally?</p>
<p>It could be in your local Linux operating system, or it could be manually installed in Windows (which doesn&rsquo;t have a display server service by default), or it could be provided by a built-in ssh client tool (such as MobaXterm), etc. But all in all, if you want to start Linux gui locally, you must have the <code>DISPLAY SERVER</code> service locally.</p>
<p>How does the Linux gui program find the <code>DISPLAY SERVER</code> service?</p>
<p>The environment variables in the program startup look for the service address set by <code>DISPLAY</code>. For example.</p>
<p><code>EXPORT DISPLAY=:0.0</code> means that the local <code>DISPLAY SERVER</code> service is called on port <code>127.0.0.1:6000</code>.</p>
<p><code>EXPORT DISPLAY=:10.0</code> means the local <code>DISPLAY SERVER</code> service is invoked on port <code>127.0.0.1:6010</code>.</p>
<p><code>EXPORT DISPLAY=172.26.18.37:3600.0</code> means call the non-local (but local) <code>DISPLAY SERVER</code> on port <code>172.26.18.37:9600</code>.</p>
<blockquote>
<p>By &ldquo;local&rdquo;, we mean the host set by the environment variable, which may be a local host, a local virtual machine, or an <code>ssh</code> remote remote host. &ldquo;Local&rdquo; refers to the local host.</p>
</blockquote>
<p>The actual <code>DISPLAY SERVER</code> service listens on port number is the first number <code>+6000</code> after setting the environment variable <code>:</code>, as in <code>:3600.0</code> above the actual service listens on port <code>6000 + 3600 --&gt; 9600</code>. After configuring the <code>DISPLAY</code> environment variable, you can use <code>xhost +</code> to verify and disable the Access Control restrictions.</p>
<blockquote>
<p>Some Linux servers see <code>echo $DISPLAY</code> set to <code>:0.0</code>, but can&rsquo;t find the corresponding X SERVER listening service via <code>netstat -nalp |grep 60000</code>, so the X SERVER can only open the local gui program normally, remote other host and configure the current machine <code>export DISPLAY=x.x.x.x:0.0</code> of the DISPLAY attribute does not tune through the X SERVER service. If the local X service is listening through the port view, the remote host configuring the local X SERVER is able to invoke the X SERVER service and open the gui program.</p>
</blockquote>
<p>X11 Forwarding and DISPLAY environment variable settings are two concepts; DISPLAY is telling your environment where to call the X SERVER service, while X11 Forwarding can forward the locally configured DISPLAY SERVICE to the X SERVER where the Forwarding service is started.</p>
<p>When using <code>MobaXterm</code> to connect to a remote server, this <code>ssh</code> client automatically starts an <code>X DISPLAY SERVER</code> service and turns on <code>X11 Forwarding</code> to ensure that you always have the Linux GUI program open correctly. This is why the two <code>ssh</code> client tools have different results when opening the same Linux GUI application, as mentioned at the beginning of the article.</p>
<p>The common <code>DISPLAY SERVER</code> is as follows.</p>
<ul>
<li>X.Org server (mostly for unix like)</li>
<li>Wayland (mostly for unix like)</li>
<li>Mir (mostly for unix like)</li>
<li>SurfaceFlinger (This is for Google Android)</li>
<li>Quartz Compositor (This is what Apple MacOS uses)</li>
<li>Desktop Window Manager (This is what Microsoft Windows uses)</li>
</ul>
<h3 id="3-open-linux-gui-programs-with-microsoft-vcxsrv">3. Open Linux gui programs with Microsoft VcXsrv</h3>
<p>Windows graphics are supported by kernel programs, so Windows does not have <code>DISPLAY SERVER</code> by default. If we remote Linux machines and open Linux gui programs locally in Win, we need to install DISPLAY SERVER, the <code>DISPLAY SERVER</code> used here is <code>X DISPLAY SERVER</code> or called <code>X SERVER</code>.</p>
<p>Windows often use X SERVER are <code>XManager</code>, <code>MobaXterm X SERVER</code>, <code>XMing</code> and so on. <code>MobaXterm</code> starts an X SERVER on the local port <code>6000</code> by default (port 6000 is also the default port for X protocol:0) and enables the X Forwarding feature. When remoteing Linux from windows via ssh and starting a gui program, the kernel will call the <code>DISPLAY</code> service configured in the environment variables to draw the GUI, the value of <code>DISPLAY</code> is written as <code>IP:PORTOFFSET:0.0</code> and will access the X service of <code>IP:6000+PORTOFFSET</code>. . Let&rsquo;s experiment.</p>
<p>A remote virtual machine with the full JDK installed, open <code>jvisualvm</code>, and without the <code>DISPLAY</code> environment variable set, will report the error.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/14/3db1e1f51360406b8219911da0016a98.png" alt="jvisualvm"></p>
<p>Install VcXsrv Windows X Server on a Windows 10 system, open and configure <code>display num</code> to <code>3600</code> and <code>Access Control</code> to <code>disable</code> after installation, as shown here.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/14/b0566fef8b104456ab502293811de769.png" alt="Install VcXsrv Windows X Server"></p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/14/7d1bd77054ba40219857b13d62767801.png" alt="Install VcXsrv Windows X Server"></p>
<p>Set <code>export DISPLAY=$HOST:3600.0</code> on the virtual machine and reopen <code>jvisualvm</code>.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/02/14/50a0cedcc3a64f3d833bc6a11690c78e.png" alt="jvisualvm"></p>
<p>At this point you can successfully open <code>jvisualvm</code>, a linux gui application.</p>
<blockquote>
<p>Here <code>$HOST</code> is the IP of the Windows where VcXsrv is installed, make sure that port <code>9600</code> is connected to the virtual machine. The port <code>DISPLAY NUM</code> is customizable, here it is set to <code>3600</code> because the local <code>9600</code> port and the virtual machine are connected.</p>
</blockquote>
<h3 id="4-summary">4. Summary</h3>
<p>The graphical presentation of gui programs on Unix-like systems requires the support of the <code>Window System</code> service, the core of which is the <code>DISPLAY SERVER</code>. When a graphical gui program is opened, <code>DISPLAY SERVER</code> acts as the local called server, and the gui program exists as a local or remote client caller, and the two communicate through the <code>display protocol</code>. gui programs get the <code>DISPLAY SERVER</code> address to be called through the program startup environment variable <code>DISPLAY</code>. The default value is <code>:0.0</code>, which means that the local <code>DISPLAY SERVER</code> is called.</p>
<p>Note that.</p>
<ol>
<li>the port between the graphical gui program and the local <code>DISPLAY SERVER</code> service must be connected (if there is a firewall restriction, the service call will fail).</li>
<li>After you configure <code>export DISPALY=x.x.x.x</code> correctly, but the gui application starts with an error that <code>*.so</code> library is missing, then there may be a difference in the library version. Command: <code>ln -s /lib64/libxxx.so.6 /lib64/libxxx.so</code> Create a softlink from <code>/lib64/libxxx.so.6</code> to <code>/lib64/libxxx.so</code>.</li>
</ol>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/ssh/">ssh</a>
          <a href="/tags/linux/">linux</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-02/netty-startup-process/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Netty startup process analysis</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-02/realityos-hints-in-apple-logs-n-code/">
            <span class="next-text nav-default">Apple&#39;s new operating system &#34;realityOS&#34; revealed</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
