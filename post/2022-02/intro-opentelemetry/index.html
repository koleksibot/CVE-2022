<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Getting Started with OpenTelemetry - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Previously, OpenTelemetry officially entered the Beta phase, which marked the formalization of the basic OpenTelemetry model to begin integrating OpenTelemetry into applications and client libraries to capture application-level metrics and distributed traces. Introduction to OpenTelemetry This section focuses on what OpenTelemetry is, or you can skip this section if you already know it. Observability is one of the very important metrics for software. the OpenTelemetry project provides a set of" /><meta name="keywords" content="Opentelemetry" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-02/intro-opentelemetry/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Getting Started with OpenTelemetry" />
<meta property="og:description" content="Previously, OpenTelemetry officially entered the Beta phase, which marked the formalization of the basic OpenTelemetry model to begin integrating OpenTelemetry into applications and client libraries to capture application-level metrics and distributed traces. Introduction to OpenTelemetry This section focuses on what OpenTelemetry is, or you can skip this section if you already know it. Observability is one of the very important metrics for software. the OpenTelemetry project provides a set of" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-02/intro-opentelemetry/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-02-07T13:19:41+08:00" />
<meta property="article:modified_time" content="2022-02-07T13:19:41+08:00" />

<meta itemprop="name" content="Getting Started with OpenTelemetry">
<meta itemprop="description" content="Previously, OpenTelemetry officially entered the Beta phase, which marked the formalization of the basic OpenTelemetry model to begin integrating OpenTelemetry into applications and client libraries to capture application-level metrics and distributed traces. Introduction to OpenTelemetry This section focuses on what OpenTelemetry is, or you can skip this section if you already know it. Observability is one of the very important metrics for software. the OpenTelemetry project provides a set of"><meta itemprop="datePublished" content="2022-02-07T13:19:41+08:00" />
<meta itemprop="dateModified" content="2022-02-07T13:19:41+08:00" />
<meta itemprop="wordCount" content="767">
<meta itemprop="keywords" content="opentelemetry," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting Started with OpenTelemetry"/>
<meta name="twitter:description" content="Previously, OpenTelemetry officially entered the Beta phase, which marked the formalization of the basic OpenTelemetry model to begin integrating OpenTelemetry into applications and client libraries to capture application-level metrics and distributed traces. Introduction to OpenTelemetry This section focuses on what OpenTelemetry is, or you can skip this section if you already know it. Observability is one of the very important metrics for software. the OpenTelemetry project provides a set of"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Getting Started with OpenTelemetry</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-02-07 13:19:41 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 767 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#introduction-to-opentelemetry">Introduction to OpenTelemetry</a></li>
        <li><a href="#opentelemetry-in-action">OpenTelemetry in action</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Previously, <a href="https://opentelemetry.io/">OpenTelemetry</a> officially <a href="https://medium.com/opentelemetry/opentelemetry-is-officially-in-beta-352fa859db10">entered the Beta phase</a>, which marked the formalization of the basic OpenTelemetry model to begin integrating OpenTelemetry into applications and client libraries to capture application-level metrics and distributed traces.</p>
<h2 id="introduction-to-opentelemetry">Introduction to OpenTelemetry</h2>
<p>This section focuses on what OpenTelemetry is, or you can skip this section if you already know it.</p>
<p>Observability is one of the very important metrics for software. the OpenTelemetry project provides a set of language-specific APIs, SDKs, agents and other components that can be used to collect distributed traces, metrics and related application Metadata from applications. with OpenTelemetry, developers can start from almost zero to OpenTelemetry can be used not only as a distributed tracking tool, but also as a related tool for metrics collection. Supported backend stores include Prometheus, Jaeger, Zipkin, Azure Monitor, Dynatrace, Google Cloud Monitoring + Trace, Honeycomb, Lightstep, New Relic, and Splunk, among others.</p>
<p>The OpenTelemetry project was created as a convergence of OpenTracing and OpenCensus into the CNCF sandbox project. One of the goals for the OpenTelemetry project is that it is compatible with OpenTracing and OpenCensus.</p>
<h2 id="opentelemetry-in-action">OpenTelemetry in action</h2>
<p>OpenTelemetry supports a variety of backends, so to simplify the demonstration, we will start with the simplest standard output as the backend output, and use Go language for the examples.</p>
<p>Suppose we have created a Go Module-based project called demo. Next, create the corresponding main.go:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
	<span class="s">&#34;context&#34;</span>
	<span class="s">&#34;log&#34;</span>

	<span class="s">&#34;go.opentelemetry.io/otel/api/global&#34;</span>
	<span class="s">&#34;go.opentelemetry.io/otel/exporters/trace/stdout&#34;</span>
	<span class="nx">sdktrace</span> <span class="s">&#34;go.opentelemetry.io/otel/sdk/trace&#34;</span>
<span class="p">)</span>

<span class="kd">func</span> <span class="nf">initTracer</span><span class="p">()</span> <span class="p">{</span>
	<span class="nx">exporter</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">stdout</span><span class="p">.</span><span class="nf">NewExporter</span><span class="p">(</span><span class="nx">stdout</span><span class="p">.</span><span class="nx">Options</span><span class="p">{</span><span class="nx">PrettyPrint</span><span class="p">:</span> <span class="kc">true</span><span class="p">})</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="nx">tp</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">sdktrace</span><span class="p">.</span><span class="nf">NewProvider</span><span class="p">(</span><span class="nx">sdktrace</span><span class="p">.</span><span class="nf">WithConfig</span><span class="p">(</span><span class="nx">sdktrace</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span><span class="nx">DefaultSampler</span><span class="p">:</span> <span class="nx">sdktrace</span><span class="p">.</span><span class="nf">AlwaysSample</span><span class="p">()}),</span>
		<span class="nx">sdktrace</span><span class="p">.</span><span class="nf">WithSyncer</span><span class="p">(</span><span class="nx">exporter</span><span class="p">))</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>
	<span class="c1">// 设置全局
</span><span class="c1"></span>	<span class="nx">global</span><span class="p">.</span><span class="nf">SetTraceProvider</span><span class="p">(</span><span class="nx">tp</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="nf">initTracer</span><span class="p">()</span>
	<span class="nx">tracer</span> <span class="o">:=</span> <span class="nx">global</span><span class="p">.</span><span class="nf">Tracer</span><span class="p">(</span><span class="s">&#34;4async.com/demo&#34;</span><span class="p">)</span>

	<span class="nx">tracer</span><span class="p">.</span><span class="nf">WithSpan</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="s">&#34;foo&#34;</span><span class="p">,</span>
		<span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
			<span class="nx">tracer</span><span class="p">.</span><span class="nf">WithSpan</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;bar&#34;</span><span class="p">,</span>
				<span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
					<span class="nx">tracer</span><span class="p">.</span><span class="nf">WithSpan</span><span class="p">(</span><span class="nx">ctx</span><span class="p">,</span> <span class="s">&#34;baz&#34;</span><span class="p">,</span>
						<span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
							<span class="k">return</span> <span class="kc">nil</span>
						<span class="p">},</span>
					<span class="p">)</span>
					<span class="k">return</span> <span class="kc">nil</span>
				<span class="p">},</span>
			<span class="p">)</span>
			<span class="k">return</span> <span class="kc">nil</span>
		<span class="p">},</span>
	<span class="p">)</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><p>After running the above program, we can get the corresponding tracing information output in the standard output.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
        <span class="nt">&#34;SpanContext&#34;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&#34;TraceID&#34;</span><span class="p">:</span> <span class="s2">&#34;9495716100dbdd51e77edda2d39d8f28&#34;</span><span class="p">,</span>
                <span class="nt">&#34;SpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;c9e68a06fbe116e0&#34;</span><span class="p">,</span>
                <span class="nt">&#34;TraceFlags&#34;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="nt">&#34;ParentSpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;e3e88597058566b3&#34;</span><span class="p">,</span>
        <span class="nt">&#34;SpanKind&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;baz&#34;</span><span class="p">,</span>
        <span class="nt">&#34;StartTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.497818+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;EndTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.497821142+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;Attributes&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;MessageEvents&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;Links&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;StatusCode&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;StatusMessage&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;HasRemoteParent&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&#34;DroppedAttributeCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedMessageEventCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedLinkCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;ChildSpanCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;Resource&#34;</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
<span class="p">{</span>
        <span class="nt">&#34;SpanContext&#34;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&#34;TraceID&#34;</span><span class="p">:</span> <span class="s2">&#34;9495716100dbdd51e77edda2d39d8f28&#34;</span><span class="p">,</span>
                <span class="nt">&#34;SpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;e3e88597058566b3&#34;</span><span class="p">,</span>
                <span class="nt">&#34;TraceFlags&#34;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="nt">&#34;ParentSpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;db446b6a4e579c04&#34;</span><span class="p">,</span>
        <span class="nt">&#34;SpanKind&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;bar&#34;</span><span class="p">,</span>
        <span class="nt">&#34;StartTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.497817+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;EndTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.498188044+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;Attributes&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;MessageEvents&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;Links&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;StatusCode&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;StatusMessage&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;HasRemoteParent&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&#34;DroppedAttributeCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedMessageEventCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedLinkCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;ChildSpanCount&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;Resource&#34;</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
<span class="p">{</span>
        <span class="nt">&#34;SpanContext&#34;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&#34;TraceID&#34;</span><span class="p">:</span> <span class="s2">&#34;9495716100dbdd51e77edda2d39d8f28&#34;</span><span class="p">,</span>
                <span class="nt">&#34;SpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;db446b6a4e579c04&#34;</span><span class="p">,</span>
                <span class="nt">&#34;TraceFlags&#34;</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="nt">&#34;ParentSpanID&#34;</span><span class="p">:</span> <span class="s2">&#34;0000000000000000&#34;</span><span class="p">,</span>
        <span class="nt">&#34;SpanKind&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;Name&#34;</span><span class="p">:</span> <span class="s2">&#34;foo&#34;</span><span class="p">,</span>
        <span class="nt">&#34;StartTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.497813+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;EndTime&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-03-31T10:53:55.498301313+08:00&#34;</span><span class="p">,</span>
        <span class="nt">&#34;Attributes&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;MessageEvents&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;Links&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&#34;StatusCode&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;StatusMessage&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="nt">&#34;HasRemoteParent&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&#34;DroppedAttributeCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedMessageEventCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;DroppedLinkCount&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&#34;ChildSpanCount&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&#34;Resource&#34;</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><p>Here we can quickly sort out the call links with the help of <code>TraceID</code>, <code>SpanID</code> and <code>ParentSpanID</code>.</p>
<p>Of course, in practice it is not possible to trace in this way in a real project, and we usually have a special system for storing and displaying trace information. So you can quickly replace the <code>go.opentelemetry.io/otel/exporters/trace/stdout</code> content with the corresponding backend storage you need by modifying the corresponding <code>go.opentelemetry.io/otel/exporters/trace/stdout</code> content in the above program, for example, if we use the Jaeger backend online, then refer to <code>go.opentelemetry.io/ otel/exporters/trace/jaeger</code> and modify the initTracer() method to quickly replace it.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="c1">// initTracer creates a new trace provider instance and registers it as global trace provider.
</span><span class="c1"></span><span class="kd">func</span> <span class="nf">initTracer</span><span class="p">()</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
	<span class="c1">// Create and install Jaeger export pipeline
</span><span class="c1"></span>	<span class="nx">_</span><span class="p">,</span> <span class="nx">flush</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">jaeger</span><span class="p">.</span><span class="nf">NewExportPipeline</span><span class="p">(</span>
		<span class="nx">jaeger</span><span class="p">.</span><span class="nf">WithCollectorEndpoint</span><span class="p">(</span><span class="s">&#34;http://localhost:14268/api/traces&#34;</span><span class="p">),</span>
		<span class="nx">jaeger</span><span class="p">.</span><span class="nf">WithProcess</span><span class="p">(</span><span class="nx">jaeger</span><span class="p">.</span><span class="nx">Process</span><span class="p">{</span>
			<span class="nx">ServiceName</span><span class="p">:</span> <span class="s">&#34;trace-demo&#34;</span><span class="p">,</span>
			<span class="nx">Tags</span><span class="p">:</span> <span class="p">[]</span><span class="nx">core</span><span class="p">.</span><span class="nx">KeyValue</span><span class="p">{</span>
				<span class="nx">key</span><span class="p">.</span><span class="nf">String</span><span class="p">(</span><span class="s">&#34;exporter&#34;</span><span class="p">,</span> <span class="s">&#34;jaeger&#34;</span><span class="p">),</span>
				<span class="nx">key</span><span class="p">.</span><span class="nf">Float64</span><span class="p">(</span><span class="s">&#34;float&#34;</span><span class="p">,</span> <span class="mf">312.23</span><span class="p">),</span>
			<span class="p">},</span>
		<span class="p">}),</span>
		<span class="nx">jaeger</span><span class="p">.</span><span class="nf">RegisterAsGlobal</span><span class="p">(),</span>
		<span class="nx">jaeger</span><span class="p">.</span><span class="nf">WithSDK</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">sdktrace</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span><span class="nx">DefaultSampler</span><span class="p">:</span> <span class="nx">sdktrace</span><span class="p">.</span><span class="nf">AlwaysSample</span><span class="p">()}),</span>
	<span class="p">)</span>
	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
		<span class="nx">log</span><span class="p">.</span><span class="nf">Fatal</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="k">return</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="nf">flush</span><span class="p">()</span>
	<span class="p">}</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><p>As for other backend support, you can get a list of all supported backends from <a href="https://pkg.go.dev/search?q=otel%2Fexporters">pkg.go.dev</a>.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/opentelemetry/">opentelemetry</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-02/2021-js-risingstars/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">2021 JavaScript Star Projects</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-02/nats-server-usage/">
            <span class="next-text nav-default">Comparison of NATS-Server (JetStream) and NATS Streaming Server</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
