<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Is the result of the len(s) expression a constant or a variable? - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="This article explains whether the result of a len(s) expression in golang is a constant or a variable. And the rationale behind it." /><meta name="keywords" content="golang, Len" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-03/golang-len/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Is the result of the len(s) expression a constant or a variable?" />
<meta property="og:description" content="This article explains whether the result of a len(s) expression in golang is a constant or a variable. And the rationale behind it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-03/golang-len/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-03-25T09:58:29+08:00" />
<meta property="article:modified_time" content="2022-03-25T09:58:29+08:00" />

<meta itemprop="name" content="Is the result of the len(s) expression a constant or a variable?">
<meta itemprop="description" content="This article explains whether the result of a len(s) expression in golang is a constant or a variable. And the rationale behind it."><meta itemprop="datePublished" content="2022-03-25T09:58:29+08:00" />
<meta itemprop="dateModified" content="2022-03-25T09:58:29+08:00" />
<meta itemprop="wordCount" content="1827">
<meta itemprop="keywords" content="golang," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Is the result of the len(s) expression a constant or a variable?"/>
<meta name="twitter:description" content="This article explains whether the result of a len(s) expression in golang is a constant or a variable. And the rationale behind it."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Is the result of the len(s) expression a constant or a variable?</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-03-25 09:58:29 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1827 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents"></nav>
  </div>
</div>
    <div class="post-content">
      <p><strong>len</strong> is a <a href="https://go.dev/ref/spec#Predeclared_identifiers">Go predefined identifier</a> and also a Go built-in predefined function, through the go doc tool we can check the doc of the len function as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">$go</span> doc builtin.len
package <span class="nb">builtin</span> // import <span class="s2">&#34;builtin&#34;</span>

func len<span class="o">(</span>v Type<span class="o">)</span> int
    The len built-in <span class="k">function</span> returns the length of v, according to its type:

        Array: the number of elements in v.
        Pointer to array: the number of elements in *v <span class="o">(</span>even <span class="k">if</span> v is nil<span class="o">)</span>.
        Slice, or map: the number of elements in v<span class="p">;</span> <span class="k">if</span> v is nil, len<span class="o">(</span>v<span class="o">)</span> is zero.
        String: the number of bytes in v.
        Channel: the number of elements queued <span class="o">(</span>unread<span class="o">)</span> in the channel buffer<span class="p">;</span>
                 <span class="k">if</span> v is nil, len<span class="o">(</span>v<span class="o">)</span> is zero.

    For some arguments, such as a string literal or a simple array expression,
    the result can be a constant. See the Go language specification<span class="err">&#39;</span>s <span class="s2">&#34;Length
</span><span class="s2">    and capacity&#34;</span> section <span class="k">for</span> details.
</code></pre></td></tr></table>
</div>
</div><p>The len function is not new even to Go beginners, as it is a frequently used function in everyday Go development. len&rsquo;s arguments are mainly variables of composite data types, such as arrays (including pointer types for executing arrays), slices, strings, channels, etc. The returned result is the length of these composite data variables, which is a int type value. I won&rsquo;t go into too much detail, and you&rsquo;re probably familiar with it. What I will say is that there is one thing about the len function that you may not be familiar with or care about, and that is when the result of the len(s) expression is a constant and when the result is a variable. Don&rsquo;t overlook this detail, as it will probably make your program output results you didn&rsquo;t expect, and I&rsquo;ll give you an example below.</p>
<p>This example comes from <a href="https://go101.org/">a go quiz tweeted by</a> the author of <a href="https://twitter.com/go100and1/status/1505022780277870592">Go 101</a>, whose original question looked like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kn">package</span> <span class="nx">main</span>

<span class="kd">func</span> <span class="nf">f</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="p">}</span>

<span class="kd">var</span> <span class="nx">x</span> <span class="p">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="nf">f</span><span class="p">()}</span>

<span class="kd">var</span> <span class="nx">p</span> <span class="kt">byte</span> <span class="p">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nb">len</span><span class="p">([</span><span class="mi">8</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="nf">f</span><span class="p">()})</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="kd">var</span> <span class="nx">q</span> <span class="kt">byte</span> <span class="p">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

<span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="nb">println</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nx">q</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Ask what the output of the above example is!</p>
<p>Let&rsquo;s give you five minutes to think about it! &hellip; &hellip;</p>
<p>Okay, thinking time is over! Presumably you&rsquo;ve already run this quiz in the <a href="https://go.dev/play/">Go playground</a> or the Go compiler and got the correct answer: <strong>0 128</strong> .</p>
<p>Whether you derived it yourself or got it by running the source code, now you tell me why the above quiz outputs <strong>0 128</strong>!</p>
<p>I guess many people are as confused as I was at first!</p>
<blockquote>
<ul>
<li>Isn&rsquo;t the return value of len an int? Why is the assignment to p or q of type byte not reported as a compile error?</li>
<li>Why is p 0 and q 128?
&hellip; &hellip;</li>
</ul>
</blockquote>
<p>Here is my analysis, for your reference, to see if it can answer your questions.</p>
<p>First of all, the only difference between p and q is that the expression on the right side of the q variable declaration directly uses the length of the array x: len(x), while the argument of the len function in the expression on the right side of the p variable declaration is [8]int{f()}, which is a temporary array and contains an element assignment operation with a function call. Obviously this difference determines the final result.</p>
<p><strong>For questions about the details of the Go language, the <a href="https://go.dev/ref/spec">official Go language spec</a> is the most authoritative reference</strong> . Open the Go language spec and locate the section <strong>Length and capacity</strong>, where we see the following description of the result of evaluating the len(s) expression.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt">The expression len(s) is constant if s is a string constant. The expressions len(s) and cap(s) are constants if the type of s is an array or pointer to an array and the expression s does not contain channel receives or (non-constant) function calls; in this case s is not evaluated. Otherwise, invocations of lenand cap are not constant and s is evaluated.
</code></pre></td></tr></table>
</div>
</div><p>The general meaning of this passage is that, for the expression len(s)</p>
<ul>
<li>if s is a string constant, then the expression len(s) is also a constant (constant).</li>
<li>If s is an array or a pointer to an array and <strong>the expression s does not contain a channel receive call or a non-constant (non-constant) function call</strong> , then the len(s) expression is a constant, in which case we do not need to evaluate s.</li>
<li>In the rest of the cases, the result of len(s) is not a constant, and we need to evaluate s.</li>
</ul>
<p>How do we understand the &ldquo;non-constant function call&rdquo; in the second article? The Go spec gives an example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">z</span> <span class="kt">complex128</span>
<span class="kd">const</span> <span class="p">(</span>
    <span class="nx">c4</span> <span class="p">=</span> <span class="nb">len</span><span class="p">([</span><span class="mi">10</span><span class="p">]</span><span class="kt">float64</span><span class="p">{</span><span class="nb">imag</span><span class="p">(</span><span class="m">2i</span><span class="p">)})</span>  <span class="c1">// imag(2i) is a constant and no function call is issued
</span><span class="c1"></span>    <span class="nx">c5</span> <span class="p">=</span> <span class="nb">len</span><span class="p">([</span><span class="mi">10</span><span class="p">]</span><span class="kt">float64</span><span class="p">{</span><span class="nb">imag</span><span class="p">(</span><span class="nx">z</span><span class="p">)})</span>   <span class="c1">// invalid: imag(z) is a (non-constant) function call
</span><span class="c1"></span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>In the examples, the right-hand side of both c4 and c5 statements are len function calls to arrays. s in len(s) in c4 is [10]float64{imag(2i)}, which is an array that contains an imag function call, but since the argument to the imag is a constant, <a href="https://go.dev/ref/spec#Constants">the call to the imag returns a constant as well</a>, not a single non-constant function call, so the len expression on the right-hand side of the c4 declaration statement is essentially a constant.</p>
<p>The s in len(s) in c5 is [10]float64{imag(z)}, which is also an array, and also contains an imag function call, the difference is that the argument to the imag is a variable of type complex128, so the imag function call is a non-constant function call, and the return value cannot be used as a So for such s, the value of the len expression will not be a constant either, so the value of the len expression cannot be used as the initial value of the constant c5.</p>
<p>With the above knowledge in mind, let&rsquo;s look at the variables p and q in the quiz above. let&rsquo;s look at the variable q first.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">x</span> <span class="p">=</span> <span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="nf">f</span><span class="p">()}</span>
<span class="kd">var</span> <span class="nx">q</span> <span class="kt">byte</span> <span class="p">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><p>We see that the argument to the len function in the initial expression to the right of the variable q is the array x, and that the expression (x) does not contain any function calls, which satisfies the condition that len(s) is a constant, and so len(x) is a constant, which means that the declaration statement of q above is equivalent to the following statement.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">q</span> <span class="kt">byte</span> <span class="p">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><p>The right side of the equals sign of the equals statement is an untyped integer literal value constant, <strong>this constant value is calculated at compile time</strong> , the value is 128, the variable q of type byte can store the next 128 this value, so q is equal to 128.</p>
<p>Let&rsquo;s go back to the variable p.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">p</span> <span class="kt">byte</span> <span class="p">=</span> <span class="p">(</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="nb">len</span><span class="p">([</span><span class="mi">8</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="nf">f</span><span class="p">()})</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><p>Our len expression here contains a function call to f(). Is f() a non-constant function call? Test it with the following code to find out.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">func</span> <span class="nf">f</span><span class="p">()</span> <span class="kt">int</span> <span class="p">{</span> <span class="k">return</span> <span class="mi">1</span> <span class="p">}</span>

<span class="kd">const</span> <span class="p">(</span>
    <span class="nx">b</span> <span class="kt">byte</span> <span class="p">=</span> <span class="nb">imag</span><span class="p">(</span><span class="m">2i</span><span class="p">)</span> <span class="c1">// ok
</span><span class="c1"></span>    <span class="nx">c</span> <span class="kt">byte</span> <span class="p">=</span> <span class="nf">f</span><span class="p">()</span> <span class="c1">// 编译器错误：f() (value of type int) is not constant
</span><span class="c1"></span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>We see that f() is not a constant function call like an imag, so the len(s) in the p variable declaration is not a constant. Then that len(s) expression requires an expression evaluation process when assigning a value to the variable p.</p>
<p>So how does the expression ( 1 &laquo; len([8]int{f()}) ) / 2 look like? This is a left shift operator (&laquo;), and the operand to the left of this operator is the untyped constant 1. Is it the default type int of the untyped constant or the variable type byte to the left of the equal sign?</p>
<p>We have to resort to the go spec again. The go spec <a href="https://go.dev/ref/spec#Operators">has a paragraph on left-shift/right-shift expressions</a> reads as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt">The right operand in a shift expression must have integer type or be an untyped constant representable by a value of type uint. If the left operand of a non-constant shift expression is an untyped constant, it is first implicitly converted to the type it would assume if the shift expression were replaced by its left operand alone.
</code></pre></td></tr></table>
</div>
</div><p>The general idea is that the right operand of a shift expression must be an integer type or an untyped constant that can be represented by a value of type uint. If the left operand of a non-constant shift expression is an untyped constant, it is first implicitly converted to a type, what type? It is the type of the left operand after replacing the entire shift expression with the left operand.</p>
<p>This last sentence is too convoluted, let&rsquo;s give an example to illustrate, the following example from go spec.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">s</span> <span class="kt">uint</span> <span class="p">=</span> <span class="mi">33</span>
<span class="kd">var</span> <span class="nx">j</span> <span class="kt">int32</span> <span class="p">=</span> <span class="mi">1</span><span class="o">&lt;&lt;</span><span class="nx">s</span>
</code></pre></td></tr></table>
</div>
</div><p>The right-hand side of the declaration statement for variable j is a shift expression, and the shift expression is a non-constant shift expression, where the type of the untyped constant 1 is determined how? According to the above statement, the type of 1 in this expression is equivalent to the type of 1 in the following statement.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">j</span> <span class="kt">int32</span> <span class="p">=</span> <span class="mi">1</span>  <span class="c1">// 用shift表达式的左操作数(1)替换整个shift表达式(1 &lt;&lt; s)后
</span></code></pre></td></tr></table>
</div>
</div><p>We see that 1 is an untyped constant, and its final type depends on the type of the variable on the left side of the statement, so 1 is of type int32, and eventually <code>1&lt;&lt;s</code> is of type int32 (go spec: Arithmetic operators apply to numeric values and yield a result of the same type as the first operand).</p>
<p>Okay, let&rsquo;s go back to the shift expression in variable p. This expression is also not a constant shift expression. Thus the type of 1 in it is equivalent to the type of 1 in the following statement.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="kd">var</span> <span class="nx">p</span> <span class="kt">byte</span> <span class="p">=</span> <span class="mi">1</span>
</code></pre></td></tr></table>
</div>
</div><p>That is, 1, an untyped constant, is of type byte, so 1 &laquo; len([8]int{f()}) overflows after shifting 8 bits to the left, and the result is 0. So the right-hand expression of the variable p evaluates to 0, and the p value is 0.</p>
<p>The Go language is known for its simplicity, but there are not a lot of syntactic details in Go. This go quiz topic is a great test of your ability to grasp the details of the Go language syntax!</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/golang/">golang</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-03/golang-incremental-builds/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Does Go support incremental builds?</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-03/javascript-async-programming/">
            <span class="next-text nav-default">Asynchronous Programming Methods and Practices in JavaScript</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
