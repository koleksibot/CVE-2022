<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Webpack Quick Start - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="This tutorial is for webpack beginners. This is also some notes I put together for newbies as I learn webpack myself. I. What is webpack? As a javascript front-end developer, you must know about webpack and the various modules. webpack is a packaging tool that bundles (packages) various modules together. The supported modules are: CommonJS AMD CSS import Images url Es module webpack bundles all modules together and makes them" /><meta name="keywords" content="webpack, Tutorial" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2022-03/webpack-tutorial/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Webpack Quick Start" />
<meta property="og:description" content="This tutorial is for webpack beginners. This is also some notes I put together for newbies as I learn webpack myself. I. What is webpack? As a javascript front-end developer, you must know about webpack and the various modules. webpack is a packaging tool that bundles (packages) various modules together. The supported modules are: CommonJS AMD CSS import Images url Es module webpack bundles all modules together and makes them" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2022-03/webpack-tutorial/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-03-05T12:04:15+08:00" />
<meta property="article:modified_time" content="2022-03-05T12:04:15+08:00" />

<meta itemprop="name" content="Webpack Quick Start">
<meta itemprop="description" content="This tutorial is for webpack beginners. This is also some notes I put together for newbies as I learn webpack myself. I. What is webpack? As a javascript front-end developer, you must know about webpack and the various modules. webpack is a packaging tool that bundles (packages) various modules together. The supported modules are: CommonJS AMD CSS import Images url Es module webpack bundles all modules together and makes them"><meta itemprop="datePublished" content="2022-03-05T12:04:15+08:00" />
<meta itemprop="dateModified" content="2022-03-05T12:04:15+08:00" />
<meta itemprop="wordCount" content="1623">
<meta itemprop="keywords" content="webpack," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Webpack Quick Start"/>
<meta name="twitter:description" content="This tutorial is for webpack beginners. This is also some notes I put together for newbies as I learn webpack myself. I. What is webpack? As a javascript front-end developer, you must know about webpack and the various modules. webpack is a packaging tool that bundles (packages) various modules together. The supported modules are: CommonJS AMD CSS import Images url Es module webpack bundles all modules together and makes them"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Webpack Quick Start</h1>

      <div class="post-meta">
        <span class="post-time"> 2022-03-05 12:04:15 </span>
        <div class="post-category">
            <a href="/categories/tutorials/"> tutorials </a>
            </div>
          <span class="more-meta"> 1623 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#i-what-is-webpack">I. What is webpack?</a></li>
        <li><a href="#ii-important-concepts">II. Important concepts</a>
          <ul>
            <li><a href="#entry-point">entry point</a></li>
            <li><a href="#output">output</a></li>
            <li><a href="#loaders">loaders</a></li>
            <li><a href="#plugins">Plugins</a></li>
            <li><a href="#mode">mode</a></li>
          </ul>
        </li>
        <li><a href="#iii-practice">III. Practice</a>
          <ul>
            <li><a href="#1-initializing-the-project">1. Initializing the project</a></li>
            <li><a href="#2-webpack-configuration-file-specifying-input-and-output">2. webpack configuration file, specifying input and output</a></li>
            <li><a href="#3-adding-html-pages">3. Adding html pages</a></li>
            <li><a href="#4-start-local-service-by-webpack">4. Start local service by webpack</a></li>
            <li><a href="#5-loading-css">5. Loading css</a></li>
            <li><a href="#6-load-es-modules">6. Load es modules</a></li>
            <li><a href="#7-production-mode">7. Production mode</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>This tutorial is for webpack beginners. This is also some notes I put together for newbies as I learn webpack myself.</p>
<h2 id="i-what-is-webpack">I. What is webpack?</h2>
<p>As a javascript front-end developer, you must know about webpack and the various <strong>modules</strong>. webpack is a packaging tool that bundles (packages) various modules together. The supported modules are:</p>
<ul>
<li>CommonJS</li>
<li>AMD</li>
<li>CSS import</li>
<li>Images url</li>
<li>Es module</li>
</ul>
<p>webpack bundles all modules together and makes them run.</p>
<h2 id="ii-important-concepts">II. Important concepts</h2>
<p>Let&rsquo;s first highlight a few of the relatively important and most commonly used things.</p>
<h3 id="entry-point">entry point</h3>
<p>The entry point is where webpack starts its work, a js file. webpack collects other module files through imports in this file, collects other dependencies through import statements in other module files, and finally packages all the module files together to form a single runnable code. The default entry file is <code>src/index.js</code>.</p>
<h3 id="output">output</h3>
<p>The output is the file that is formed after webpack has been packaged through the build process. The default output folder is the <code>dist/</code> folder in the root directory.</p>
<h3 id="loaders">loaders</h3>
<p>loaders are some third-party extension packages that help webpack handle loading various types of files. For example, there are loaders for handling css and image files. webpack itself does not support css files without loaders.</p>
<h3 id="plugins">Plugins</h3>
<p>plugins are also third-party plugins that change the way webpack works, for example some plugins can set webpack&rsquo;s environment variables.</p>
<h3 id="mode">mode</h3>
<p>There are two ways webpack works: development (development mode) and production (production mode). The main difference is that in production mode, the resulting bundle (file) is smaller and stripped of extraneous comments, spaces, etc. at runtime. This speeds up the loading of code by the user.</p>
<h2 id="iii-practice">III. Practice</h2>
<h3 id="1-initializing-the-project">1. Initializing the project</h3>
<p>Now, let&rsquo;s understand the working process of webpack step by step by doing. First create a new directory and initialize the project with <code>npm init -y</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">mkdir webpack-tutorial
npm init -y
</code></pre></td></tr></table>
</div>
</div><p>Open the package.json you just created and add the following content.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;start&#34;</span><span class="o">:</span> <span class="s2">&#34;webpack&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>and install the following dependencies.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add webpack webpack-cli webpack-dev-server --dev
</code></pre></td></tr></table>
</div>
</div><p>Then execute the start command you just added.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn start
</code></pre></td></tr></table>
</div>
</div><p>There is an error running. When we execute the start command webpack gives us an error: <strong>Module not found: Error: Can&rsquo;t reolve &lsquo;. /src&rsquo;</strong> . Don&rsquo;t be afraid, remember what we mentioned before about <strong>importer file</strong>, the reason for this error is that the importer file was not found. All we need to do is add the entry file. Create the src folder and add the index.js file to the src folder with the following input.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;webpack is so easy&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>Then execute the start command again, you can see that webpack runs normally and generates a dist folder, the dist file is the output file of webpack, the location of the entry file and the output file can be changed by configuration. Because our start command does not specify the mode of webpack, webpack will run in production mode. We modify the start command to change the mode to development by modifying the start command in package.json.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;scripts&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --mode development&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Run the start command again and webpack will run in development mode.</p>
<h3 id="2-webpack-configuration-file-specifying-input-and-output">2. webpack configuration file, specifying input and output</h3>
<p>As mentioned earlier, we can change the configuration of webpack. In order to configure webpack, we need to create a <strong>webpack.config.js</strong> file in the root directory. This is a js file, so we can write any runnable js code in it. First change the entry and exit files.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="c1">// webpack.config.js
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="kr">require</span><span class="p">(</span><span class="s2">&#34;path&#34;</span><span class="p">);</span>
<span class="kr">module</span><span class="nx">.exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">// 将入口文件指定为main.js
</span><span class="c1"></span>    <span class="nx">entry</span><span class="o">:</span> <span class="p">{</span><span class="nx">index</span>: <span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">&#34;src&#34;</span><span class="p">,</span> <span class="s2">&#34;main.js&#34;</span><span class="p">)},</span>
    <span class="c1">// 将输出文件目录改为build/
</span><span class="c1"></span>    <span class="nx">output</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">path</span>: <span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">&#34;build&#34;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>The <strong>entry</strong> field can be used to modify the entry file, the above code changes the webpack entry file to <code>src/main.js</code>. The <strong>output</strong> field can be used to modify the output file location, we will change the output file directory to <code>build/</code>. Rename the <code>index.js</code> file in the src directory to <code>main.js</code> and run the <strong>start</strong> command to see the webpack output directory build.</p>
<h3 id="3-adding-html-pages">3. Adding html pages</h3>
<p>In order to embed webpack packaged files into html documents with script tags, we need to use a third-party plugins extension: <strong>html-webpack-plugin</strong>. The <strong>plugin is a third-party extension that changes the way webpack works</strong>, as described above. What <strong>html-webpack-plugin</strong> does is to change the way webpack works, so that webpack can add packaged js files to the <code>&lt;script&gt;</code> tags of html pages, so that when we open the html, we can run our js scripts. First, install the plugin.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add html-webpack-plugin --dev
</code></pre></td></tr></table>
</div>
</div><p>Then, change the webpack.config.js file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="nx">HtmlWebpackPlugin</span> <span class="o">=</span> <span class="kr">require</span><span class="p">(</span><span class="s2">&#34;html-webpack-plugin&#34;</span><span class="p">);</span>
<span class="kr">module</span><span class="nx">.exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">plugins</span><span class="o">:</span> <span class="p">[</span>
        <span class="k">new</span> <span class="nx">HtmlWebpackPlugin</span><span class="p">({</span>
            <span class="nx">template</span>: <span class="kt">path.resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">&#34;public&#34;</span><span class="p">,</span> <span class="s2">&#34;index.html&#34;</span><span class="p">)</span>
        <span class="p">})</span>
    <span class="p">]</span>    
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The above code instructs webpack to load <code>public/index.html</code>, so create the public directory and add the index.html file with the following content.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>webpack tutorial<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>webpack tutorial<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Run <code>yarn start</code> and see the results. At this point, an index.html file will appear in our <code>build</code> directory with the following contents.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>webpack tutorial<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;index.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>webpack tutorial<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Compared to the original html file, a <code>&lt;script&gt;</code> tag has been added, and the content of the tag is the webpack packaged js file.</p>
<p>So, we can know what html-webpack-plugin does.</p>
<ol>
<li>load the html file.</li>
<li>Add the webpack-packaged js file to the html file via the script tag.</li>
</ol>
<h3 id="4-start-local-service-by-webpack">4. Start local service by webpack</h3>
<p>As a developer, you will definitely use local services. webpack provides development server, which can easily start a local service for developers to do development work. First we need to install the <strong>webpack-dev-server</strong> package.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add webpack-dev-server --dev
</code></pre></td></tr></table>
</div>
</div><p>Careful friends have noticed that I add <code>--dev</code> field when installing these ku, indicating that these packages are only used in development mode to facilitate development work, and do not work in production environment. After installing this package, it is possible to use it directly, first we change the command in <code>package.json</code> as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="s2">&#34;scripts&#34;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;buildDev&#34;</span><span class="o">:</span> <span class="s2">&#34;webpack --mode development&#34;</span><span class="p">,</span>
    <span class="s2">&#34;start&#34;</span><span class="o">:</span> <span class="s2">&#34;webpack serve --mode development&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>After the change, the package command is changed to <code>buildDev</code> and the start local server command is <code>start</code>. Execute <code>yarn start</code>. This will start a local service on local port 8080. Open <code>http://localhost:8080</code>, which will display the index.html page.</p>
<h3 id="5-loading-css">5. Loading css</h3>
<p>In order to load css, we need to use <strong>webpack loaders</strong> . <strong>webpack loaders</strong> are designed to handle a wide variety of modules and files. In order to load css files, we need to install at least two loaders as follows:</p>
<ul>
<li><strong>css-loader</strong> : allows us to import css files using import statements.</li>
<li><strong>style-loader</strong> : inserts css styles into html dom.</li>
</ul>
<p>Install.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">yarn add css-loader --dev
yarn add style-loader --dev
</code></pre></td></tr></table>
</div>
</div><p>To configure webpack.config.js, we need to add the module field and add rules, module means the plugin deals with various module files (ts, css, less, etc.) and rules corresponds to different file types using different loaders.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">module</span><span class="nx">.exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">module</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">rules</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.css$/</span><span class="p">,</span>
                <span class="nx">use</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;style-loader&#34;</span><span class="p">,</span> <span class="s2">&#34;css-loader&#34;</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>To test if the loaders work, we add the <code>style.css</code> file to the src directory.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">span</span> <span class="p">{</span>
    <span class="nx">color</span><span class="o">:</span> <span class="nx">green</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Change the <code>main.js</code> file and import <code>style.css</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">import</span> <span class="s2">&#34;./style.css&#34;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;webpack is so easy.&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>Start the webpack server service, open <code>localhost:8080</code> and you can see that our word turns green, indicating that the css file was successfully loaded.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/03/05/f9515c16278b4d4c8c8b1c9314fc2385.png" alt="webpacket"></p>
<p><strong>Note: The order of loaders is important. webpack loads loaders in right-to-left order, so the following loaders configuration is invalid</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">use</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;css-loader&#34;</span><span class="p">,</span> <span class="s2">&#34;style-loader&#34;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>Because style-loader is responsible for inserting styles into html, the program always executes the js code first, so the first thing executed is the import of css, so the order is wrong.</p>
<p>Similarly, we can add SASS files, just add <strong>sass-loader</strong>, and leave this for you to try later.</p>
<h3 id="6-load-es-modules">6. Load es modules</h3>
<p>The most important feature of <strong>webpack is loading es modules</strong>. By now you should know that to load es modules, we should also need to add the corresponding loaders, but in fact webpack already comes with the function to load es modules. We can use it directly. Create a new <code>src/component.js</code> file and write the following code.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">print</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;this is component.js&#34;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Then change <code>src/main.js</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="s2">&#34;./style.css&#34;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span><span class="nx">print</span><span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;./component&#34;</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;webpack is so easy.&#34;</span><span class="p">);</span>
<span class="nx">print</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><p>Start the service and open the browser console with the following output, indicating that the webpack es modules are loading properly.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2022/03/05/ec63579cd7ee456ab4536e89560e5408.png" alt="webpacket"></p>
<h3 id="7-production-mode">7. Production mode</h3>
<p>As mentioned earlier webpack has two modes: development and production. We can specify the way webpack is packaged by modifying the scripts field in package.json.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="s2">&#34;scripts&#34;</span><span class="err">:</span> <span class="p">{</span>
    <span class="nt">&#34;buildDev&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --mode development&#34;</span><span class="p">,</span>
    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --mode production&#34;</span><span class="p">,</span>
    <span class="nt">&#34;start&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack serve --mode development&#34;</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Execute the build command and the packaged file will remove redundant comments and spaces for deployment to the production environment.</p>
<p>This tutorial, with not much content, can be learned in about an hour, and is intended to introduce some basic concepts of webpack. webpack has more content, so you can check <a href="https://www.webpackjs.com/">official documentation</a> and Baidu for problems, and slowly get familiar with and learn it in practice.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/webpack/">webpack</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2022-03/grpc-in-memory/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Memory-based communication for gRPC calls</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2022-03/mistery-of-react-hook/">
            <span class="next-text nav-default">The mystery of the React hook</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
