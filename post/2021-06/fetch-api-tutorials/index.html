<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Fetch Api Tutorials - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="fetch() is an upgraded version of XMLHttpRequest used to make HTTP requests inside JavaScript scripts.
The browser provides this object natively. This article describes its usage in detail.
1. Basic usage The function of fetch() is basically the same as XMLHttpRequest, but with three main differences.
 fetch() uses Promise and does not use a callback function, so it is much simpler to write and more concise. The modular design of fetch(), with API spread over multiple objects (Response object, Request object, Headers object), is more reasonable; in contrast, the API design of XMLHttpRequest is not very good, with input, output and state all managed in the same interface, making it easy to write very confusing code." /><meta name="keywords" content="fetch,ajax,XMLHttpRequest,javascript" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-06/fetch-api-tutorials/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Fetch Api Tutorials" />
<meta property="og:description" content="fetch() is an upgraded version of XMLHttpRequest used to make HTTP requests inside JavaScript scripts.
The browser provides this object natively. This article describes its usage in detail.
1. Basic usage The function of fetch() is basically the same as XMLHttpRequest, but with three main differences.
 fetch() uses Promise and does not use a callback function, so it is much simpler to write and more concise. The modular design of fetch(), with API spread over multiple objects (Response object, Request object, Headers object), is more reasonable; in contrast, the API design of XMLHttpRequest is not very good, with input, output and state all managed in the same interface, making it easy to write very confusing code." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-06/fetch-api-tutorials/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-26T14:05:00+08:00" />
<meta property="article:modified_time" content="2021-06-26T14:05:00+08:00" />

<meta itemprop="name" content="Fetch Api Tutorials">
<meta itemprop="description" content="fetch() is an upgraded version of XMLHttpRequest used to make HTTP requests inside JavaScript scripts.
The browser provides this object natively. This article describes its usage in detail.
1. Basic usage The function of fetch() is basically the same as XMLHttpRequest, but with three main differences.
 fetch() uses Promise and does not use a callback function, so it is much simpler to write and more concise. The modular design of fetch(), with API spread over multiple objects (Response object, Request object, Headers object), is more reasonable; in contrast, the API design of XMLHttpRequest is not very good, with input, output and state all managed in the same interface, making it easy to write very confusing code."><meta itemprop="datePublished" content="2021-06-26T14:05:00+08:00" />
<meta itemprop="dateModified" content="2021-06-26T14:05:00+08:00" />
<meta itemprop="wordCount" content="3311">
<meta itemprop="keywords" content="fetch,javascript,ajax," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Fetch Api Tutorials"/>
<meta name="twitter:description" content="fetch() is an upgraded version of XMLHttpRequest used to make HTTP requests inside JavaScript scripts.
The browser provides this object natively. This article describes its usage in detail.
1. Basic usage The function of fetch() is basically the same as XMLHttpRequest, but with three main differences.
 fetch() uses Promise and does not use a callback function, so it is much simpler to write and more concise. The modular design of fetch(), with API spread over multiple objects (Response object, Request object, Headers object), is more reasonable; in contrast, the API design of XMLHttpRequest is not very good, with input, output and state all managed in the same interface, making it easy to write very confusing code."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Fetch Api Tutorials</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-06-26 14:05:00 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            <a href="/categories/frontend/"> frontend </a>
            </div>
          <span class="more-meta"> 3311 words </span>
          <span class="more-meta"> 16 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1-basic-usage">1. Basic usage</a></li>
        <li><a href="#2-the-response-object-handling-http-responses">2. the Response object: handling HTTP responses</a>
          <ul>
            <li><a href="#21-synchronization-properties-of-response-object">2.1 Synchronization Properties of Response Object</a></li>
            <li><a href="#22-determining-whether-a-request-is-successful-or-not">2.2 Determining whether a request is successful or not</a></li>
            <li><a href="#23-responseheaders-property">2.3 Response.headers property</a></li>
            <li><a href="#24-methods-for-reading-content">2.4 Methods for reading content</a></li>
            <li><a href="#25-responseclone">2.5 Response.clone()</a></li>
            <li><a href="#26-the-responsebody-property">2.6 The Response.body property</a></li>
          </ul>
        </li>
        <li><a href="#3-the-second-parameter-of-fetch-custom-http-request">3. the second parameter of fetch(): custom HTTP request</a>
          <ul>
            <li><a href="#post-request">POST request</a></li>
            <li><a href="#submit-json-data">Submit JSON data</a></li>
            <li><a href="#submission-form">Submission Form</a></li>
            <li><a href="#file-upload">File upload</a></li>
            <li><a href="#upload-binary-data-directly">Upload binary data directly</a></li>
          </ul>
        </li>
        <li><a href="#4-the-full-api-for-the-fetch-configuration-object">4. The full API for the fetch() configuration object</a></li>
        <li><a href="#5-cancel-fetch-request">5. Cancel fetch() request</a></li>
        <li><a href="#6-reference-links">6. Reference Links</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><code>fetch()</code> is an upgraded version of <code>XMLHttpRequest</code> used to make <code>HTTP</code> requests inside <code>JavaScript</code> scripts.</p>
<p>The browser provides this object natively. This article describes its usage in detail.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/26/7b7a499bd9b84c1a80e17ba9de064ca3.png" alt="fetch"></p>
<h2 id="1-basic-usage">1. Basic usage</h2>
<p>The function of <code>fetch()</code> is basically the same as <code>XMLHttpRequest</code>, but with three main differences.</p>
<ol>
<li><code>fetch()</code> uses <code>Promise</code> and does not use a callback function, so it is much simpler to write and more concise.</li>
<li>The modular design of <code>fetch()</code>, with <code>API</code> spread over multiple objects (<code>Response</code> object, <code>Request</code> object, <code>Headers</code> object), is more reasonable; in contrast, the <code>API</code> design of <code>XMLHttpRequest</code> is not very good, with input, output and state all managed in the same interface, making it easy to write very confusing code.</li>
<li><code>fetch()</code> processes data through a data stream (<code>Stream</code> object), which can be read in chunks, which is good for improving website performance and reducing memory usage, and is quite useful for requesting large files or slow internet scenarios. The <code>XMLHTTPRequest</code> object does not support data streams, all the data must be placed in the cache, does not support reading in chunks, you must wait until you get it all and then spit it out at once.</li>
</ol>
<p>In terms of usage, <code>fetch()</code> accepts a URL string as an argument, makes a <code>GET</code> request to that URL by default, and returns a <code>Promise</code> object. Its basic usage is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(...)</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(...)</span>
</code></pre></td></tr></table>
</div>
</div><p>Here is an example to get <code>JSON</code> data from the server.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;https://api.github.com/users/ruanyf&#39;</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="p">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Request Failed&#39;</span><span class="p">,</span> <span class="nx">err</span><span class="p">));</span> 
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the <code>response</code> received by <code>fetch()</code> is a <code>Stream</code> object, and <code>response.json()</code> is an asynchronous operation that takes out all the content and converts it to a <code>JSON</code> object.</p>
<p><code>Promise</code> can be rewritten using the <code>await</code> syntax to make the semantics clearer.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">getJSON</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&#39;https://api.github.com/users/ruanyf&#39;</span><span class="p">;</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
    <span class="k">return</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Request Failed&#39;</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In the example above, the <code>await</code> statement must be placed inside the <code>try.... .catch</code> inside so as to catch any errors that may occur in the asynchronous operation.</p>
<p>The latter are written in the <code>await</code> style, not in the <code>.then()</code> style.</p>
<h2 id="2-the-response-object-handling-http-responses">2. the Response object: handling HTTP responses</h2>
<h3 id="21-synchronization-properties-of-response-object">2.1 Synchronization Properties of Response Object</h3>
<p>When a <code>fetch()</code> request succeeds, a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response">Response</a> object is obtained. It corresponds to the <code>HTTP</code> response from the server.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>As mentioned before, <code>Response</code> contains data that is read asynchronously through the <code>Stream</code> interface, but it also contains some synchronous properties that correspond to the header information (<code>Headers</code>) of the <code>HTTP</code> response, which can be read immediately.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">fetchText</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/readme.txt&#39;</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">);</span> 
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, <code>response.status</code> and <code>response.statusText</code> are the synchronization properties of <code>Response</code>, which can be read immediately.</p>
<p>The header information attributes are as follows.</p>
<p><strong>Response.ok</strong></p>
<p>The <code>Response.ok</code> property returns a boolean value indicating whether the request was successful or not, <code>true</code> corresponding to the status codes <code>200</code> to <code>299</code> for <code>HTTP</code> requests and false corresponding to the other status codes.</p>
<p><strong>Response.status</strong></p>
<p>The <code>Response.status</code> property returns a number indicating the status code of the <code>HTTP</code> response (e.g. <code>200</code>, for a successful request).</p>
<p><strong>Response.statusText</strong></p>
<p>The <code>Response.statusText</code> property returns a string indicating the status of the <code>HTTP</code> response (for example, the server returns &ldquo;OK&rdquo; after a successful request).</p>
<p><strong>Response.url</strong></p>
<p>The <code>Response.url</code> property returns the <code>URL</code> of the request. If there is a jump in the <code>URL</code>, this property returns the final <code>URL</code>. (return &ldquo;OK&rdquo;).</p>
<p><strong>Response.type</strong></p>
<p>The <code>Response.type</code> property returns the type of the request. The possible values are as follows.</p>
<ul>
<li><code>basic</code>: normal request, i.e. homologous request.</li>
<li><code>cors</code>: cross-domain request.</li>
<li><code>error</code>: network error, mainly used for <code>Service Worker</code>.</li>
<li><code>opaque</code>: This value is returned if the <code>type</code> attribute of the <code>fetch()</code> request is set to <code>no-cors</code>, see the request section for details. Indicates that a simple cross-domain request is being made, similar to the kind of cross-domain request made by <code>&lt;form&gt;</code> forms.</li>
<li><code>opaqueredirect</code>: This value is returned if the <code>redirect</code> attribute of the <code>fetch()</code> request is set to <code>manual</code>, see the request section for details.</li>
</ul>
<p><strong>Response.redirected</strong></p>
<p>The <code>Response.redirected</code> property returns a boolean value indicating whether the request has been redirected.</p>
<h3 id="22-determining-whether-a-request-is-successful-or-not">2.2 Determining whether a request is successful or not</h3>
<p>After <code>fetch()</code> issues a request, there is an important note: <code>fetch()</code> will only report an error if there is a network error, or if the connection cannot be made, but in all other cases it will not report an error and will consider the request successful.</p>
<p>This means that <code>fetch()</code> will not report an error even if the status code returned by the server is <code>4xx</code> or <code>5xx</code> (i.e. <code>Promise</code> will not change to the <code>rejected</code> state).</p>
<p>The only way to tell if a request is successful is to get the real status code of the <code>HTTP</code> response through the <code>Response.status</code> property. See the following example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">async</span> <span class="kd">function</span> <span class="nx">fetchText</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/readme.txt&#39;</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&gt;=</span> <span class="mi">200</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">status</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the <code>response.status</code> property is only equal to <code>2xx</code> (200~299) to determine the success of the request. There is no need to consider URL bounces (with status code <code>3xx</code>), because <code>fetch()</code> will automatically turn the bounced status code to <code>200</code>.</p>
<p>Another way is to determine if <code>response.ok</code> is <code>true</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// request success
</span><span class="c1"></span><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="c1">// request fail
</span><span class="c1"></span><span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="23-responseheaders-property">2.3 Response.headers property</h3>
<p>The <code>Response</code> object also has a <code>Response.headers</code> property, which points to a <code>Headers</code> object corresponding to all headers of the <code>HTTP</code> response.</p>
<p>The Headers object can be traversed using a for. . of loop to iterate through them.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="p">[</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span> <span class="k">of</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">)</span> <span class="p">{</span> 
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb"> : </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>  
<span class="p">}</span>

<span class="c1">// or
</span><span class="c1"></span><span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="p">[</span><span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">]</span> <span class="k">of</span> <span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">entries</span><span class="p">())</span> <span class="p">{</span> 
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`</span><span class="si">${</span><span class="nx">key</span><span class="si">}</span><span class="sb"> : </span><span class="si">${</span><span class="nx">value</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span>  
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>Headers</code> object provides the following methods to manipulate headers.</p>
<ul>
<li><code>Headers.get()</code>: Returns the key value, based on the specified key name.</li>
<li><code>Headers.has()</code>: returns a boolean value indicating whether or not a header is contained.</li>
<li><code>Headers.set()</code>: sets the specified key name to the new key value, or adds it if it does not exist.</li>
<li><code>Headers.append()</code>: add the header.</li>
<li><code>Headers.delete()</code>: delete the header.</li>
<li><code>Headers.keys()</code>: return a traverser that iterates through all the key names in order.</li>
<li><code>Headers.values()</code>: returns a traverser that iterates through all the key values in order.</li>
<li><code>Headers.entries()</code>: returns a traverser that iterates through all key-value pairs ([key, value]) in order.</li>
<li><code>Headers.forEach()</code>: iterates through the headers in turn, executing the argument function once for each header.</li>
</ul>
<p>Some of the methods above can modify headers because they inherit from the <code>Headers</code> interface. For <code>HTTP</code> responses, it makes little sense to modify headers, and many headers are read-only, so browsers do not allow modifications.</p>
<p>The most common of these methods is <code>response.headers.get()</code>, which is used to read the value of a header.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span>  <span class="kr">await</span>  <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>  
<span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;Content-Type&#39;</span><span class="p">)</span>
<span class="c1">// application/json; charset=utf-8
</span></code></pre></td></tr></table>
</div>
</div><p>The <code>Headers.keys()</code> and <code>Headers.values()</code> methods are used to iterate over the key names and key values of the headers, respectively.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="c1">// key
</span><span class="c1"></span><span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">key</span> <span class="k">of</span> <span class="nx">myHeaders</span><span class="p">.</span><span class="nx">keys</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// value
</span><span class="c1"></span><span class="k">for</span><span class="p">(</span><span class="kd">let</span> <span class="nx">value</span> <span class="k">of</span> <span class="nx">myHeaders</span><span class="p">.</span><span class="nx">values</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>Headers.forEach()</code> method can also iterate through all the keys and key names.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="nx">response</span><span class="p">.</span><span class="nx">headers</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span>
  <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="24-methods-for-reading-content">2.4 Methods for reading content</h3>
<p>The <code>Response</code> object provides different read methods depending on the different types of data returned by the server.</p>
<ul>
<li><code>response.text()</code>: get the text string.</li>
<li><code>response.json()</code>: get JSON object.</li>
<li><code>response.blob()</code>: get the binary Blob object.</li>
<li><code>response.formData()</code>: get the FormData form object.</li>
<li><code>response.arrayBuffer()</code>: get the binary ArrayBuffer object.</li>
</ul>
<p>The <code>5</code> read methods above are all asynchronous and return a <code>Promise</code> object. You must wait until the asynchronous operation is finished to get the complete data returned by the server.</p>
<p><strong>response.text()</strong></p>
<p><code>response.text()</code> can be used to get text data, such as <code>HTML</code> files.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/users.html&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">body</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>response.json()</strong></p>
<p><code>response.json()</code> is mainly used to get the <code>JSON</code> data returned by the server, which has been given as an example earlier.</p>
<p><strong>response.formData()</strong></p>
<p><code>response.formData()</code> is mainly used in the <code>Service Worker</code> to intercept user-submitted forms, modify some data, and then submit them to the server.</p>
<p><strong>response.blob()</strong></p>
<p><code>response.blob()</code> is used to get the binary file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;flower.jpg&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">myBlob</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>
<span class="kr">const</span> <span class="nx">objectURL</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">myBlob</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">myImage</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">);</span>
<span class="nx">myImage</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">objectURL</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>The above example reads the image file flower.jpg and displays it on the web page.</p>
<p><strong>response.arrayBuffer()</strong></p>
<p><code>response.arrayBuffer()</code> is mainly used to get the streaming file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">audioCtx</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">window</span><span class="p">.</span><span class="nx">AudioContext</span><span class="p">();</span>
<span class="kr">const</span> <span class="nx">source</span> <span class="o">=</span> <span class="nx">audioCtx</span><span class="p">.</span><span class="nx">createBufferSource</span><span class="p">();</span>

<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;song.ogg&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">buffer</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">arrayBuffer</span><span class="p">();</span>

<span class="kr">const</span> <span class="nx">decodeData</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">audioCtx</span><span class="p">.</span><span class="nx">decodeAudioData</span><span class="p">(</span><span class="nx">buffer</span><span class="p">);</span>
<span class="nx">source</span><span class="p">.</span><span class="nx">buffer</span> <span class="o">=</span> <span class="nx">buffer</span><span class="p">;</span>
<span class="nx">source</span><span class="p">.</span><span class="nx">connect</span><span class="p">(</span><span class="nx">audioCtx</span><span class="p">.</span><span class="nx">destination</span><span class="p">);</span>
<span class="nx">source</span><span class="p">.</span><span class="nx">loop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>The above example is <code>response.arrayBuffer()</code> to get the audio file song.ogg and then play it online.</p>
<h3 id="25-responseclone">2.5 Response.clone()</h3>
<p>The <code>Stream</code> object can only be read once, and when it&rsquo;s done, it&rsquo;s gone. This means that only one of the five read methods in the previous section can be used, otherwise an error will be reported.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">text</span> <span class="o">=</span>  <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">text</span><span class="p">();</span>
<span class="kd">let</span> <span class="nx">json</span> <span class="o">=</span>  <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>  <span class="c1">// error
</span></code></pre></td></tr></table>
</div>
</div><p>The above example uses <code>response.text()</code> first, and then the <code>Stream</code> is read out. If you call <code>response.json()</code> later, there is no more content to read, so an error is reported.</p>
<p>The <code>Response</code> object provides the <code>Response.clone()</code> method to create a copy of the <code>Response</code> object for multiple reads.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;flowers.jpg&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">response2</span> <span class="o">=</span> <span class="nx">response1</span><span class="p">.</span><span class="nx">clone</span><span class="p">();</span>

<span class="kr">const</span> <span class="nx">myBlob1</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response1</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>
<span class="kr">const</span> <span class="nx">myBlob2</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response2</span><span class="p">.</span><span class="nx">blob</span><span class="p">();</span>

<span class="nx">image1</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">myBlob1</span><span class="p">);</span>
<span class="nx">image2</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">myBlob2</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, <code>response.clone()</code> makes a copy of the <code>Response</code> object, and then reads the same image twice.</p>
<p>The <code>Response</code> object also has a <code>Response.redirect()</code> method that redirects the <code>Response</code> result to the specified <code>URL</code>. This method is generally only used inside the <code>Service Worker</code>, so it is not described here.</p>
<h3 id="26-the-responsebody-property">2.6 The Response.body property</h3>
<p>The <code>Response.body</code> property is the underlying interface exposed by the <code>Response</code> object, returning a <code>ReadableStream</code> object for the user to manipulate.</p>
<p>It can be used to read content in chunks, and one application is to display the progress of a download.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;flower.jpg&#39;</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">reader</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">getReader</span><span class="p">();</span>

<span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span><span class="nx">done</span><span class="p">,</span> <span class="nx">value</span><span class="p">}</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">reader</span><span class="p">.</span><span class="nx">read</span><span class="p">();</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Received </span><span class="si">${</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="si">}</span><span class="sb"> bytes`</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the <code>response.body.getReader()</code> method returns a traverser. The <code>read()</code> method of this traverser returns one object at a time, representing the block of content read this time.</p>
<p>The <code>done</code> property of this object is a Boolean value that determines whether the read is complete; the <code>value</code> property is an <code>arrayBuffer</code> array that represents the contents of the block, and the <code>value.length</code> property is the size of the current block.</p>
<h2 id="3-the-second-parameter-of-fetch-custom-http-request">3. the second parameter of fetch(): custom HTTP request</h2>
<p>The first argument to <code>fetch()</code> is the <code>URL</code>, and it can also accept a second argument as a configuration object to customize the outgoing <code>HTTP</code> request.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">optionObj</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>optionObj</code> of the above command is the second parameter.</p>
<p>The method, header, and data body of the HTTP request are set inside this object. Here are some examples.</p>
<h3 id="post-request">POST request</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;Content-type&#34;</span><span class="o">:</span> <span class="s2">&#34;application/x-www-form-urlencoded; charset=UTF-8&#34;</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="s1">&#39;foo=bar&amp;lorem=ipsum&#39;</span><span class="p">,</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">json</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the configuration object uses three properties.</p>
<ul>
<li><code>method</code>: method of the HTTP request, POST, DELETE, PUT are set in this property.</li>
<li><code>headers</code>: an object to customize the headers of the HTTP request.</li>
<li><code>body</code>: the data body of the POST request.</li>
</ul>
<p>Note that some headers cannot be set via the <code>headers</code> attribute, such as <code>Content-Length</code>, <code>Cookie</code>, <code>Host</code> and so on. They are automatically generated by the browser and cannot be modified.</p>
<h3 id="submit-json-data">Submit JSON data</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span>  <span class="p">{</span> <span class="nx">name</span><span class="o">:</span>  <span class="s1">&#39;John&#39;</span><span class="p">,</span> <span class="nx">surname</span><span class="o">:</span>  <span class="s1">&#39;Smith&#39;</span>  <span class="p">};</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/article/fetch/post/user&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
   <span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span> <span class="s1">&#39;application/json;charset=utf-8&#39;</span>
  <span class="p">},</span> 
  <span class="nx">body</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> 
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the header <code>Content-Type</code> should be set to &lsquo;application/json;charset=utf-8&rsquo;. Because the default sent is plain text, the default value of <code>Content-Type</code> is &lsquo;text/plain;charset=UTF-8&rsquo;.</p>
<h3 id="submission-form">Submission Form</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;form&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/users&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">body</span><span class="o">:</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">(</span><span class="nx">form</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="file-upload">File upload</h3>
<p>If there is a file selector inside the form, you can use the previous example to write the uploaded file to be included in the whole form and submit it together.</p>
<p>Another way is to add files with a script to construct a form for uploading, see the example below.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;input[type=&#34;file&#34;]&#39;</span><span class="p">);</span>

<span class="kr">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;file&#39;</span><span class="p">,</span> <span class="nx">input</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
<span class="nx">data</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">);</span>

<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/avatars&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">data</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>When uploading binary files, you don&rsquo;t need to change the <code>Content-Type</code> in the header, the browser will set it automatically.</p>
<h3 id="upload-binary-data-directly">Upload binary data directly</h3>
<p><code>fetch()</code> can also upload binary data directly, putting <code>Blob</code> or <code>arrayBuffer</code> data inside the <code>body</code> property.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">blob</span> <span class="o">=</span> <span class="kr">await</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="p">=&gt;</span>   
  <span class="nx">canvasElem</span><span class="p">.</span><span class="nx">toBlob</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span>  <span class="s1">&#39;image/png&#39;</span><span class="p">)</span>
<span class="p">);</span>

<span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/article/fetch/post/image&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span>  <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
  <span class="nx">body</span><span class="o">:</span> <span class="nx">blob</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="4-the-full-api-for-the-fetch-configuration-object">4. The full API for the fetch() configuration object</h2>
<p>The full <code>API</code> for the second parameter of <code>fetch()</code> is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">method</span><span class="o">:</span> <span class="s2">&#34;GET&#34;</span><span class="p">,</span>
  <span class="nx">headers</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&#34;Content-Type&#34;</span><span class="o">:</span> <span class="s2">&#34;text/plain;charset=UTF-8&#34;</span>
  <span class="p">},</span>
  <span class="nx">body</span><span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
  <span class="nx">referrer</span><span class="o">:</span> <span class="s2">&#34;about:client&#34;</span><span class="p">,</span>
  <span class="nx">referrerPolicy</span><span class="o">:</span> <span class="s2">&#34;no-referrer-when-downgrade&#34;</span><span class="p">,</span>
  <span class="nx">mode</span><span class="o">:</span> <span class="s2">&#34;cors&#34;</span><span class="p">,</span> 
  <span class="nx">credentials</span><span class="o">:</span> <span class="s2">&#34;same-origin&#34;</span><span class="p">,</span>
  <span class="nx">cache</span><span class="o">:</span> <span class="s2">&#34;default&#34;</span><span class="p">,</span>
  <span class="nx">redirect</span><span class="o">:</span> <span class="s2">&#34;follow&#34;</span><span class="p">,</span>
  <span class="nx">integrity</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
  <span class="nx">keepalive</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">signal</span><span class="o">:</span> <span class="kc">undefined</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>The underlying <code>fetch()</code> request uses the interface of the <code>Request()</code> object with exactly the same parameters, so the <code>API</code> above is also the <code>API</code> of <code>Request()</code>.</p>
<p>Among these properties, <code>headers</code>, <code>body</code>, and <code>method</code> have been given as examples earlier, and the following is an introduction to the other properties.</p>
<p><strong>cache</strong></p>
<p>The <code>cache</code> property specifies how the cache is handled. The possible values are as follows.</p>
<ul>
<li><code>default</code>: default value, look for matching requests inside the cache first.</li>
<li><code>no-store</code>: request the remote server directly, and do not update the cache.</li>
<li><code>reload</code>: request the remote server directly and update the cache.</li>
<li><code>no-cache</code>: compare server resources with local cache, use server resources only if there is a new version, otherwise use cache.</li>
<li><code>force-cache</code>: cache takes precedence and requests the remote server only if no cache exists.</li>
<li><code>only-if-cached</code>: only check the cache, if it does not exist inside the cache, a 504 error will be returned.</li>
</ul>
<p><strong>mode</strong></p>
<p>The <code>mode</code> attribute specifies the mode of the request. The possible values are as follows.</p>
<ul>
<li><code>cors</code>: default value, cross-domain requests are allowed.</li>
<li><code>same-origin</code>: only same-origin requests are allowed.</li>
<li><code>no-cors</code>: request methods are limited to <code>GET</code>, <code>POST</code> and <code>HEAD</code>, and only a limited number of simple headers can be used, no cross-domain complex headers can be added, equivalent to the requests that can be made by submitting a form.</li>
</ul>
<p><strong>credentials</strong></p>
<p>The <code>credentials</code> attribute specifies whether to send <code>cookies</code>. The possible values are as follows.</p>
<ul>
<li><code>same-origin</code>: default value, send <code>Cookie</code> for same-origin requests, not for cross-domain requests.</li>
<li><code>include</code>: <code>Cookie</code> is sent for both same-origin and cross-domain requests.</li>
<li><code>omit</code>: no cookie is sent for all requests.</li>
</ul>
<p>Cross-domain requests send <code>Cookie</code> and require the <code>credentials</code> property to be set to <code>include</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://another.com&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">credentials</span><span class="o">:</span> <span class="s2">&#34;include&#34;</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>signal</strong></p>
<p>The <code>signal</code> attribute specifies an <code>AbortSignal</code> instance to cancel the <code>fetch()</code> request, as detailed in the next section.</p>
<p><strong>keepalive</strong></p>
<p>The <code>keepalive</code> property is used when the page is offloaded to tell the browser to stay connected in the background and continue sending data.</p>
<p>A typical scenario is when a user leaves a web page and the script submits some statistics about the user&rsquo;s behavior to the server. At this point, if the <code>keepalive</code> property is not used, the data may not be sent because the browser has unloaded the page.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onunload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/analytics&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">method</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
    <span class="nx">body</span><span class="o">:</span> <span class="s2">&#34;statistics&#34;</span><span class="p">,</span>
    <span class="nx">keepalive</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">});</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>redirect</strong></p>
<p>The <code>redirect</code> attribute specifies the method of handling <code>HTTP</code> jumps. The possible values are as follows.</p>
<ul>
<li><code>follow</code>: default value, <code>fetch()</code> follows <code>HTTP</code> jumps.</li>
<li><code>error</code>: <code>fetch()</code> reports an error if a jump occurs.</li>
<li><code>manual</code>: <code>fetch()</code> does not follow HTTP jumps, but the <code>response.url</code> property will point to the new <code>URL</code> and the <code>response.redirected</code> property will change to <code>true</code>, leaving it up to the developer to decide how to handle subsequent jumps.</li>
</ul>
<p><strong>integrity</strong></p>
<p>The <code>integrity</code> attribute specifies a hash value to check that the data returned by the <code>HTTP</code> response is equal to this pre-defined hash value.</p>
<p>For example, when downloading a file, check that the <code>SHA-256</code> hash of the file matches to ensure that it has not been tampered with.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;http://site.com/file&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">integrity</span><span class="o">:</span> <span class="s1">&#39;sha256-abcdef&#39;</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>referrer</strong></p>
<p>The <code>referrer</code> attribute is used to set the <code>referer</code> header for <code>fetch()</code> requests.</p>
<p>This attribute can be any string, or it can be set to an empty string (i.e. no <code>referer</code> header is sent).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js">
<span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/page&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">referrer</span><span class="o">:</span> <span class="s1">&#39;&#39;</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>referrerPolicy</strong></p>
<p>The <code>referrerPolicy</code> property is used to set the rules for the <code>Refererer</code> header. The possible values are as follows.</p>
<ul>
<li><code>no-referrer-when-downgrade</code>: default, always sends the Referer header, unless it is not sent when requesting HTTP resources from HTTPS pages.</li>
<li><code>no-referrer</code>: do not send the Referer header.
<code>origin</code>: The Referer header contains only the domain name, not the full path.</li>
<li><code>origin-when-cross-origin</code>: same origin request Referer header contains full path, cross-domain request contains only domain name.</li>
<li><code>same-origin</code>: cross-domain request does not send the Referer, same-origin request sends it.</li>
<li><code>strict-origin</code>: The Referer header contains only the domain name, and the Referer header is not sent for HTTPS pages requesting HTTP resources.</li>
<li><code>strict-origin-when-cross-origin</code>: The Referer header contains the full path for same-origin requests, and only the domain name for cross-domain requests; it is not sent when HTTPS pages request HTTP resources.</li>
<li><code>unsafe-url</code>: always send the Referer header regardless of the case.</li>
</ul>
<h2 id="5-cancel-fetch-request">5. Cancel fetch() request</h2>
<p>After the <code>fetch()</code> request is sent, if you want to cancel it in the middle, you need to use the <code>AbortController</code> object.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AbortController</span><span class="p">();</span>
<span class="kd">let</span> <span class="nx">signal</span> <span class="o">=</span> <span class="nx">controller</span><span class="p">.</span><span class="nx">signal</span><span class="p">;</span>

<span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">signal</span><span class="o">:</span> <span class="nx">controller</span><span class="p">.</span><span class="nx">signal</span>
<span class="p">});</span>

<span class="nx">signal</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;abort&#39;</span><span class="p">,</span>
  <span class="p">()</span> <span class="p">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;abort!&#39;</span><span class="p">)</span>
<span class="p">);</span>

<span class="nx">controller</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span> <span class="c1">// cancel
</span><span class="c1"></span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">signal</span><span class="p">.</span><span class="nx">aborted</span><span class="p">);</span> <span class="c1">// true
</span></code></pre></td></tr></table>
</div>
</div><p>In the above example, first a new <code>AbortController</code> instance is created, then a <code>fetch()</code> request is sent, and the <code>signal</code> property of the configuration object must specify to receive the signal <code>controller.signal</code> from the <code>AbortController</code> instance.</p>
<p>The <code>controller.abort()</code> method is used to send the abort signal. This triggers the <code>abort</code> event, which can be listened to, or the <code>controller.signal.aborted</code> property can be used to determine if the cancel signal has been sent.</p>
<p>Here is an example of an automatic request cancellation after 1 second.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kd">let</span> <span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AbortController</span><span class="p">();</span>
<span class="nx">setTimeout</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="nx">controller</span><span class="p">.</span><span class="nx">abort</span><span class="p">(),</span> <span class="mi">1000</span><span class="p">);</span>

<span class="k">try</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="kr">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/long-operation&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">signal</span><span class="o">:</span> <span class="nx">controller</span><span class="p">.</span><span class="nx">signal</span>
  <span class="p">});</span>
<span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">name</span> <span class="o">==</span> <span class="s1">&#39;AbortError&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Aborted!&#39;</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="nx">err</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="6-reference-links">6. Reference Links</h2>
<ul>
<li><a href="https://javascript.info/fetch">Network requests: Fetch</a></li>
<li><a href="https://github.com/node-fetch/node-fetch">node-fetch</a></li>
<li><a href="https://developers.google.com/web/updates/2015/03/introduction-to-fetch">Introduction to fetch()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Using Fetch</a></li>
<li><a href="https://developerhowto.com/2019/09/14/javascript-fetch-api/">Javascript Fetch API: The XMLHttpRequest evolution</a></li>
</ul>
<hr>
<p>Reference <code>https://www.ruanyifeng.com/blog/2020/12/fetch-tutorial.html</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/fetch/">fetch</a>
          <a href="/tags/javascript/">javascript</a>
          <a href="/tags/ajax/">ajax</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-06/spring-cloud-gateway-custom-gateway-filter/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Spring-Cloud-Gateway Custom Gateway Filter</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-06/be-aware-of-security-vulnerability-caused-by-spring-boot-actuator/">
            <span class="next-text nav-default">Be Aware of Security Vulnerability Caused by Spring Boot Actuator</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
