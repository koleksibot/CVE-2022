<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>PostgreSQL Jsonpath Usage in Practice - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="jsonpath is a tool used to parse json data, similar to xpath, jsonpath can parse very complex json data.
PostgreSQL json development history. postgreSQL has supported json data type since 9.2, but due to the poor performance of parsing json data, it is not favored by everyone, but choose to use nosql database instead. So from pg9.4 onwards, the jsonb data type was supported. Compared to the json type, jsonb does not need to be parsed every time it is used, so the performance is much improved, and it also supports index queries and so on." /><meta name="keywords" content="postgresql,jsonpath" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-06/postgresql-jsonpath-usage-in-practice/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="PostgreSQL Jsonpath Usage in Practice" />
<meta property="og:description" content="jsonpath is a tool used to parse json data, similar to xpath, jsonpath can parse very complex json data.
PostgreSQL json development history. postgreSQL has supported json data type since 9.2, but due to the poor performance of parsing json data, it is not favored by everyone, but choose to use nosql database instead. So from pg9.4 onwards, the jsonb data type was supported. Compared to the json type, jsonb does not need to be parsed every time it is used, so the performance is much improved, and it also supports index queries and so on." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-06/postgresql-jsonpath-usage-in-practice/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-17T21:28:13+08:00" />
<meta property="article:modified_time" content="2021-06-17T21:28:13+08:00" />

<meta itemprop="name" content="PostgreSQL Jsonpath Usage in Practice">
<meta itemprop="description" content="jsonpath is a tool used to parse json data, similar to xpath, jsonpath can parse very complex json data.
PostgreSQL json development history. postgreSQL has supported json data type since 9.2, but due to the poor performance of parsing json data, it is not favored by everyone, but choose to use nosql database instead. So from pg9.4 onwards, the jsonb data type was supported. Compared to the json type, jsonb does not need to be parsed every time it is used, so the performance is much improved, and it also supports index queries and so on."><meta itemprop="datePublished" content="2021-06-17T21:28:13+08:00" />
<meta itemprop="dateModified" content="2021-06-17T21:28:13+08:00" />
<meta itemprop="wordCount" content="690">
<meta itemprop="keywords" content="postgresql,jsonpath," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PostgreSQL Jsonpath Usage in Practice"/>
<meta name="twitter:description" content="jsonpath is a tool used to parse json data, similar to xpath, jsonpath can parse very complex json data.
PostgreSQL json development history. postgreSQL has supported json data type since 9.2, but due to the poor performance of parsing json data, it is not favored by everyone, but choose to use nosql database instead. So from pg9.4 onwards, the jsonb data type was supported. Compared to the json type, jsonb does not need to be parsed every time it is used, so the performance is much improved, and it also supports index queries and so on."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">PostgreSQL Jsonpath Usage in Practice</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-06-17 21:28:13 </span>
        <div class="post-category">
            <a href="/categories/database/"> database </a>
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 690 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#postgresql-json-development-history">PostgreSQL json development history.</a></li>
        <li><a href="#jsonpath-syntax">JSONPATH syntax.</a></li>
        <li><a href="#example-of-jsonpath-usage">Example of JSONPATH usage.</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><code>jsonpath</code> is a tool used to parse json data, similar to <code>xpath</code>, jsonpath can parse very complex json data.</p>
<h2 id="postgresql-json-development-history">PostgreSQL json development history.</h2>
<p>postgreSQL has supported json data type since 9.2, but due to the poor performance of parsing json data, it is not favored by everyone, but choose to use nosql database instead. So from pg9.4 onwards, the jsonb data type was supported. Compared to the json type, jsonb does not need to be parsed every time it is used, so the performance is much improved, and it also supports index queries and so on.</p>
<p>And from pg12 onwards the support for json is even more powerful: sql 2016 has 15 sql/json standards, PG 12 implements 14, far more than oracle (18c 11/15), mysql (8.0.4 5/15), sqlserver (2017 2/15) the latest version.</p>
<p>At the same time in pg12 introduced the jsonpath type, and a series of related functions, making the query performance of json data further, and more and more powerful.</p>
<h2 id="jsonpath-syntax">JSONPATH syntax.</h2>
<p>The syntax of the JSONpath function expression is as follows.</p>
<ul>
<li>The dot . Indicates an element that references Json data</li>
<li>Square brackets [] indicate a reference to an array element</li>
<li>Subscripts for array elements in Json data start from 0</li>
</ul>
<p>The variables in JSONpath are as follows.</p>
<ul>
<li>The $ symbol indicates the variable of the Json text to be queried</li>
<li>$varname indicates the specified variable</li>
<li>@ refers to the variable that represents the current path element in the filter expression</li>
</ul>
<h2 id="example-of-jsonpath-usage">Example of JSONPATH usage.</h2>
<p>Simple query:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="n">jsonb_path_query_array</span><span class="p">(</span><span class="s1">&#39;[1,2,3,4,5]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$[*] ? (@ &gt; 3)&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"> </span><span class="n">jsonb_path_query_array</span><span class="w">
</span><span class="w"></span><span class="c1">------------------------
</span><span class="c1"></span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>Create test tables:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">house</span><span class="p">(</span><span class="n">js</span><span class="w"> </span><span class="n">jsonb</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">house</span><span class="w"> </span><span class="k">VALUES</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="s1">&#39;{
</span><span class="s1">    &#39;</span><span class="n">address</span><span class="s1">&#39;: {
</span><span class="s1">           &#39;</span><span class="n">city</span><span class="s1">&#39;:&#39;</span><span class="n">Moscow</span><span class="s1">&#39;,
</span><span class="s1">           &#39;</span><span class="n">street</span><span class="s1">&#39;: &#39;</span><span class="n">Ulyanova</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="n">A</span><span class="s1">&#39;
</span><span class="s1">    },
</span><span class="s1">    &#39;</span><span class="n">lift</span><span class="s1">&#39;: false,
</span><span class="s1">    &#39;</span><span class="n">floor</span><span class="s1">&#39;: [
</span><span class="s1">         {
</span><span class="s1">            &#39;</span><span class="k">level</span><span class="s1">&#39;: 1,
</span><span class="s1">             &#39;</span><span class="n">apt</span><span class="s1">&#39;: [
</span><span class="s1">                          {&#39;</span><span class="k">no</span><span class="s1">&#39;: 1, &#39;</span><span class="n">area</span><span class="s1">&#39;: 40, &#39;</span><span class="n">rooms</span><span class="s1">&#39;: 1},
</span><span class="s1">                          {&#39;</span><span class="k">no</span><span class="s1">&#39;: 2, &#39;</span><span class="n">area</span><span class="s1">&#39;: 80, &#39;</span><span class="n">rooms</span><span class="s1">&#39;: 3},
</span><span class="s1">                          {&#39;</span><span class="k">no</span><span class="s1">&#39;: 3, &#39;</span><span class="n">area</span><span class="s1">&#39;: 50, &#39;</span><span class="n">rooms</span><span class="s1">&#39;: 2}
</span><span class="s1">            ]
</span><span class="s1">        },
</span><span class="s1">        {
</span><span class="s1">            &#39;</span><span class="k">level</span><span class="s1">&#39;: 2,
</span><span class="s1">            &#39;</span><span class="n">apt</span><span class="s1">&#39;: [
</span><span class="s1">                          {&#39;</span><span class="k">no</span><span class="s1">&#39;: 4, &#39;</span><span class="n">area</span><span class="s1">&#39;: 100, &#39;</span><span class="n">rooms</span><span class="s1">&#39;: 3},
</span><span class="s1">                          {&#39;</span><span class="k">no</span><span class="s1">&#39;: 5, &#39;</span><span class="n">area</span><span class="s1">&#39;: 60, &#39;</span><span class="n">rooms</span><span class="s1">&#39;: 2}
</span><span class="s1">            ]
</span><span class="s1">        }
</span><span class="s1">    ]
</span><span class="s1">}&#39;</span><span class="p">);</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>Query:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">select</span><span class="w"> </span><span class="n">jsonb_pretty</span><span class="p">(</span><span class="n">js</span><span class="p">)</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">house</span><span class="w"> </span><span class="p">;</span><span class="w">
</span><span class="w">           </span><span class="n">jsonb_pretty</span><span class="w">
</span><span class="w"></span><span class="c1">----------------------------------
</span><span class="c1"></span><span class="w"> </span><span class="err">{</span><span class="w">                               </span><span class="o">+</span><span class="w">
</span><span class="w">     </span><span class="s1">&#39;lift&#39;</span><span class="p">:</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w">              </span><span class="o">+</span><span class="w">
</span><span class="w">     </span><span class="s1">&#39;floor&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">                  </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="err">{</span><span class="w">                       </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="s1">&#39;apt&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">            </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">{</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">}</span><span class="p">,</span><span class="w">              </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">{</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">    </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">}</span><span class="p">,</span><span class="w">              </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">{</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">    </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">}</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="p">],</span><span class="w">                  </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="s1">&#39;level&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">          </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="err">}</span><span class="p">,</span><span class="w">                      </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="err">{</span><span class="w">                       </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="s1">&#39;apt&#39;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">            </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">{</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">    </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">}</span><span class="p">,</span><span class="w">              </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">{</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">    </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w">
</span><span class="w">                     </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">  </span><span class="o">+</span><span class="w">
</span><span class="w">                 </span><span class="err">}</span><span class="w">               </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="p">],</span><span class="w">                  </span><span class="o">+</span><span class="w">
</span><span class="w">             </span><span class="s1">&#39;level&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">          </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="err">}</span><span class="w">                       </span><span class="o">+</span><span class="w">
</span><span class="w">     </span><span class="p">],</span><span class="w">                          </span><span class="o">+</span><span class="w">
</span><span class="w">     </span><span class="s1">&#39;address&#39;</span><span class="p">:</span><span class="w"> </span><span class="err">{</span><span class="w">                </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="s1">&#39;city&#39;</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Moscow&#39;</span><span class="p">,</span><span class="w">       </span><span class="o">+</span><span class="w">
</span><span class="w">         </span><span class="s1">&#39;street&#39;</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;Ulyanova, 7A&#39;</span><span class="o">+</span><span class="w">
</span><span class="w">     </span><span class="err">}</span><span class="w">                           </span><span class="o">+</span><span class="w">
</span><span class="w"> </span><span class="err">}</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>The hierarchy of this data is shown in the following figure.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/17/38f2072856094a6fbc1c57aeb9a75cad.png" alt="-"></p>
<p>It looks like a complex data hierarchy, but in practice it can be much more complex than that, so let&rsquo;s see how to use jsonpath for querying.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="n">jsonb_path_query_array</span><span class="p">(</span><span class="n">js</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.floor[0, 1].apt[1 to last]&#39;</span><span class="p">)</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="p">;</span><span class="w">
</span><span class="w">                                          </span><span class="n">jsonb_path_query_array</span><span class="w">
</span><span class="w"></span><span class="c1">-----------------------------------------------------------------------------------------------------------
</span><span class="c1"></span><span class="w"> </span><span class="p">[</span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="err">}</span><span class="p">]</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>And if we don&rsquo;t use jsonpath, we may need to write it like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="n">jsonb_agg</span><span class="p">(</span><span class="n">apt</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">         </span><span class="k">SELECT</span><span class="w"> </span><span class="n">apt</span><span class="o">-&gt;</span><span class="n">generate_series</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">jsonb_array_length</span><span class="p">(</span><span class="n">apt</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">              </span><span class="k">SELECT</span><span class="w"> </span><span class="n">js</span><span class="o">-&gt;</span><span class="s1">&#39;floor&#39;</span><span class="o">-&gt;</span><span class="k">unnest</span><span class="p">(</span><span class="nb">array</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">])</span><span class="o">-&gt;</span><span class="s1">&#39;apt&#39;</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">         </span><span class="p">)</span><span class="w"> </span><span class="n">apts</span><span class="p">(</span><span class="n">apt</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">apts</span><span class="p">(</span><span class="n">apt</span><span class="p">);</span><span class="w">
</span><span class="w">                                                 </span><span class="n">jsonb_agg</span><span class="w">
</span><span class="w"></span><span class="c1">-----------------------------------------------------------------------------------------------------------
</span><span class="c1"></span><span class="w"> </span><span class="p">[</span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="err">}</span><span class="p">,</span><span class="w"> </span><span class="err">{</span><span class="s1">&#39;no&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;area&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;rooms&#39;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="err">}</span><span class="p">]</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>In contrast, it is much easier to use the jsonpath-related functions.</p>
<p>For example, if we need to determine whether json data contains a value, we can do this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="n">jsonb_path_exists</span><span class="p">(</span><span class="n">js</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.** ? (@ == &#39;</span><span class="n">Moscow</span><span class="s1">&#39;)&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="p">;</span><span class="w">
</span><span class="w"> </span><span class="n">jsonb_path_exists</span><span class="w">
</span><span class="w"></span><span class="c1">-------------------
</span><span class="c1"></span><span class="w"> </span><span class="n">t</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>And what if you don&rsquo;t use jsonpath?</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">WITH</span><span class="w"> </span><span class="k">RECURSIVE</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">       </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="w"> </span><span class="k">UNION</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="k">SELECT</span><span class="w"> </span><span class="n">COALESCE</span><span class="p">(</span><span class="n">kv</span><span class="p">.</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">value</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">LATERAL</span><span class="w"> </span><span class="n">jsonb_each</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">                 </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">jsonb_typeof</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;object&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">value</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">                 </span><span class="k">ELSE</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">END</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="p">)</span><span class="w"> </span><span class="n">kv</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">true</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="k">LATERAL</span><span class="w"> </span><span class="n">jsonb_array_elements</span><span class="w"> </span><span class="p">(</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">                 </span><span class="k">CASE</span><span class="w"> </span><span class="k">WHEN</span><span class="w"> </span><span class="n">jsonb_typeof</span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;array&#39;</span><span class="w"> </span><span class="k">THEN</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">value</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">                 </span><span class="k">ELSE</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">END</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="p">)</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">true</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">             </span><span class="k">WHERE</span><span class="w"> </span><span class="n">kv</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">value</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w">       </span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="p">(</span><span class="o">#</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="n">Moscow</span><span class="s1">&#39;&#39;</span><span class="p">);</span><span class="w">
</span><span class="w"> </span><span class="k">exists</span><span class="w">
</span><span class="w"></span><span class="c1">--------
</span><span class="c1"></span><span class="w"> </span><span class="n">t</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="k">row</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>So how to use jsonpath for data filtering? Take the above table as an example, we query the data with apt.no greater than 3.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SELECT</span><span class="w"> </span><span class="n">jsonb_path_query</span><span class="p">(</span><span class="n">js</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;$.floor.apt.no ? (@&gt;3)&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="p">;</span><span class="w">
</span><span class="w"> </span><span class="n">jsonb_path_query</span><span class="w">
</span><span class="w"></span><span class="c1">------------------
</span><span class="c1"></span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="k">rows</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>Similarly, jsonpath supports the use of indexes.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">house</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gin</span><span class="w"> </span><span class="p">(</span><span class="n">js</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">SET</span><span class="w"> </span><span class="n">ENABLE_SEQSCAN</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="k">OFF</span><span class="p">;</span><span class="w">
</span><span class="w"></span><span class="k">SET</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="o">@</span><span class="n">bill</span><span class="o">=&gt;</span><span class="k">EXPLAIN</span><span class="w"> </span><span class="p">(</span><span class="n">COSTS</span><span class="w"> </span><span class="k">OFF</span><span class="p">)</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">house</span><span class="w">
</span><span class="w"></span><span class="n">bill</span><span class="o">-#</span><span class="w">       </span><span class="k">WHERE</span><span class="w"> </span><span class="n">js</span><span class="w"> </span><span class="o">@?</span><span class="w"> </span><span class="s1">&#39;$.floor[*].apt[*] ? (@.rooms == 3)&#39;</span><span class="p">;</span><span class="w">
</span><span class="w">                                   </span><span class="n">QUERY</span><span class="w"> </span><span class="n">PLAN</span><span class="w">
</span><span class="w"></span><span class="c1">--------------------------------------------------------------------------------
</span><span class="c1"></span><span class="w"> </span><span class="n">Bitmap</span><span class="w"> </span><span class="n">Heap</span><span class="w"> </span><span class="n">Scan</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">house</span><span class="w">
</span><span class="w">   </span><span class="k">Recheck</span><span class="w"> </span><span class="n">Cond</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">js</span><span class="w"> </span><span class="o">@?</span><span class="w"> </span><span class="s1">&#39;$.&#39;</span><span class="n">floor</span><span class="s1">&#39;[*].&#39;</span><span class="n">apt</span><span class="s1">&#39;[*]?(@.&#39;</span><span class="n">rooms</span><span class="s1">&#39; == 3)&#39;</span><span class="p">::</span><span class="n">jsonpath</span><span class="p">)</span><span class="w">
</span><span class="w">   </span><span class="o">-&gt;</span><span class="w">  </span><span class="n">Bitmap</span><span class="w"> </span><span class="k">Index</span><span class="w"> </span><span class="n">Scan</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">house_js_idx</span><span class="w">
</span><span class="w">         </span><span class="k">Index</span><span class="w"> </span><span class="n">Cond</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="n">js</span><span class="w"> </span><span class="o">@?</span><span class="w"> </span><span class="s1">&#39;$.&#39;</span><span class="n">floor</span><span class="s1">&#39;[*].&#39;</span><span class="n">apt</span><span class="s1">&#39;[*]?(@.&#39;</span><span class="n">rooms</span><span class="s1">&#39; == 3)&#39;</span><span class="p">::</span><span class="n">jsonpath</span><span class="p">)</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="k">rows</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>In addition, jsonpath supports more than 20 kinds of related functions, is not very powerful, hurry up and use it!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="n">postgres</span><span class="o">=#</span><span class="w"> </span><span class="err">\</span><span class="n">df</span><span class="w"> </span><span class="o">*</span><span class="p">.</span><span class="o">*</span><span class="n">json</span><span class="o">*</span><span class="n">path</span><span class="o">*</span><span class="w">
</span><span class="w">                                                                        </span><span class="n">List</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">functions</span><span class="w">
</span><span class="w">   </span><span class="k">Schema</span><span class="w">   </span><span class="o">|</span><span class="w">             </span><span class="n">Name</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">Result</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="o">|</span><span class="w">                                    </span><span class="n">Argument</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="n">types</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Type</span><span class="w">
</span><span class="w"></span><span class="c1">------------+------------------------------+------------------+------------------------------------------------------------------------------------------
</span><span class="c1"></span><span class="o">-+</span><span class="c1">------
</span><span class="c1"></span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gin_consistent_jsonb_path</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="nb">smallint</span><span class="p">,</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="nb">integer</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gin_extract_jsonb_path</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">internal</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gin_extract_jsonb_query_path</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">internal</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="nb">smallint</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">gin_triconsistent_jsonb_path</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;char&#39;</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="nb">smallint</span><span class="p">,</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="nb">integer</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="p">,</span><span class="w"> </span><span class="n">internal</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">json_extract_path</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">json</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">from_json</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">path_elems</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">json_extract_path_text</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="nb">text</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">from_json</span><span class="w"> </span><span class="n">json</span><span class="p">,</span><span class="w"> </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">path_elems</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_delete_path</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_extract_path</span><span class="w">           </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">from_json</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">path_elems</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_extract_path_text</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="nb">text</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="n">from_json</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">VARIADIC</span><span class="w"> </span><span class="n">path_elems</span><span class="w"> </span><span class="nb">text</span><span class="p">[]</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_exists</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_exists_opr</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_exists_tz</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_match</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_match_opr</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_match_tz</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="nb">boolean</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query</span><span class="w">             </span><span class="o">|</span><span class="w"> </span><span class="k">SETOF</span><span class="w"> </span><span class="n">jsonb</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query_array</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query_array_tz</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query_first</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query_first_tz</span><span class="w">    </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonb_path_query_tz</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="k">SETOF</span><span class="w"> </span><span class="n">jsonb</span><span class="w">      </span><span class="o">|</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">jsonpath</span><span class="p">,</span><span class="w"> </span><span class="n">vars</span><span class="w"> </span><span class="n">jsonb</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;{}&#39;</span><span class="p">::</span><span class="n">jsonb</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="nb">boolean</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="k">false</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath_in</span><span class="w">                  </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">cstring</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath_out</span><span class="w">                 </span><span class="o">|</span><span class="w"> </span><span class="n">cstring</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath_recv</span><span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">         </span><span class="o">|</span><span class="w"> </span><span class="n">internal</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"> </span><span class="n">pg_catalog</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath_send</span><span class="w">                </span><span class="o">|</span><span class="w"> </span><span class="n">bytea</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">jsonpath</span><span class="w">
</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">func</span><span class="w">
</span><span class="w"></span><span class="p">(</span><span class="mi">25</span><span class="w"> </span><span class="k">rows</span><span class="p">)</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>Reference link:</p>
<ul>
<li><a href="https://github.com/digoal/blog/blob/master/202010/20201013_01.md">https://github.com/digoal/blog/blob/master/202010/20201013_01.md</a></li>
<li><a href="http://www.postgres.cn/docs/12/functions-json.html">http://www.postgres.cn/docs/12/functions-json.html</a></li>
<li><a href="http://www.postgres.cn/docs/12/datatype-json.html#DATATYPE-JSONPATH">http://www.postgres.cn/docs/12/datatype-json.html#DATATYPE-JSONPATH</a></li>
</ul>
<hr>
<p>Reference <code>https://my.oschina.net/postgresqlchina/blog/5079754</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/postgresql/">postgresql</a>
          <a href="/tags/jsonpath/">jsonpath</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-06/go-os-exec-short-tutorial/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Go os/exec Short Tutorial</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-06/using-gomock-for-unit-testing-in-go/">
            <span class="next-text nav-default">Using Gomock for Unit Testing in Go</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
