<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Certify Your Git Commits on Github With GPG - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Because of the email-based identity verification feature of Git, you can easily fake being someone else to make a Commit. How do you ensure that the Commit is really a developer commit? This is where a special key, the GPG key, is needed for authentication.
About GPG GNU Privacy Guard (GnuPG or GPG) is a cryptographic software for encrypting and signing communication content and managing keys for asymmetric cryptography.
Asymmetric cryptography is a technique that you should have come across, and it is used in many fields." /><meta name="keywords" content="github,gpg,git" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-06/certify-your-git-commits-on-github-with-gpg/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Certify Your Git Commits on Github With GPG" />
<meta property="og:description" content="Because of the email-based identity verification feature of Git, you can easily fake being someone else to make a Commit. How do you ensure that the Commit is really a developer commit? This is where a special key, the GPG key, is needed for authentication.
About GPG GNU Privacy Guard (GnuPG or GPG) is a cryptographic software for encrypting and signing communication content and managing keys for asymmetric cryptography.
Asymmetric cryptography is a technique that you should have come across, and it is used in many fields." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-06/certify-your-git-commits-on-github-with-gpg/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-23T10:57:06+08:00" />
<meta property="article:modified_time" content="2021-06-23T10:57:06+08:00" />

<meta itemprop="name" content="Certify Your Git Commits on Github With GPG">
<meta itemprop="description" content="Because of the email-based identity verification feature of Git, you can easily fake being someone else to make a Commit. How do you ensure that the Commit is really a developer commit? This is where a special key, the GPG key, is needed for authentication.
About GPG GNU Privacy Guard (GnuPG or GPG) is a cryptographic software for encrypting and signing communication content and managing keys for asymmetric cryptography.
Asymmetric cryptography is a technique that you should have come across, and it is used in many fields."><meta itemprop="datePublished" content="2021-06-23T10:57:06+08:00" />
<meta itemprop="dateModified" content="2021-06-23T10:57:06+08:00" />
<meta itemprop="wordCount" content="1194">
<meta itemprop="keywords" content="github,gpg,git," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Certify Your Git Commits on Github With GPG"/>
<meta name="twitter:description" content="Because of the email-based identity verification feature of Git, you can easily fake being someone else to make a Commit. How do you ensure that the Commit is really a developer commit? This is where a special key, the GPG key, is needed for authentication.
About GPG GNU Privacy Guard (GnuPG or GPG) is a cryptographic software for encrypting and signing communication content and managing keys for asymmetric cryptography.
Asymmetric cryptography is a technique that you should have come across, and it is used in many fields."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Certify Your Git Commits on Github With GPG</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-06-23 10:57:06 </span>
        <div class="post-category">
            <a href="/categories/security/"> security </a>
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 1194 words </span>
          <span class="more-meta"> 6 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#about-gpg">About GPG</a></li>
        <li><a href="#configuring-gpg-signature-authentication">Configuring GPG Signature Authentication</a>
          <ul>
            <li><a href="#generate-key">Generate key</a></li>
            <li><a href="#upload-github">Upload GitHub</a></li>
            <li><a href="#terminal-configuration">Terminal configuration</a></li>
          </ul>
        </li>
        <li><a href="#import-and-export-of-keys">Import and export of keys</a>
          <ul>
            <li><a href="#export-as-a-file">Export as a file</a></li>
            <li><a href="#import-from-gpg-file">Import from GPG file</a></li>
          </ul>
        </li>
        <li><a href="#trust-github-key">Trust GitHub key</a></li>
        <li><a href="#finally">Finally</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Because of the email-based identity verification feature of <code>Git</code>, you can easily fake being someone else to make a <code>Commit</code>. How do you ensure that the <code>Commit</code> is really a developer commit? This is where a special key, the <code>GPG</code> key, is needed for authentication.</p>
<h2 id="about-gpg">About GPG</h2>
<p><code>GNU Privacy Guard</code> (<code>GnuPG</code> or <code>GPG</code>) is a cryptographic software for encrypting and signing communication content and managing keys for asymmetric cryptography.</p>
<p>Asymmetric cryptography is a technique that you should have come across, and it is used in many fields. This algorithm requires two &ldquo;keys&rdquo;, a public key that can be made public and a private key that should be kept safe. The content encrypted with the public key can only be decrypted using the private key, and the content encrypted with the private key can only be decrypted using the public key.</p>
<p>At present, it is difficult for computers to decompose prime factors efficiently. For example, we multiply <code>2147483647</code> by <code>998244353</code> and use the computer to easily get the result <code>2143713423777595391</code>, but it is difficult to reverse the original two primes by giving you only one result <code>2143713423777595391</code>.</p>
<p>Using this property, and a suitable process, we get an encryption means.</p>
<p>If we imagine that we are using a decentralized communication platform, each person has a unique account (public key) and password (private key), and I want to chat privately with a friend, the content certainly does not want others to know, but in the decentralized network is difficult to avoid passing through others, then I can take that friend&rsquo;s account (public key) encryption, so that only that friend can use his own private key to unlock the content In the same way, how can he be sure that the message was sent by me and not by someone else forging my identity? Then I encrypt it with his public key and then encrypt it with my own private key (also called &ldquo;signature&rdquo;), and he finds that he can decrypt it with my public key, so it must be from me. (But your private key is leaked on &hellip;&hellip;)</p>
<p>The <code>GPG</code> authentication we are going to introduce this time is to use private key encryption (signature) to complete such an operation.</p>
<h2 id="configuring-gpg-signature-authentication">Configuring GPG Signature Authentication</h2>
<p>I&rsquo;ve talked about how it works, so let&rsquo;s see how it works.</p>
<p>It&rsquo;s not that complicated, all <code>Git</code>s come with a <code>GPG</code> (as far as I remember). If you don&rsquo;t have it, then go <a href="https://www.gnupg.org/download/">here</a> to find the right version. I won&rsquo;t go into the installation part.</p>
<h3 id="generate-key">Generate key</h3>
<p>Open a terminal (or <code>Git Bash</code> for <code>Windows</code> users)</p>
<p>The default generation is with <code>gpg --gen-key</code>, and the default key length is <code>2048</code> bits, but <code>GitHub</code> requires no less than <code>4096</code> bits, so instead use the command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --full-generate-key
</code></pre></td></tr></table>
</div>
</div><p>Enter the encryption method using the default <code>RSA and DSA</code>.</p>
<p>Next, enter the key length in the range <code>1024 - 4096</code>, or <code>4096</code> if requested by <code>GitHub</code>.</p>
<p>As for the key expiration setting, I usually set it to permanent for personal use, which means it doesn&rsquo;t matter if it doesn&rsquo;t expire. So I&rsquo;ll enter the default here.</p>
<p>After that, you can enter your user information as you see fit. Note that the email address must be one that has been authenticated by <code>GitHub</code>. If you want to keep it private, use the <code>no-reply</code> email address provided by <code>GitHub</code>. Since my <code>GitHub</code> account is bound to multiple mailboxes, the division of labor is clear, so I&rsquo;ll just take my own dedicated mailbox and use it.</p>
<p>Then you need to set a secure password. As for the complexity of your own grasp it, after a certain time in the same terminal <code>Commit</code> only need to enter the password once.</p>
<p>After that, the key information will be printed out in the terminal, it does not matter if you do not remember, you can also transfer it through some commands later.</p>
<h3 id="upload-github">Upload GitHub</h3>
<p>Enter in the terminal:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --list-keys
</code></pre></td></tr></table>
</div>
</div><p>All local keys are displayed. The weirdest-looking <code>40</code> bit <code>16</code> digit is the key&rsquo;s <code>ID</code>.</p>
<p>Then enter:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --armor --export <span class="o">{</span>key ID<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Print out the specified key:</p>
<p>Copy the message starting with <code>-----BEGIN PGP PUBLIC KEY BLOCK-----</code> and ending with <code>-----END PGP PUBLIC KEY BLOCK-----</code>.</p>
<p>This is your public key, which is how <code>GitHub</code> decodes the <code>Commit</code> that you have encrypted (signed) with your private key to actually identify it as your commit. Paste this information into &ldquo;Personal - <code>Settings -SSH and GPG key</code> - <code>New GPG keys</code>&rdquo;, which may require you to enter your <code>GitHub</code> account password.</p>
<p>If you did not use a <code>GitHub</code> authenticated email when generating the key, you will be prompted with an unauthenticated message. Then you&rsquo;ll have to go through the process again and set the new key to the appropriate email address.</p>
<h3 id="terminal-configuration">Terminal configuration</h3>
<p>With all of the above configured, it&rsquo;s time to let the terminal know which <code>GPG</code> signature you are using.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg config user.signingkey <span class="o">{</span>key ID<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>If this is too cumbersome for every repository, add a <code>--global</code> parameter.</p>
<p>Then add <code>-S</code> to <code>Commit</code> to indicate that the commit needs to be encrypted with <code>GPG</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">git commit -S -m <span class="s2">&#34;commit message&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>If you don&rsquo;t want to add this <code>-S</code> manually every time, you can set it to sign every <code>Commit</code> by default, using the command:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">git config --global commit.gpgsign <span class="nb">true</span>
</code></pre></td></tr></table>
</div>
</div><p>After that, normal submission will require a signature.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/23/dda9e921750e46ee8acf3411e452b13c.png" alt="gpg"></p>
<p>All configurations are now complete, and you can commit to try it out. Your <code>Commit</code> should already have a <code>Verified</code> marker after it</p>
<h2 id="import-and-export-of-keys">Import and export of keys</h2>
<p>If you have multiple devices to use, using the same <code>GPG key</code> will save you a lot of trouble.</p>
<h3 id="export-as-a-file">Export as a file</h3>
<p>As described above when importing <code>GitHub</code>, you can print the public/private key to the terminal, and naturally, you can save it as a file for easy transfer</p>
<p>Enter the command in the terminal:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --armor --output GPGtest_pub.gpg --export <span class="o">{</span>key ID<span class="o">}</span>
gpg --armor --output GPGtest-sec.gpg --export-secret-key <span class="o">{</span>key ID<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>This gives you two <code>GPG</code> files in your terminal&rsquo;s boot path, so keep them safe.</p>
<h3 id="import-from-gpg-file">Import from GPG file</h3>
<p>If you already have a <code>GPG</code> file, importing it is easy.</p>
<p>Enter the command in the terminal:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --import GPGtest_pub.gpg
gpg --allow-secret-key-import --import GPGtest-sec.gpg
</code></pre></td></tr></table>
</div>
</div><p>Note that you change the file name and path to your own.</p>
<h2 id="trust-github-key">Trust GitHub key</h2>
<p>You can actually use <code>GPG</code> quite flexibly once you&rsquo;ve done the above steps. However, there are some web-based operations that are signed by <code>GitHub</code> on your behalf, and we can&rsquo;t be sure of their authenticity.</p>
<p>In this case we need to upload and trust <code>GitHub</code> keys</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">curl https://github.com/web-flow.gpg <span class="p">|</span> gpg --import
</code></pre></td></tr></table>
</div>
</div><p>Then of course choose to believe him ~ (verify with your own signature)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">gpg --sign-key <span class="o">{</span>key ID<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>This way all the actions you take on the web side are also authenticated. (But your GitHub password is compromised. &hellip;&hellip;)</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/23/b7a6f22995ca4c839c7a2bb63500cf95.png" alt=" "></p>
<h2 id="finally">Finally</h2>
<p>After a bit of work, your <code>Commit</code> finally gets a <code>Verified</code> token, and it becomes less plausible that others are trying to falsify you. But <code>GPG</code> can do much more than that, and there are many more features that we should learn and explore.</p>
<hr>
<p>Reference <code>https://blog.ichr.me/post/use-gpg-verification-in-github/</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/github/">github</a>
          <a href="/tags/gpg/">gpg</a>
          <a href="/tags/git/">git</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-06/why-will-spring-remain-one-of-the-best-platforms-in-the-cloud-native-era/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Why Will Spring Remain One of the Best Platforms in the Cloud Native Era</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-06/vite&#43;react-component-development-practice/">
            <span class="next-text nav-default">Vite &#43; React Component Development Practice</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
