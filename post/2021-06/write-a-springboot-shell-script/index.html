<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Write a Springboot Shell Script - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="As a Java developer, you will use SpringBoot to develop Web applications in many scenarios, and the current microservices mainstream SpringCloud components are also built based on SpringBoot. The SpringBoot application is deployed to the server and requires an O&amp;amp;M script. In this article, we try to summarize the shell scripts used in production before and write a reusable SpringBoot application operation and maintenance script based on our experience, thus" /><meta name="keywords" content="Springboot,Shell" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-06/write-a-springboot-shell-script/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Write a Springboot Shell Script" />
<meta property="og:description" content="As a Java developer, you will use SpringBoot to develop Web applications in many scenarios, and the current microservices mainstream SpringCloud components are also built based on SpringBoot. The SpringBoot application is deployed to the server and requires an O&amp;M script. In this article, we try to summarize the shell scripts used in production before and write a reusable SpringBoot application operation and maintenance script based on our experience, thus" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-06/write-a-springboot-shell-script/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-28T17:27:45+08:00" />
<meta property="article:modified_time" content="2021-06-28T17:27:45+08:00" />

<meta itemprop="name" content="Write a Springboot Shell Script">
<meta itemprop="description" content="As a Java developer, you will use SpringBoot to develop Web applications in many scenarios, and the current microservices mainstream SpringCloud components are also built based on SpringBoot. The SpringBoot application is deployed to the server and requires an O&amp;M script. In this article, we try to summarize the shell scripts used in production before and write a reusable SpringBoot application operation and maintenance script based on our experience, thus"><meta itemprop="datePublished" content="2021-06-28T17:27:45+08:00" />
<meta itemprop="dateModified" content="2021-06-28T17:27:45+08:00" />
<meta itemprop="wordCount" content="2361">
<meta itemprop="keywords" content="springboot,shell," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Write a Springboot Shell Script"/>
<meta name="twitter:description" content="As a Java developer, you will use SpringBoot to develop Web applications in many scenarios, and the current microservices mainstream SpringCloud components are also built based on SpringBoot. The SpringBoot application is deployed to the server and requires an O&amp;M script. In this article, we try to summarize the shell scripts used in production before and write a reusable SpringBoot application operation and maintenance script based on our experience, thus"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Write a Springboot Shell Script</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-06-28 17:27:45 </span>
        <div class="post-category">
            <a href="/categories/tools/"> tools </a>
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 2361 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#some-knowledge-about-the-shell">Some knowledge about the shell</a>
          <ul>
            <li><a href="#get-pid">Get PID</a></li>
            <li><a href="#understand-the-kill-command">Understand the kill command</a></li>
            <li><a href="#nohup-command">nohup command</a></li>
          </ul>
        </li>
        <li><a href="#writing-springboot-application-ops-scripts">Writing SpringBoot Application Ops Scripts</a>
          <ul>
            <li><a href="#global-variables">Global Variables</a></li>
          </ul>
        </li>
        <li><a href="#writing-the-core-commands">Writing the core commands</a>
          <ul>
            <li><a href="#info">info</a></li>
            <li><a href="#status">status</a></li>
            <li><a href="#start">start</a></li>
            <li><a href="#stop">stop</a></li>
            <li><a href="#restart">restart</a></li>
          </ul>
        </li>
        <li><a href="#testing">Testing</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>As a <code>Java</code> developer, you will use <code>SpringBoot</code> to develop <code>Web</code> applications in many scenarios, and the current microservices mainstream <code>SpringCloud</code> components are also built based on <code>SpringBoot</code>. The <code>SpringBoot</code> application is deployed to the server and requires an O&amp;M script. In this article, we try to summarize the shell scripts used in production before and write a reusable <code>SpringBoot</code> application operation and maintenance script based on our experience, thus greatly reducing the workload of managing <code>SpringBoot</code> application startup, status, restart and so on. The <code>Shell</code> script in this article works fine in <code>CentOS7</code>, other operating systems may not be suitable. If you are not interested in some of the basics or principles you can drag them to the end and copy the script directly for use.</p>
<h2 id="some-knowledge-about-the-shell">Some knowledge about the shell</h2>
<p>Writing <code>SpringBoot</code> application operations and maintenance scripts in addition to the basic Shell syntax to be relatively proficient, but also need to address two more important issues (in the author&rsquo;s personal opinion).</p>
<ul>
<li>The correct way to get the process ID of the target application, that is, the problem of getting the <code>Process</code> ID (hereinafter called PID).</li>
<li>The correct way to use the kill command.</li>
<li>The correct way to use the command nohup.</li>
</ul>
<h3 id="get-pid">Get PID</h3>
<p>In general, if the <code>PID</code> can be successfully obtained by the application name, you can be sure that the application process is running, otherwise the application process is not in the running state. The running status of the application process is determined based on the <code>PID</code>, so the command to get the <code>PID</code> is called several times in the application process management script. Typically, the <code>grep</code> command is used to find the <code>PID</code>, for example, the following command queries the <code>PID</code> of the <code>Redis</code> service.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">ps -ef <span class="p">|</span>grep redis <span class="p">|</span>grep -v grep <span class="p">|</span>awk <span class="s1">&#39;{print $2}&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>This is actually a compound command, each <code>|</code> is followed by a complete independent command. Each subcommand is explained as follows.</p>
<ul>
<li><code>ps -ef</code> is the <code>ps</code> command with the <code>-ef</code> parameter. The <code>ps</code> command is mainly used to view the status of processes, <code>-e</code> means display all processes, while -f means complete output showing the parent-child relationship between processes, for example, the following is the result of <code>ps -ef</code> executed on <code>CentOS 7</code> in the author&rsquo;s virtual machine.</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/28/94879d242937427084b2f6fdfa1bcfd4.png" alt=" "></p>
<ul>
<li><code>grep XXX</code> is actually the target parameter corresponding to <code>grep</code>, and is used to search the results of the target parameter, which will be searched from the results of the previous command in the compound command.</li>
<li><code>grep -v grep</code> is the <code>grep</code> command that ignores <code>grep</code>&rsquo;s own processes when it is executed.</li>
<li><code>awk '{print $2}'</code> is to take out the second column of the processed result.</li>
</ul>
<p><code>ps -ef |grep redis |grep -v grep |awk '{print $2}'</code> The compound command execution process is.</p>
<ul>
<li><code>&lt;1&gt;</code>Get the system process status by <code>ps -ef</code>.</li>
<li><code>&lt;2&gt;</code>Search for the <code>redis</code> keyword from the results in <code>&lt;1&gt;</code> with <code>grep redis</code> to get the <code>redis</code> process information.</li>
<li><code>&lt;3&gt;</code> Filter out <code>grep</code>&rsquo;s own processes from the results in <code>&lt;2&gt;</code> by <code>grep -v grep</code>.</li>
<li><code>&lt;4&gt;</code> Get the second column from the results in <code>&lt;3&gt;</code> by <code>awk '{print $2}'</code>.</li>
</ul>
<p>In the <code>Shell</code> script, the <code>PID</code> can be obtained in this way.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">PID</span><span class="o">=</span><span class="sb">`</span>ps -ef <span class="p">|</span>grep redis-server <span class="p">|</span>grep -v grep <span class="p">|</span>awk <span class="s1">&#39;{print $2}&#39;</span><span class="sb">`</span>
<span class="nb">echo</span> <span class="nv">$PID</span>
</code></pre></td></tr></table>
</div>
</div><p>But this has the problem that every time you want to get the <code>PID</code> you have to use this very long string of commands, which is a bit clumsy. This process can be simplified by using eval.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">PID_CMD</span><span class="o">=</span><span class="s2">&#34;ps -ef |grep docker |grep -v grep |awk &#39;{print \$2}&#39;&#34;</span>
<span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
<span class="nb">echo</span> <span class="nv">$PID</span>
</code></pre></td></tr></table>
</div>
</div><p>The problem of getting the <code>PID</code> is solved, and then you can decide what to do next based on whether the <code>PID</code> exists or not.</p>
<h3 id="understand-the-kill-command">Understand the kill command</h3>
<p>The general form of the <code>kill</code> command is <code>kill -N PID</code>, which essentially sends a signal to the process corresponding to the <code>PID</code>, and then the corresponding process needs to respond to this signal, the signal number is <code>N</code>, the optional value of this N is as follows (the system is <code>CentOS 7</code>).</p>
<p>Common among developers are <code>9) SIGKILL</code> and <code>15) SIGTERM</code>, which are generally described as follows.</p>
<table>
<thead>
<tr>
<th>Signal number</th>
<th>Signal Name</th>
<th>Description</th>
<th>Function</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td>15</td>
<td>SIGTERM</td>
<td>Termination (ANSI)</td>
<td>The system sends a <code>SIGTERM</code> signal to the corresponding process</td>
<td>The process stops immediately, or after releasing resources, or continues to run due to waiting for <code>IO</code>, i.e. there is generally a blocking process, or to put it another way the process can block, process or ignore the <code>SIGTERM</code> signal</td>
</tr>
<tr>
<td>9</td>
<td>SIGKILL</td>
<td>Kill(can&rsquo;t be caught or ignored) (POSIX)</td>
<td>The system sends a <code>SIGKILL</code> signal to the corresponding process</td>
<td>The SIGKILL signal cannot be ignored and generally manifests itself as an immediate process stop (there are of course additional cases)</td>
</tr>
</tbody>
</table>
<p>The default <code>kill</code> command without the <code>-N</code> parameter is <code>kill -15</code>. Generally speaking, <code>kill -9 PID</code> is a surefire way to kill a process, but it is likely to affect the process of releasing resources before the process ends or abort <code>I/O</code> operations causing abnormal data loss, etc.</p>
<h3 id="nohup-command">nohup command</h3>
<p>If you wish to keep the application process from exiting after exiting the account or closing the terminal, you can use the <code>nohup</code> command to run the corresponding process.</p>
<blockquote>
<p><code>nohup</code> is short for <code>no hang up</code>, and the purpose of <code>nohup</code> is to run commands without hanging up.</p>
</blockquote>
<p>The format of the <code>nohup</code> command is: <code>nohup Command [Arg...] [&amp;]</code>, the function is: run the command based on the command <code>Command</code> and the optional additional parameter <code>Arg</code>, ignoring all hangup signals <code>SIGHUP</code> in the <code>kill</code> command, the <code>&amp;</code> symbol indicates that the command needs to be run in the background.</p>
<p>Note here that there are three common standard streams used in operating systems.</p>
<ol start="0">
<li>Standard input stream STDIN</li>
<li>Standard output stream STDOUT</li>
<li>Standard error stream STDERR</li>
</ol>
<p>If you run <code>nohup Command &amp;</code> directly, all the standard output streams and error output streams will be output to the current directory <code>nohup.out</code> file, which may take up a lot of disk space after a long time, so you usually need to redirect the standard output stream <code>STDOUT</code> and standard error stream <code>STDERR</code> to other files, such as <code>nohup Command 1&gt;server.log 2&gt;server.log &amp;</code>. However, since the standard error stream <code>STDERR</code> has no buffer, this will cause <code>server.log</code> to be opened twice, resulting in the standard output and the error output competing and overwriting each other, so it is common to redirect the standard error stream <code>STDERR</code> to the already open standard output stream <code>STDOUT</code>, which is often seen as <code>2&gt;&amp;1</code> and the standard output stream <code>STDOUT</code> can omit the <code>1</code> in front of <code>&gt;</code>, so.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">nohup Command 1&gt;server.log 2&gt;server.log <span class="p">&amp;</span>修改为nohup Command &gt;server.log 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</code></pre></td></tr></table>
</div>
</div><p>However, more often than not, when deploying <code>Java</code> applications, the application will specifically print the logs to a specific directory on the disk for <code>ELK</code> collection, such as the author&rsquo;s former company&rsquo;s operations and maintenance stipulates that the logs must be printed in the <code>/data/log-center/${serverName}</code> directory, then the standard output stream of <code>nohup</code> must be completely ignored at this time. <code>STDOUT</code> and the standard error stream <code>STDERR</code> must be completely ignored. A more feasible approach is to redirect both standard streams to the &ldquo;black hole <code>/dev/null</code>&rdquo;. For example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">nohup Command &gt;/dev/null 2&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="writing-springboot-application-ops-scripts">Writing SpringBoot Application Ops Scripts</h2>
<p>The <code>SpringBoot</code> application is essentially a <code>Java</code> application, but it will be possible to add specific <code>SpringBoot</code> allowed parameters, and the following will be a step-by-step analysis of how to write a reusable O&amp;M script.</p>
<h3 id="global-variables">Global Variables</h3>
<p>Considering the need to reuse variables as much as possible and to improve the brevity of the script, the reusable global variables are extracted here first. First, the location <code>JDK_HOME</code> where <code>JDK</code> is defined.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">JDK_HOME</span><span class="o">=</span><span class="s2">&#34;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64/bin/java&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Next, define the location of the application APP_LOCATION.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">APP_LOCATION</span><span class="o">=</span><span class="s2">&#34;/data/shell/app.jar&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Next, define the application name <code>APP_NAME</code> (mainly for search and display).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">APP_NAME</span><span class="o">=</span><span class="s2">&#34;app&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Then define the temporary variable <code>PID_CMD</code> for the command to get <code>PID</code>, which is used later to get the temporary variable for <code>PID</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">PID_CMD</span><span class="o">=</span><span class="s2">&#34;ps -ef |grep </span><span class="nv">$APP_LOCATION</span><span class="s2"> |grep -v grep |awk &#39;{print \$2}&#39;&#34;</span>
// <span class="nv">PID</span> <span class="o">=</span> <span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
</code></pre></td></tr></table>
</div>
</div><p>Define the virtual machine attribute <code>VM_OPTS</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">VM_OPTS</span><span class="o">=</span><span class="s2">&#34;-Xms2048m -Xmx2048m&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>Define the <code>SpringBoot</code> property <code>SPB_OPTS</code> (typically used to configure the startup port, application <code>Profile</code> or registry address, etc.).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nv">SPB_OPTS</span><span class="o">=</span><span class="s2">&#34;--spring.profiles.active=dev&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>The main parameters are these, which can be modified or added according to the actual scenario.</p>
<h2 id="writing-the-core-commands">Writing the core commands</h2>
<p>For example, if the file of the script is <code>server.sh</code>, then it needs to be executed at the end using <code>sh server.sh</code> <code>Command</code>, where the <code>Command</code> list is as follows.</p>
<ul>
<li><code>start</code>: start the service.</li>
<li><code>info</code>: print information, mainly the content of shared variables.</li>
<li><code>status</code>: prints the service status, used to determine whether the service is running or not.</li>
<li><code>stop</code>: Stop the service process.</li>
<li><code>restart</code>: restart the service.</li>
<li><code>help</code>: help guide.</li>
</ul>
<p>The specific method of invocation is determined here by the <code>case</code> keyword and the first argument entered when the command is executed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">start<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;start: start server&#34;</span>
<span class="o">}</span>

stop<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;stop: shutdown server&#34;</span>
<span class="o">}</span>

restart<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;restart: restart server&#34;</span>
<span class="o">}</span>

status<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;status: display status of server&#34;</span>
<span class="o">}</span>

info<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;help: help info&#34;</span>
<span class="o">}</span>

help<span class="o">()</span> <span class="o">{</span>
   <span class="nb">echo</span> <span class="s2">&#34;start: start server&#34;</span>
   <span class="nb">echo</span> <span class="s2">&#34;stop: shutdown server&#34;</span>
   <span class="nb">echo</span> <span class="s2">&#34;restart: restart server&#34;</span>
   <span class="nb">echo</span> <span class="s2">&#34;status: display status of server&#34;</span>
   <span class="nb">echo</span> <span class="s2">&#34;info: display info of server&#34;</span>
   <span class="nb">echo</span> <span class="s2">&#34;help: help info&#34;</span>
<span class="o">}</span>

<span class="k">case</span> <span class="nv">$1</span> in
start<span class="o">)</span>
    start
    <span class="p">;;</span>
stop<span class="o">)</span>
    stop
    <span class="p">;;</span>
restart<span class="o">)</span>
    restart
    <span class="p">;;</span>
status<span class="o">)</span>
    status
    <span class="p">;;</span>
info<span class="o">)</span>
    info
    <span class="p">;;</span>
<span class="nb">help</span><span class="o">)</span>
    <span class="nb">help</span>
    <span class="p">;;</span>
*<span class="o">)</span>
    <span class="nb">help</span>
    <span class="p">;;</span>
<span class="k">esac</span>
<span class="nb">exit</span> <span class="nv">$?</span>
</code></pre></td></tr></table>
</div>
</div><p>To test.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh server.sh </span>
start: start server
stop: shutdown server
restart: restart server
status: display status of server
info: display info of server
help: <span class="nb">help</span> info
......
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh c.sh start</span>
start: start server
</code></pre></td></tr></table>
</div>
</div><p>Then you need to write the corresponding method implementation.</p>
<h3 id="info">info</h3>
<p><code>info()</code> is mainly used to print the environment variables of the current service, information about the service, etc.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">info<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;=============================info==============================&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;APP_LOCATION: </span><span class="nv">$APP_LOCATION</span><span class="s2">&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;APP_NAME: </span><span class="nv">$APP_NAME</span><span class="s2">&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;JDK_HOME: </span><span class="nv">$JDK_HOME</span><span class="s2">&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;VM_OPTS: </span><span class="nv">$VM_OPTS</span><span class="s2">&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;SPB_OPTS: </span><span class="nv">$SPB_OPTS</span><span class="s2">&#34;</span>
  <span class="nb">echo</span> <span class="s2">&#34;=============================info==============================&#34;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="status">status</h3>
<p>The <code>status()</code> method is mainly used to show the running status of the service.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">status<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;=============================status==============================&#34;</span> 
  <span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
  <span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$PID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
       <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$APP_NAME</span><span class="s2"> is running,PID is </span><span class="nv">$PID</span><span class="s2">&#34;</span>
  <span class="k">else</span>
       <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$APP_NAME</span><span class="s2"> is not running!!!&#34;</span>
  <span class="k">fi</span>
  <span class="nb">echo</span> <span class="s2">&#34;=============================status==============================&#34;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="start">start</h3>
<p>The <code>start()</code> method is mainly used to start the service, which requires <code>JDK</code> and <code>nohup</code> and other related commands.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">start<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;=============================start==============================&#34;</span>
 <span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
 <span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$PID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$APP_NAME</span><span class="s2"> is already running,PID is </span><span class="nv">$PID</span><span class="s2">&#34;</span>
 <span class="k">else</span>
    nohup <span class="nv">$JDK_HOME</span> <span class="nv">$VM_OPTS</span> -jar <span class="nv">$APP_LOCATION</span> <span class="nv">$SPB_OPTS</span> &gt;/dev/null 2&gt;<span class="se">\$</span><span class="m">1</span> <span class="p">&amp;</span>
    <span class="nb">echo</span> <span class="s2">&#34;nohup </span><span class="nv">$JDK_HOME</span><span class="s2"> </span><span class="nv">$VM_OPTS</span><span class="s2"> -jar </span><span class="nv">$APP_LOCATION</span><span class="s2"> </span><span class="nv">$SPB_OPTS</span><span class="s2"> &gt;/dev/null 2&gt;\$1 &amp;&#34;</span>
    <span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
    <span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$PID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
       <span class="nb">echo</span> <span class="s2">&#34;Start </span><span class="nv">$APP_NAME</span><span class="s2"> successfully,PID is </span><span class="nv">$PID</span><span class="s2">&#34;</span>
    <span class="k">else</span>
       <span class="nb">echo</span> <span class="s2">&#34;Failed to start </span><span class="nv">$APP_NAME</span><span class="s2"> !!!&#34;</span>
    <span class="k">fi</span>
 <span class="k">fi</span>  
 <span class="nb">echo</span> <span class="s2">&#34;=============================start==============================&#34;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><ul>
<li>First determine whether the application is already running, if it can already get the application process <code>PID</code>, then return directly.</li>
<li>Use the <code>nohup</code> command in combination with the <code>java -jar</code> command to start the application jar package and determine whether it was started successfully based on the <code>PID</code>.</li>
</ul>
<h3 id="stop">stop</h3>
<p>The <code>stop()</code> method is used to terminate the application process. Here, in order to kill the process relatively safely and gracefully, we first use the <code>kill -15</code> method, make sure that <code>kill -15</code> cannot kill the process, and then use <code>kill -9</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">stop<span class="o">()</span> <span class="o">{</span>
 <span class="nb">echo</span> <span class="s2">&#34;=============================stop==============================&#34;</span>
 <span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
 <span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$PID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">kill</span> -15 <span class="nv">$PID</span>
    sleep <span class="m">5</span>
    <span class="nv">PID</span><span class="o">=</span><span class="k">$(</span><span class="nb">eval</span> <span class="nv">$PID_CMD</span><span class="k">)</span>
    <span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$PID</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
      <span class="nb">echo</span> <span class="s2">&#34;Stop </span><span class="nv">$APP_NAME</span><span class="s2"> failed by kill -15 </span><span class="nv">$PID</span><span class="s2">,begin to kill -9 </span><span class="nv">$PID</span><span class="s2">&#34;</span>
      <span class="nb">kill</span> -9 <span class="nv">$PID</span>
      sleep <span class="m">2</span>
      <span class="nb">echo</span> <span class="s2">&#34;Stop </span><span class="nv">$APP_NAME</span><span class="s2"> successfully by kill -9 </span><span class="nv">$PID</span><span class="s2">&#34;</span>
    <span class="k">else</span> 
      <span class="nb">echo</span> <span class="s2">&#34;Stop </span><span class="nv">$APP_NAME</span><span class="s2"> successfully by kill -15 </span><span class="nv">$PID</span><span class="s2">&#34;</span>
    <span class="k">fi</span> 
 <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&#34;</span><span class="nv">$APP_NAME</span><span class="s2"> is not running!!!&#34;</span>
 <span class="k">fi</span>
 <span class="nb">echo</span> <span class="s2">&#34;=============================stop==============================&#34;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="restart">restart</h3>
<p>It&rsquo;s actually <code>stop()</code> first, then <code>start()</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">restart<span class="o">()</span> <span class="o">{</span>
  <span class="nb">echo</span> <span class="s2">&#34;=============================restart==============================&#34;</span>
  stop
  start
  <span class="nb">echo</span> <span class="s2">&#34;=============================restart==============================&#34;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="testing">Testing</h2>
<p>I have introduced only <code>spring-boot-starter-web</code> minimal dependency based on <code>SpringBoot</code> dependency, played a <code>Jar</code> package <code>app.jar</code> in the <code>/data/shell</code> directory of the virtual machine, and uploaded the script <code>server.sh</code> to the <code>/data/shell</code> directory</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text">/data/shell
  - app.jar
  - server.sh
</code></pre></td></tr></table>
</div>
</div><p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/06/28/fe46819514434ec99fb6be5b8aaf94f0.png" alt=" "></p>
<p>The results of a particular test were as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh server.sh info</span>
<span class="o">=============================</span><span class="nv">info</span><span class="o">==============================</span>
APP_LOCATION: /data/shell/app.jar
APP_NAME: app
JDK_HOME: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64/bin/java
VM_OPTS: -Xms2048m -Xmx2048m
SPB_OPTS: --spring.profiles.active<span class="o">=</span><span class="nv">dev</span>
<span class="o">=============================</span><span class="nv">info</span><span class="o">==============================</span>
......
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh server.sh start</span>
<span class="o">=============================</span><span class="nv">start</span><span class="o">==============================</span>
app is already running,PID is <span class="nv">26950</span>
<span class="o">=============================</span><span class="nv">start</span><span class="o">==============================</span>
......
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh server.sh stop</span>
<span class="o">=============================</span><span class="nv">stop</span><span class="o">==============================</span>
Stop app successfully by <span class="nb">kill</span> -15 
<span class="o">=============================</span><span class="nv">stop</span><span class="o">==============================</span>
......
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># sh server.sh restart</span>
<span class="o">=============================</span><span class="nv">restart</span><span class="o">==============================</span>
<span class="o">=============================</span><span class="nv">stop</span><span class="o">==============================</span>
app is not running!!!
<span class="o">=============================</span><span class="nv">stop</span><span class="o">==============================</span>
<span class="o">=============================</span><span class="nv">start</span><span class="o">==============================</span>
Start app successfully,PID is <span class="nv">27559</span>
<span class="o">=============================</span><span class="nv">start</span><span class="o">==============================</span>
<span class="o">=============================</span><span class="nv">restart</span><span class="o">==============================</span>
......
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># curl http://localhost:9091/ping -s</span>
<span class="o">[</span>root@localhost shell<span class="o">]</span><span class="c1"># pong</span>
</code></pre></td></tr></table>
</div>
</div><p>The test script confirms that the result of the execution is correct. The <code>=================</code> is intentionally added by the author, so you can remove it if you feel it is an eyesore.</p>
<h2 id="summary">Summary</h2>
<p><code>SpringBoot</code> is the current or a long time in the future <code>Web</code> services in the mainstream framework, I spent a little time learning <code>Shell</code> related syntax, combined with <code>nohup</code>, <code>ps</code> and other <code>Linux</code> commands to write a reusable application operations and maintenance scripts, has been applied in the test and production environment, to a certain extent to save the cost of operations and maintenance.</p>
<p>Reference.</p>
<ul>
<li><a href="http://www.gnu.org/software/coreutils/manual/html_node/nohup-invocation.html#nohup-invocation">Nohup Invocation</a></li>
</ul>
<hr>
<p>Reference <code>https://www.throwx.cn/2020/03/01/spring-boot-server-shell/</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/springboot/">springboot</a>
          <a href="/tags/shell/">shell</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-06/some-tips-for-using-json-in-go/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Some Tips for Using Json in Go</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-06/learn-react-hooks-easily/">
            <span class="next-text nav-default">Learn React hooks easily: useEffect() as an example</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
