<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Npx Tutorial - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="The npx command has been added to npm since version 5.2. It has many uses, and this article introduces the main usage scenarios of the command.
Node comes with an npm module, so you can use the npx command directly. In case it doesn&amp;rsquo;t work, you&amp;rsquo;ll have to install it manually.
1  $ npm install -g npx   Calling the project&amp;rsquo;s installed modules The main problem that npx is trying to solve is calling modules that are installed inside the project." /><meta name="keywords" content="npm,Npx" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-07/npx-tutorial/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Npx Tutorial" />
<meta property="og:description" content="The npx command has been added to npm since version 5.2. It has many uses, and this article introduces the main usage scenarios of the command.
Node comes with an npm module, so you can use the npx command directly. In case it doesn&rsquo;t work, you&rsquo;ll have to install it manually.
1  $ npm install -g npx   Calling the project&rsquo;s installed modules The main problem that npx is trying to solve is calling modules that are installed inside the project." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-07/npx-tutorial/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-07-10T10:33:00+08:00" />
<meta property="article:modified_time" content="2021-07-10T10:33:00+08:00" />

<meta itemprop="name" content="Npx Tutorial">
<meta itemprop="description" content="The npx command has been added to npm since version 5.2. It has many uses, and this article introduces the main usage scenarios of the command.
Node comes with an npm module, so you can use the npx command directly. In case it doesn&rsquo;t work, you&rsquo;ll have to install it manually.
1  $ npm install -g npx   Calling the project&rsquo;s installed modules The main problem that npx is trying to solve is calling modules that are installed inside the project."><meta itemprop="datePublished" content="2021-07-10T10:33:00+08:00" />
<meta itemprop="dateModified" content="2021-07-10T10:33:00+08:00" />
<meta itemprop="wordCount" content="936">
<meta itemprop="keywords" content="npm," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Npx Tutorial"/>
<meta name="twitter:description" content="The npx command has been added to npm since version 5.2. It has many uses, and this article introduces the main usage scenarios of the command.
Node comes with an npm module, so you can use the npx command directly. In case it doesn&rsquo;t work, you&rsquo;ll have to install it manually.
1  $ npm install -g npx   Calling the project&rsquo;s installed modules The main problem that npx is trying to solve is calling modules that are installed inside the project."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Npx Tutorial</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-07-10 10:33:00 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            <a href="/categories/frontend/"> frontend </a>
            </div>
          <span class="more-meta"> 936 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#calling-the-projects-installed-modules">Calling the project&rsquo;s installed modules</a></li>
        <li><a href="#avoid-global-installation-of-modules">Avoid global installation of modules</a></li>
        <li><a href="#--no-install-and---ignore-existing-parameters">&ndash;no-install and &ndash;ignore-existing parameters</a></li>
        <li><a href="#using-different-versions-of-node">Using different versions of node</a></li>
        <li><a href="#-p-parameter">-p parameter</a></li>
        <li><a href="#-c-parameter">-c parameter</a></li>
        <li><a href="#running-github-source-code">Running GitHub source code</a></li>
        <li><a href="#reference-links">Reference Links</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>The npx command has been added to npm since version 5.2. It has many uses, and this article introduces the main usage scenarios of the command.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/07/10/c88bbbf0fb2c4e2d8a63ab420645befc.png" alt=" "></p>
<p>Node comes with an npm module, so you can use the npx command directly. In case it doesn&rsquo;t work, you&rsquo;ll have to install it manually.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm install -g npx
</code></pre></td></tr></table>
</div>
</div><h2 id="calling-the-projects-installed-modules">Calling the project&rsquo;s installed modules</h2>
<p>The main problem that npx is trying to solve is calling modules that are installed inside the project. For example, the project has the testing tool Mocha installed internally.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm install -D mocha
</code></pre></td></tr></table>
</div>
</div><p>In general, Mocha can only be called from the project script and the scripts field of package.json, but if you want to call it from the command line, you have to do something like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># The project&#39;s root directory executes</span>
$ node-modules/.bin/mocha --version
</code></pre></td></tr></table>
</div>
</div><p>npx is trying to solve this problem by making it easier to use the modules installed inside the project, just by calling them like the following</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx mocha --version
</code></pre></td></tr></table>
</div>
</div><p>The principle of npx is simple: when running, it will go to the node_modules/.bin path and the environment variable $PATH and check if the command exists.</p>
<p>Since npx checks the environment variable $PATH, system commands can also be called.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># Equivalent to ls</span>
$ npx ls
</code></pre></td></tr></table>
</div>
</div><p>Note that Bash built-in commands are not in $PATH, so they cannot be used. For example, cd is a Bash command, so you can&rsquo;t use npx cd.</p>
<h2 id="avoid-global-installation-of-modules">Avoid global installation of modules</h2>
<p>In addition to calling internal project modules, npx can also avoid globally installed modules. For example, the module <code>create-react-app</code> is a global install and npx can run it and not do a global install.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx create-react-app my-react-app
</code></pre></td></tr></table>
</div>
</div><p>When the above code is run, npx downloads create-react-app to a temporary directory, which will be deleted after use. So, running the above command again later will download create-react-app again.</p>
<p>When downloading global modules, npx allows to specify the version.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx uglify-js@3.1.0 main.js -o ./dist/main.js
</code></pre></td></tr></table>
</div>
</div><p>The above code specifies the use of version 3.1.0 of the uglify-js compression script.</p>
<p>Note that the module with the same name will be downloaded whenever the module after npx cannot be found locally. For example, if the http-server module is not installed locally, the following command will automatically download the module and start a web service in the current directory.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx http-server
</code></pre></td></tr></table>
</div>
</div><h2 id="--no-install-and---ignore-existing-parameters">&ndash;no-install and &ndash;ignore-existing parameters</h2>
<p>If you want npx to force the local module and not download the remote module, you can use the <code>-no-install</code> parameter. If the module does not exist locally, an error will be reported.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx --no-install http-server
</code></pre></td></tr></table>
</div>
</div><p>Conversely, if you ignore the local module with the same name and force the remote module to be installed, you can use the <code>--ignore-existing</code> parameter. For example, if you already have <code>create-react-app</code> globally installed locally, but still want to use the remote module, use this parameter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx --ignore-existing create-react-app my-react-app
</code></pre></td></tr></table>
</div>
</div><h2 id="using-different-versions-of-node">Using different versions of node</h2>
<p>Using the fact that npx can download modules, you can specify a particular version of Node to run scripts. The trick is to use the <a href="https://www.npmjs.com/package/node">node modules</a> from npm.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx --ignore-existing create-react-app my-react-app
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx node@0.12.8 -v
v0.12.8
</code></pre></td></tr></table>
</div>
</div><p>The above command will execute the script using the 0.12.8 version of Node. The idea is to download this version of node from npm, use it, and then delete it.</p>
<p>In some cases, this method is more convenient for switching Node versions than a version manager like nvm.</p>
<h2 id="-p-parameter">-p parameter</h2>
<p>The -p parameter is used to specify the modules to be installed by npx, so the command in the previous section could be written as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx -p node@0.12.8 node -v 
v0.12.8
</code></pre></td></tr></table>
</div>
</div><p>The above command first specifies the installation of <code>node@0.12.8</code> and then executes the <code>node -v</code> command.</p>
<p>The <code>-p</code> parameter is useful for scenarios where multiple modules need to be installed.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx -p lolcatjs -p cowsay <span class="o">[</span>command<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="-c-parameter">-c parameter</h2>
<p>If npx installs multiple modules, by default, only the first executable will use the module installed by npx, while later executables will be interpreted by the shell.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx -p lolcatjs -p cowsay <span class="s1">&#39;cowsay hello | lolcatjs&#39;</span>
<span class="c1"># Throwing Exceptions</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above code, cowsay hello | lolcatjs will report an error when executed because the first cowsay is interpreted by npx, while the second command localcatjs is interpreted by Shell, but lolcatjs is not globally installed, so it reports an error.</p>
<p>The -c parameter allows all commands to be interpreted by npx. With it, the following code can be executed properly.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx -p lolcatjs -p cowsay -c <span class="s1">&#39;cowsay hello | lolcatjs&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>Another function of the -c parameter is to bring environment variables to the command you want to execute. As an example, npm provides some environment variables for the current project, which can be viewed with the following command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npm run env <span class="p">|</span> grep npm_
</code></pre></td></tr></table>
</div>
</div><p>The -c parameter brings these npm environment variables into the npx command.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ npx -c <span class="s1">&#39;echo &#34;$npm_package_name&#34;&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>The above code will output the project name of the current project.</p>
<h2 id="running-github-source-code">Running GitHub source code</h2>
<p>npx can also execute the source code of modules on GitHub.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># Execute the Gist code</span>
$ npx https://gist.github.com/zkat/4bc19503fe9e9309e2bfaa2c58074d32

<span class="c1"># Execute the repository code</span>
$ npx github:piuccio/cowsay hello
</code></pre></td></tr></table>
</div>
</div><p>Note that the remote code must be a module, i.e. it must contain package.json and the entry script.</p>
<h2 id="reference-links">Reference Links</h2>
<ul>
<li><a href="https://www.npmjs.com/package/npx">npx</a></li>
<li><a href="https://alligator.io/workflow/npx/">Speed Up Your npm Workflow With npx</a></li>
<li><a href="https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b">Introducing npx: an npm package runner</a></li>
</ul>
<hr>
<p>Reference <code>https://www.ruanyifeng.com/blog/2019/02/npx.html</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/npm/">npm</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-07/kubernetes-switching-to-containerd/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Kubernetes Switching to Containerd</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-07/implementing-lock-free-queues-with-go/">
            <span class="next-text nav-default">Implementing Lock Free Queues With Go</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
