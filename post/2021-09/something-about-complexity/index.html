<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Some thoughts on complexity - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Someone recommended this article before, Complexity has to live somewhere, the general idea is that the complexity of the system can&amp;rsquo;t just disappear, it can only be transferred from one place to another, because there is so much logic in the real world, there are so many cases around the corner that you have to deal with, which will inevitably introduce complexity into the system.
Although these complexities you can transfer to your colleagues or outsource to third-party systems, the complexity is indefinite." /><meta name="keywords" content="Complexity" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-09/something-about-complexity/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Some thoughts on complexity" />
<meta property="og:description" content="Someone recommended this article before, Complexity has to live somewhere, the general idea is that the complexity of the system can&rsquo;t just disappear, it can only be transferred from one place to another, because there is so much logic in the real world, there are so many cases around the corner that you have to deal with, which will inevitably introduce complexity into the system.
Although these complexities you can transfer to your colleagues or outsource to third-party systems, the complexity is indefinite." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-09/something-about-complexity/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-16T13:41:40+08:00" />
<meta property="article:modified_time" content="2021-09-16T13:41:40+08:00" />

<meta itemprop="name" content="Some thoughts on complexity">
<meta itemprop="description" content="Someone recommended this article before, Complexity has to live somewhere, the general idea is that the complexity of the system can&rsquo;t just disappear, it can only be transferred from one place to another, because there is so much logic in the real world, there are so many cases around the corner that you have to deal with, which will inevitably introduce complexity into the system.
Although these complexities you can transfer to your colleagues or outsource to third-party systems, the complexity is indefinite."><meta itemprop="datePublished" content="2021-09-16T13:41:40+08:00" />
<meta itemprop="dateModified" content="2021-09-16T13:41:40+08:00" />
<meta itemprop="wordCount" content="1548">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Some thoughts on complexity"/>
<meta name="twitter:description" content="Someone recommended this article before, Complexity has to live somewhere, the general idea is that the complexity of the system can&rsquo;t just disappear, it can only be transferred from one place to another, because there is so much logic in the real world, there are so many cases around the corner that you have to deal with, which will inevitably introduce complexity into the system.
Although these complexities you can transfer to your colleagues or outsource to third-party systems, the complexity is indefinite."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Some thoughts on complexity</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-09-16 13:41:40 </span>
        
          <span class="more-meta"> 1548 words </span>
          <span class="more-meta"> 8 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#the-system-can-be-designed-to-be-complex-as-long-as-the-complex-parts-are-not-often-modified">The system can be designed to be complex, as long as the complex parts are not often modified</a></li>
        <li><a href="#frequently-modified-parts-and-infrequently-modified-parts-can-be-split">Frequently modified parts and infrequently modified parts can be split</a></li>
        <li><a href="#repetitive-work-can-definitely-be-configured">Repetitive work can definitely be configured</a></li>
        <li><a href="#engineers-should-not-resist-complexity">Engineers should not resist complexity</a></li>
        <li><a href="#design-system-similar-to-fortune-telling">Design system similar to fortune telling</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Someone recommended this article before, <a href="https://ferd.ca/complexity-has-to-live-somewhere.html">Complexity has to live somewhere</a>, the general idea is that the complexity of the system can&rsquo;t just disappear, it can only be transferred from one place to another, because there is so much logic in the real world, there are so many cases around the corner that you have to deal with, which will inevitably introduce complexity into the system.</p>
<p>Although these complexities you can transfer to your colleagues or outsource to third-party systems, the complexity is indefinite.</p>
<p>When designing systems, we need to be aware of this, and at the same time manage the complexity issue.</p>
<p>In the book &ldquo;a philosophy of software design&rdquo;, the authors also present a different and more interesting theory of system complexity that</p>
<p>It can be read in conjunction with the article above.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/16/a2679c3537104d9ebfe83e1619d71e60.png" alt=""></p>
<p>C stands for Complexity, T stands for the time invested in the development of the module Time. the overall complexity of the system = &ldquo;the complexity of each module Ⅹ the development time invested in the module&rdquo;, and then sum the results.</p>
<p>If we have actively or passively designed and implemented some logically complex systems in our daily work, this simple formula should be easy to understand at first sight. The C in this formula can also be considered as Cognitive Load, that is, the cognitive burden. The code you write is hard for your colleagues to understand, then also to think that these codes are very complex.</p>
<p>Improving R&amp;D efficiency should essentially reduce the overall complexity of the system defined here.</p>
<p>Combining the formula with our daily development and system design, this article briefly lists some stormy theories that we hope to discuss together.</p>
<h2 id="the-system-can-be-designed-to-be-complex-as-long-as-the-complex-parts-are-not-often-modified">The system can be designed to be complex, as long as the complex parts are not often modified</h2>
<p>For example, our API services are basically deployed on linux, which currently has millions of lines of code, but we don&rsquo;t need to read the linux source code or focus on the complexity of linux. Only need to focus on the upper layer of business. Even if you do system programming, you only need to familiarize yourself with man7.org, and do not need to understand the underlying implementation mechanism of syscall (many people are now too voluminous for their own good).</p>
<p>If we encounter system-related performance problems, in most cases we do not need to do optimization in the kernel, and adjust a small number of system exposure configuration parameters according to the business situation, such as somaxconn, tcp_tw_reuse, etc..</p>
<p>If you are designing a business system, there is no need to be afraid of the complexity of the infrequently modified parts in order to adapt to as many situations as possible, as long as your abstractions are generic enough and you can provide users with a good extension backdoor when they cannot be adapted.</p>
<p>Similar to the linux kernel scenario, if we are dealing with a complex problem that only needs to be solved once, it makes sense to solve it through a complex system that is not frequently modified.</p>
<p>For this part of the system that is extremely complex, even if it takes a month to modify it once, it is not too costly to modify it once every two years.</p>
<h2 id="frequently-modified-parts-and-infrequently-modified-parts-can-be-split">Frequently modified parts and infrequently modified parts can be split</h2>
<p>Both business systems and infrastructure become more and more complex over time, perhaps in terms of long and complex logic, scenario-based code branches, numerous protocol adaptations, and strange combinations of functionality.</p>
<p>Developing on a &ldquo;complex-looking&rdquo; system is not necessarily painful, because what we often modify is not always the process of the system, but maybe just the frequently changing business strategy: the frequency of pushing triggers to pull, the business metrics used by users, the city where the current feature is enabled, the criteria for penalizing users for violations.</p>
<p>These strategies above are also part of the business complexity, though they have little to do with processes. A poorly designed system with a huge code base doesn&rsquo;t know where to make changes and needs to read the entire process code again and again to confirm where changes are more appropriate. If the work task is seriously pressed and the schedule is shrunk, the engineer also has a magic trick that all the requirements can be processed in the reference, and the results are returned to the previous two positions for infinite accumulation. After years and years of iteration, such a system is basically unmaintainable.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/16/8f06a069de95476085b5f09020746cd8.png" alt=""></p>
<p>We can split these fallible and often changing elements from the system into configurations, summarized as patterns. The behavior of the system is controlled through configuration.</p>
<p>Even if configuration is not possible, isolating the infrequently modified parts from the frequently modified parts can significantly reduce the mental burden on engineers when maintaining the overall system, and the developers only need to focus on the functionality of their own system. The system is decoupled from the system.</p>
<h2 id="repetitive-work-can-definitely-be-configured">Repetitive work can definitely be configured</h2>
<p>If we are repeatedly modifying some judgment conditions, then abstract these conditions as rules and put them in the configuration management system.</p>
<p>If we are repeatedly modifying external data sources, then abstract the data itself and use tools like xpath, jpath, etc. to query it. More complex data fetching can be done directly using open source projects like apijson, GraphQL or falcor, and it is not difficult to design a solution by yourself.</p>
<p>If we are repeatedly modifying the computational logic, then we can support the expression engine in the system.</p>
<p>If we repeatedly modify the business process, then the process itself can be implemented using a bpm-like framework.</p>
<p>If we are iteratively modifying the support for various protocols, then designing a set of tools to generate protocol handling code according to IDL is sufficient.</p>
<p>Configuration is the templating of repetitive work content, which in the above equation reduces the overall complexity of the system by directly reducing T.</p>
<h2 id="engineers-should-not-resist-complexity">Engineers should not resist complexity</h2>
<p>Nowadays, CRUD engineers don&rsquo;t like complicated things, and often refuse to accept new requirements or make major changes to the system on the grounds that &ldquo;this requirement will make the system complicated&rdquo;.</p>
<p>But the simple project is just a logical pile, freshmen can do a good job, and many people jumped for a salary increase, for the experience of the company&rsquo;s business understanding is limited. The business of all companies are summarized as CRUD, is a bit simple and violent.</p>
<p>A few years ago, almost all companies are pushing the CRUD, although I have some criticism of the CRUD, but does not deny the utility of the CRUD to enhance the ability of engineers. As business middle platform projects often have a certain degree of complexity, for the engineers involved is a good opportunity to broaden their horizons and ability to exercise, because it is too complex, no revenue (year-end bonus) reason to give up these opportunities, for individuals is a relatively large loss (of course, the revenue or to consider).</p>
<p>When the initial design of a certain platform in a division, according to the practice within the department, such a platform does not get too much departmental support and revenue, but can eliminate a lot of repetitive and boring development work within the group. We summed up 90% of the requirements and daily work from our past development experience, combined with the company&rsquo;s own stage considerations and research on advanced systems in the industry before designing this system.</p>
<p>After the implementation, we, the participants, also saw through this process what kind of future this data-related system could develop by extending to a larger scale. For example, it can be a data center that rides on the hot stream of domestic centers and becomes a case of data center practice for first-tier Internet companies; it can also be a super query system like Google F1 that becomes a model for the implementation of advanced engineering concepts; it can also evolve into a feature and model lifecycle management platform that specifically serves machine learning business.</p>
<p>These are the possibilities afterwards, and it is not up to the front-line developers and architects to continue to evolve in which direction. Removing the political factors, the development and iteration of the whole system still provided us with very valuable experience, which is still useful today.</p>
<h2 id="design-system-similar-to-fortune-telling">Design system similar to fortune telling</h2>
<p>Although we can learn from past developments, it is important to make some predictions about the future when doing system design.</p>
<p>These predictions are not always accurate, and technical judgments and business future development do not always match. For example, e-commerce companies did not expect a new type of e-commerce company like a game maker to emerge and were caught off guard for a long time. The original system and mechanism design will not be able to achieve similar to the rival game-based e-commerce, in the promotional slogan of the gods in the middle of the table is also not possible.</p>
<p>We have a flirtation with the architect, the architect itself is a data-driven fortune teller, to make predictions about the future, predicted right is God, predicted wrong is 🐶.</p>
<p>But it&rsquo;s just a banter, we are all human, no one can break the human ceiling.</p>
<p>I have time to write a separate book &ldquo;a philosophy of software design&rdquo; reading notes.</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/2021-09/azure-linux-find-omigod/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Critical RCE vulnerability found in Microsoft&#39;s Azure Linux</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-09/pitfalls-encountered-in-vue3-upgrade/">
            <span class="next-text nav-default">Pitfalls encountered in vue3 upgrade</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
