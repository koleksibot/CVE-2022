<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Git Multiple Ssh Keys - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="When there are multiple git accounts, such as a github, used for some of your own development activities, and then a gitlab, generally the company&amp;rsquo;s internal git. these two your email address if different, there will be a problem involved, the generation of the second git key will overwrite the first key, resulting in the inevitable one can not be used. Solution We can configure the problem by creating a" /><meta name="keywords" content="git, Multiple Ssh Keys" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-09/git-multiple-ssh-keys/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Git Multiple Ssh Keys" />
<meta property="og:description" content="When there are multiple git accounts, such as a github, used for some of your own development activities, and then a gitlab, generally the company&rsquo;s internal git. these two your email address if different, there will be a problem involved, the generation of the second git key will overwrite the first key, resulting in the inevitable one can not be used. Solution We can configure the problem by creating a" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-09/git-multiple-ssh-keys/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-19T16:28:56+08:00" />
<meta property="article:modified_time" content="2021-09-19T16:28:56+08:00" />

<meta itemprop="name" content="Git Multiple Ssh Keys">
<meta itemprop="description" content="When there are multiple git accounts, such as a github, used for some of your own development activities, and then a gitlab, generally the company&rsquo;s internal git. these two your email address if different, there will be a problem involved, the generation of the second git key will overwrite the first key, resulting in the inevitable one can not be used. Solution We can configure the problem by creating a"><meta itemprop="datePublished" content="2021-09-19T16:28:56+08:00" />
<meta itemprop="dateModified" content="2021-09-19T16:28:56+08:00" />
<meta itemprop="wordCount" content="775">
<meta itemprop="keywords" content="git," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Git Multiple Ssh Keys"/>
<meta name="twitter:description" content="When there are multiple git accounts, such as a github, used for some of your own development activities, and then a gitlab, generally the company&rsquo;s internal git. these two your email address if different, there will be a problem involved, the generation of the second git key will overwrite the first key, resulting in the inevitable one can not be used. Solution We can configure the problem by creating a"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Git Multiple Ssh Keys</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-09-19 16:28:56 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 775 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#solution">Solution</a></li>
        <li><a href="#steps">Steps</a>
          <ul>
            <li><a href="#1-generate-ssh-key">1. Generate ssh key</a></li>
            <li><a href="#2-execute-the-ssh-agent-command">2. Execute the ssh-agent command</a></li>
            <li><a href="#3--to-add-the-private-key-execute-the-following-command">3.  To add the private key, execute the following command</a></li>
            <li><a href="#4-create-and-modify-the-config-file">4. Create and modify the config file</a></li>
            <li><a href="#5-add-the-public-key-to-gitlab-or-github">5. Add the public key to gitlab or github</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>When there are multiple git accounts, such as a github, used for some of your own development activities, and then a gitlab, generally the company&rsquo;s internal git. these two your email address if different, there will be a problem involved, the generation of the second git key will overwrite the first key, resulting in the inevitable one can not be used.</p>
<h2 id="solution">Solution</h2>
<p>We can configure the problem by creating a new <code>config</code> file in the <code>~/.ssh</code> directory</p>
<h2 id="steps">Steps</h2>
<h3 id="1-generate-ssh-key">1. Generate ssh key</h3>
<ol>
<li>
<p>Generate the first ssh key (here I used the company email)</p>
<p>Go to <code>C:\Users\username.ssh</code>, right click - select <code>Git bash here</code>, this step is very important, otherwise when you enter the key name below, the key will be generated in the path of the currently open <code>git bash</code>, for example, I opened <code>git bash</code> on the desktop, it will be generated on the desktop:.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">ssh-keygen -t rsa -C <span class="s2">&#34;yourmail@example.com&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>When you enter the file name and path, the generated key is named <code>id_rsa_gitlab</code> and the following successive carriage returns. (Whether to set a password for the key depends on your needs)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ssh-keygen -t rsa -C <span class="s2">&#34;yourmail@example.com&#34;</span>
Generating public/private rsa key pair.
Enter file in which to save the key <span class="o">(</span>/c/Users/李锋镝/.ssh/id_rsa<span class="o">)</span>: id_rsa_gitlab
Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>:
Enter same passphrase again:
Your identification has been saved in id_rsa_gitlab
Your public key has been saved in id_rsa_gitlab.pub
</code></pre></td></tr></table>
</div>
</div></li>
<li>
<p>Generate a second ssh key (using my GitHub email here), same steps as above</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">ssh-keygen -t rsa -C <span class="s2">&#34;yourmail@qq.com&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>The key generated here is named <code>id_rsa_githab</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ssh-keygen -t rsa -C <span class="s2">&#34;yourmail@qq.com&#34;</span>
Generating public/private rsa key pair.
Enter file in which to save the key <span class="o">(</span>/c/Users/李锋镝/.ssh/id_rsa<span class="o">)</span>: id_rsa_githab
Enter passphrase <span class="o">(</span>empty <span class="k">for</span> no passphrase<span class="o">)</span>:
Enter same passphrase again:
Your identification has been saved in id_rsa_githab
Your public key has been saved in id_rsa_githab.pub
</code></pre></td></tr></table>
</div>
</div></li>
</ol>
<h3 id="2-execute-the-ssh-agent-command">2. Execute the ssh-agent command</h3>
<p><code>ssh-agent</code> is a key manager. After running <code>ssh-agent</code>, use <code>ssh-add</code> to give the private key to <code>ssh-agent</code> for safekeeping, and other applications can give the authentication application to <code>ssh-agent</code> to complete the whole authentication process when they need to authenticate.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">ssh-agent
</code></pre></td></tr></table>
</div>
</div><p>Or execute the following command line.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="nb">exec</span> ssh-agent bash
<span class="nb">eval</span> ssh-agent -s
</code></pre></td></tr></table>
</div>
</div><h3 id="3--to-add-the-private-key-execute-the-following-command">3.  To add the private key, execute the following command</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">ssh-add ~/.ssh/id_rsa_github
ssh-add
</code></pre></td></tr></table>
</div>
</div><h3 id="4-create-and-modify-the-config-file">4. Create and modify the config file</h3>
<p>Create a <code>config</code> file and place it in the <code>.ssh</code> directory:</p>
<p>Two ways.</p>
<ol>
<li>Create a new txt text under windows and change the name to config (including the .txt suffix)</li>
<li>Under git bash, directly touch config to create a config file</li>
</ol>
<p>The configuration is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"># gitlab
Host gitlab.example.com
HostName gitlab.example.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_kuaidao
User lifengdi

# github
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_github
User lifengdi
</code></pre></td></tr></table>
</div>
</div><p>Configuration file description.</p>
<p>Each account is configured with a separate Host, and each Host should take an alias. Each Host can be configured with two main properties, HostName and IdentityFile.</p>
<p>The name of the Host can be taken as your favorite name, but this will affect git-related commands.</p>
<p>For example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Host mygithub If you define it this way, the command would be as follows, i.e. the name immediately after git@ would be changed to mygithub
git clone git@mygithub:lifengdi/example.git
It is equivalent to the real domain name of your configured HostName, mapped to the name of the configuration behind the Host

HostName                      #This is the real domain address
IdentityFile                  #Here is the address of id_rsa
PreferredAuthentications      #Configure what permission authentication to use when logging in - can set publickey, password publickey, keyboard-interactive, etc.
User                          #Configure the username to use
</code></pre></td></tr></table>
</div>
</div><h3 id="5-add-the-public-key-to-gitlab-or-github">5. Add the public key to gitlab or github</h3>
<p>The one at the end of <code>.pub</code> is the public key, which can be configured to <code>SSH keys</code> on git.</p>
<p>Test if the key is valid</p>
<p>Enter the following code.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="c1"># github</span>
ssh -T git@github.com

<span class="c1"># gitlab</span>
ssh -T git@gitlab.example.com
</code></pre></td></tr></table>
</div>
</div><p>Show.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"># github (successfully means that is successful, if there are warnings and so on, ignore it)
Hi lifengdi! You&#39;ve successfully authenticated, but GitHub does not provide shell access.

# gitlab
Welcome to GitLab, lifengdi!
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/git/">git</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-09/react17-document-addeventlistener/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Analysis and handling of document.addEventListener exceptions after upgrading React16 to React17</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-09/navicat-database-account-password-decryption/">
            <span class="next-text nav-default">Navicat Premium Database Account Password Decryption</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
