<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Pitfalls encountered in vue3 upgrade - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="I&amp;rsquo;ve been busy with work recently, and I&amp;rsquo;ve fallen behind on improving my own capabilities, so I took the opportunity today to solve some of the problems I was thinking about before, and I also gave my VueBlog a chance to upgrade both vue and webpack to the latest beta version, and then I encountered a lot of pitfalls, so I&amp;rsquo;ll put them all on record today so I don&amp;rsquo;t forget them later." /><meta name="keywords" content="Vue3 Upgrade, Pitfalls" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-09/pitfalls-encountered-in-vue3-upgrade/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Pitfalls encountered in vue3 upgrade" />
<meta property="og:description" content="I&rsquo;ve been busy with work recently, and I&rsquo;ve fallen behind on improving my own capabilities, so I took the opportunity today to solve some of the problems I was thinking about before, and I also gave my VueBlog a chance to upgrade both vue and webpack to the latest beta version, and then I encountered a lot of pitfalls, so I&rsquo;ll put them all on record today so I don&rsquo;t forget them later." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-09/pitfalls-encountered-in-vue3-upgrade/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-14T16:32:26+08:00" />
<meta property="article:modified_time" content="2021-09-14T16:32:26+08:00" />

<meta itemprop="name" content="Pitfalls encountered in vue3 upgrade">
<meta itemprop="description" content="I&rsquo;ve been busy with work recently, and I&rsquo;ve fallen behind on improving my own capabilities, so I took the opportunity today to solve some of the problems I was thinking about before, and I also gave my VueBlog a chance to upgrade both vue and webpack to the latest beta version, and then I encountered a lot of pitfalls, so I&rsquo;ll put them all on record today so I don&rsquo;t forget them later."><meta itemprop="datePublished" content="2021-09-14T16:32:26+08:00" />
<meta itemprop="dateModified" content="2021-09-14T16:32:26+08:00" />
<meta itemprop="wordCount" content="1244">
<meta itemprop="keywords" content="vue3," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Pitfalls encountered in vue3 upgrade"/>
<meta name="twitter:description" content="I&rsquo;ve been busy with work recently, and I&rsquo;ve fallen behind on improving my own capabilities, so I took the opportunity today to solve some of the problems I was thinking about before, and I also gave my VueBlog a chance to upgrade both vue and webpack to the latest beta version, and then I encountered a lot of pitfalls, so I&rsquo;ll put them all on record today so I don&rsquo;t forget them later."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Pitfalls encountered in vue3 upgrade</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-09-14 16:32:26 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 1244 words </span>
          <span class="more-meta"> 6 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#upgrade-vue3">Upgrade Vue3</a>
          <ul>
            <li><a href="#app">App</a></li>
            <li><a href="#vur-router">Vur Router</a></li>
            <li><a href="#composition-api">composition API</a></li>
            <li><a href="#props">Props</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>I&rsquo;ve been busy with work recently, and I&rsquo;ve fallen behind on improving my own capabilities, so I took the opportunity today to solve some of the problems I was thinking about before, and I also gave my VueBlog a chance to upgrade both vue and webpack to the latest beta version, and then I encountered a lot of pitfalls, so I&rsquo;ll put them all on record today so I don&rsquo;t forget them later.</p>
<p>VueBlog is currently using webpack5 + vue3 + vue-router-next + typescript build, the purpose is to replace the current hexo site, is also a static blog generator, but and hexo positioning is different, I use a single page design, rather than to each page to generate the corresponding html file, so it is not SEO friendly. So it&rsquo;s not SEO friendly, we&rsquo;ll figure it out later.</p>
<h2 id="upgrade-vue3">Upgrade Vue3</h2>
<p>First use <code>vue add vue-next</code> to upgrade vue to the beta version. After execution vue will perform a conversion of the code, converting some api from the old version to the new one.</p>
<h3 id="app">App</h3>
<p>For example converting the code that creates the App object in main.ts to a new one, in vue2 we create the app object by new Vue() and call the $mount function to hang on to the element.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s2">&#34;./App.vue&#34;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">(</span><span class="nx">App</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">$mount</span><span class="p">(</span><span class="s1">&#39;#app&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>In vue3, the main idea is to do as much as possible through functions, because the type derivation can be done through the parameters and return values of the functions. In vue3, the creation of app objects is done through the createApp function, and then the dom elements are mounted through the mount function.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">App</span> <span class="nx">from</span> <span class="s2">&#34;./App.vue&#34;</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">createApp</span><span class="p">(</span><span class="nx">APp</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">mount</span><span class="p">(</span><span class="s2">&#34;#app&#34;</span><span class="p">);</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="vur-router">Vur Router</h3>
<p>If you are using a plugin like vue-router, there are some changes in the way you use it, and the router needs to be created by the corresponding create function. First you need to upgrade vue-router, the next version of vue-router is called <a href="https://github.com/vuejs/vue-router-next">vue-router-next</a>. in vue-router, the function to create a router object is changed from VueRouter function to createRouter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span>
    <span class="p">...</span>
<span class="p">});</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>In vue3 it is necessary to use the new function to return.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">const</span> <span class="nx">router</span> <span class="o">=</span> <span class="nx">createRouter</span><span class="p">({</span>
    <span class="p">...</span>
<span class="p">});</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">router</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><p>The content has also been changed in part, you can visit the <a href="https://github.com/vuejs/vue-router-next">github repository</a> to see the documentation</p>
<h3 id="composition-api">composition API</h3>
<p>The core purpose of the composition api, a core feature proposed by vue3, is to initialize data scattered all over the place by integrating it into a setup function and relying on vue&rsquo;s responsive data changes to complete the functionality.</p>
<p>The motivation for the composition api is in the RFC.</p>
<h4 id="better-logic-reuse-and-code-organization">Better logic reuse and code organization</h4>
<ol>
<li>As functionality grows, the code for complex components becomes increasingly difficult to read and understand. This is especially common when developers are reading code written by others. The root cause is that Vue&rsquo;s existing API forces us to organize code by options, but there are times when it makes more sense to organize code by logical relationships.</li>
<li>there is a lack of a clean and low cost mechanism to extract and reuse logic between multiple components</li>
</ol>
<h4 id="better-type-derivation">Better type derivation</h4>
<p>Another common request from developers of large projects is better TypeScript support. vue&rsquo;s current API has had a lot of trouble integrating TypeScript, mainly because vue relies on a simple this context to expose property, and the way we use this now is more subtle. (For example, the this of a function under the methods option points to the component instance, not the methods object).</p>
<p>In other words, Vue&rsquo;s existing API was not designed with type derivation in mind, which makes adapting to TypeScript complicated.
In contrast, the solution proposed in this RFC makes more use of common variables and functions that are naturally type-friendly. Code written with the API in this proposal will enjoy type derivation perfectly and will not require much additional type annotation.</p>
<p>This also means that the JavaScript code you write is almost TypeScript code. Even non-TypeScript developers will benefit from better IDE type support.</p>
<p>setup function is really comfortable to use, all the useful things can be put in one piece, the code is also convenient to organize, unlike the previous need to be scattered into a variety of hook and calculate properties, data functions. However, there is also a place where I am not comfortable with it, basic types and objects need to use the ref function and reactive function for packaging, sometimes there are all kinds of trouble with it, need to pay more attention to some. However, this is not a big problem, and when writing C++, all the objects are wrapped with smart pointers, you will get used to it after using it more.</p>
<p>This is a vue2 classic example, through the data function and calculate the property to return different data.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
    <span class="nx">data</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">message</span><span class="o">:</span> <span class="s2">&#34;hello&#34;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">reversedMessage</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">message</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>In vue3 it can all be centralized to the setup function and returned together, and the template can be used directly.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="p">{</span> <span class="nx">ref</span><span class="p">,</span> <span class="nx">computed</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;vue&#34;</span><span class="p">;</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">setup</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">(</span><span class="s2">&#34;hello&#34;</span><span class="p">);</span>
        <span class="kr">const</span> <span class="nx">reversedMessage</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">message</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="p">});</span>

        <span class="k">return</span> <span class="p">{</span> <span class="nx">message</span><span class="p">,</span> <span class="nx">reversedMessage</span> <span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>It can be seen that the use of the setup function can return a piece of content required by the template, the structure is clearer, vue2 pattern is also possible, but the focus is not the same, vue2 purpose is a kind of action data should be put in a piece, and vue3 setup function is the data processing are put in a piece, so that the organization of the data is more convenient and centralized.</p>
<h3 id="props">Props</h3>
<p>Props are custom properties registered on a component. When a value is passed to a props, it becomes a property of that component.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="o">&lt;</span><span class="nx">hello</span> <span class="nx">v</span><span class="o">-</span><span class="nx">bind</span><span class="o">:</span><span class="nx">message</span><span class="o">=</span><span class="s2">&#34;message&#34;</span> <span class="o">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>The hello component can receive custom properties by defining props functions.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">export</span> <span class="k">default</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
    <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">message</span><span class="o">:</span> <span class="nb">String</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>This allows you to use the message property in helle.vue, but it is important to note that the hello component does not modify the message passed in, otherwise it will break the flow of data.</p>
<p>It is easier to use in vue3 because the type derivation is more convenient.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
    <span class="nx">message</span><span class="o">?:</span> <span class="nb">String</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="k">default</span> <span class="p">{</span>
    <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">message</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span>
            <span class="nx">require</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="k">default</span><span class="o">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">setup</span><span class="p">(</span><span class="nx">props</span><span class="o">:</span> <span class="nx">Props</span><span class="p">)</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">reversedMessage</span> <span class="o">=</span> <span class="nx">computed</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">message</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nb">String</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="kr">const</span> <span class="nx">innerMessage</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">innerMessage</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">).</span><span class="nx">reverse</span><span class="p">().</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="p">});</span>

        <span class="k">return</span> <span class="p">{</span> <span class="nx">reversedMessage</span> <span class="p">};</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><p>Using props in vue3 and typescript requires some attention. Firstly, the value in props needs to be set to possibly empty, otherwise the signature of the setup function will not match. Secondly, to access the props data you need to turn on the props parameter of the setup function, and a context parameter to access the contextual content.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/vue3/">vue3</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-09/something-about-complexity/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Some thoughts on complexity</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-09/the-pitfalls-of-cpp-projects/">
            <span class="next-text nav-default">The Pitfalls of Cpp Projects</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
