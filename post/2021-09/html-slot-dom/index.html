<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>In-depth understanding of the HTML slot element - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Whether it is an instance component or an HTML component, passing parameters is inevitable. In the case of the Web Components component, for example, if we want to pass width and height, we can use custom width or height properties, e.g., passing parameters is inevitable for both example components and HTML components. In the case of a Web Components component, for example, to pass width and height, we can use" /><meta name="keywords" content="html, Slot Dom" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-09/html-slot-dom/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="In-depth understanding of the HTML slot element" />
<meta property="og:description" content="Whether it is an instance component or an HTML component, passing parameters is inevitable. In the case of the Web Components component, for example, if we want to pass width and height, we can use custom width or height properties, e.g., passing parameters is inevitable for both example components and HTML components. In the case of a Web Components component, for example, to pass width and height, we can use" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-09/html-slot-dom/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-09-26T18:06:30+08:00" />
<meta property="article:modified_time" content="2021-09-26T18:06:30+08:00" />

<meta itemprop="name" content="In-depth understanding of the HTML slot element">
<meta itemprop="description" content="Whether it is an instance component or an HTML component, passing parameters is inevitable. In the case of the Web Components component, for example, if we want to pass width and height, we can use custom width or height properties, e.g., passing parameters is inevitable for both example components and HTML components. In the case of a Web Components component, for example, to pass width and height, we can use"><meta itemprop="datePublished" content="2021-09-26T18:06:30+08:00" />
<meta itemprop="dateModified" content="2021-09-26T18:06:30+08:00" />
<meta itemprop="wordCount" content="2181">
<meta itemprop="keywords" content="html," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="In-depth understanding of the HTML slot element"/>
<meta name="twitter:description" content="Whether it is an instance component or an HTML component, passing parameters is inevitable. In the case of the Web Components component, for example, if we want to pass width and height, we can use custom width or height properties, e.g., passing parameters is inevitable for both example components and HTML components. In the case of a Web Components component, for example, to pass width and height, we can use"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">In-depth understanding of the HTML slot element</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-09-26 18:06:30 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            <a href="/categories/web/"> web </a>
            </div>
          <span class="more-meta"> 2181 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#only-useful-in-shadow">Only useful in Shadow</a></li>
        <li><a href="#basic-usage-diagram">Basic usage diagram</a></li>
        <li><a href="#slot-matching-rules">Slot matching rules</a>
          <ul>
            <li><a href="#the-name-value-is-unique">The name value is unique</a></li>
            <li><a href="#the-slot-attribute-value-may-not-be-unique">The slot attribute value may not be unique</a></li>
            <li><a href="#one-component-can-have-multiple-slots">One component can have multiple slots</a></li>
            <li><a href="#must-be-a-child-element-of-the-component">Must be a child element of the component</a></li>
          </ul>
        </li>
        <li><a href="#events-in-the-slot-element">Events in the slot element</a></li>
        <li><a href="#special-display-values">Special display values</a>
          <ul>
            <li><a href="#what-is-displaycontents">What is display:contents?</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Whether it is an instance component or an HTML component, passing parameters is inevitable.</p>
<p>In the case of the Web Components component, for example, if we want to pass width and height, we can use custom <code>width</code> or <code>height</code> properties, e.g., passing parameters is inevitable for both example components and HTML components.</p>
<p>In the case of a Web Components component, for example, to pass width and height, we can use custom <code>width</code> or <code>height</code> properties, e.g.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">by-zxx</span> <span class="na">width</span><span class="o">=</span><span class="s">&#34;300&#34;</span> <span class="na">height</span><span class="o">=</span><span class="s">&#34;150&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">by-zxx</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>But sometimes the parameter we need to pass is a piece of HTML content, so how do we pass this HTML into the component?</p>
<p>In this case, we need to use the slot element <code>&lt;slot&gt;</code>.</p>
<h2 id="only-useful-in-shadow">Only useful in Shadow</h2>
<p>The <code>&lt;slot&gt;</code> element can only be used in the Shadow DOM to have a slot effect; otherwise, it can be treated as a normal HTML element.</p>
<p>For example, this HTML code directly under the <code>&lt;body&gt;</code> element is not valid, i.e. the image element cannot replace the content of the &ldquo;placeholder element&rdquo;.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;1.png&#34;</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;some&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
    内容：<span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;some&#34;</span><span class="p">&gt;</span>占位元素<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>&lt;slot&gt;</code> element is designed for Web Components component development, so to speak.</p>
<h2 id="basic-usage-diagram">Basic usage diagram</h2>
<p>Here&rsquo;s a simple example to show you how the <code>&lt;slot&gt;</code> element works.</p>
<p>As shown in the <code>alert</code> popup box component, the structure of the popup box is fixed, and what changes is the content of the alert, which can then be passed in as a parameter.</p>
<p>Let&rsquo;s define a popup box component named &lsquo;zxx-alert&rsquo;, and for the sake of simplicity, we&rsquo;ll put the component style and HTML structure in the <code>&lt;template&gt;</code> element, as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">template</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;alertTpl&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
        <span class="p">:</span><span class="nd">host</span><span class="o">(</span><span class="p">:</span><span class="nd">not</span><span class="o">([</span><span class="nt">open</span><span class="o">]))</span> <span class="p">{</span>
            <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">:</span><span class="nd">host</span> <span class="p">{</span>
            <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
            <span class="k">left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span> <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
            <span class="k">height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span> <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
            <span class="k">background-color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">25</span><span class="p">,</span> <span class="mi">28</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mf">0.88</span><span class="p">);</span>
            <span class="k">z-index</span><span class="p">:</span> <span class="mi">19</span><span class="p">;</span>
            <span class="k">display</span><span class="p">:</span> <span class="k">grid</span><span class="p">;</span>
            <span class="n">place-items</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nt">dialog</span> <span class="p">{</span>
            <span class="k">position</span><span class="p">:</span> <span class="kc">static</span><span class="p">;</span>
            <span class="k">display</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">dialog</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>暂无提示信息<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>确定<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">dialog</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>In this case, there is the slot element, whose HTML code is shown below.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>暂无提示信息<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>indicates that this part is externally replaceable by other HTML in the custom element.</p>
<p>Of course, for this to take effect, it needs to be converted to a Shadow DOM element and be part of the custom component, and the relevant implementation code is shown below.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">customElements</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;zxx-alert&#39;</span><span class="p">,</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">HTMLElement</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="kr">super</span><span class="p">();</span>
        <span class="kd">let</span> <span class="nx">contentDoc</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;alertTpl&#39;</span><span class="p">).</span><span class="nx">content</span><span class="p">;</span>

        <span class="kr">const</span> <span class="nx">shadowRoot</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">attachShadow</span><span class="p">({</span>
            <span class="nx">mode</span><span class="o">:</span> <span class="s1">&#39;open&#39;</span>
        <span class="p">}).</span><span class="nx">append</span><span class="p">(</span><span class="nx">contentDoc</span><span class="p">.</span><span class="nx">cloneNode</span><span class="p">(</span><span class="kc">true</span><span class="p">));</span>  
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><p>In this case, just set the content of the corresponding matching slot within the <code>&lt;zxx-alert&gt;</code> element (by matching the <code>slot</code> attribute with the <code>name</code> value of the <code>&lt;slot&gt;</code> element), and this part will appear as an alert message, e.g.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>At this point, there is an effect similar to the following figure.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/7baaf0f5af98445fa5bf98c21e5de9a2.png" alt=""></p>
<p>The DOM content is now used as a parameter in the alert box, so you can see how flexible it is to use the <code>&lt;slot&gt;</code> element for dynamic content rendering.</p>
<h2 id="slot-matching-rules">Slot matching rules</h2>
<p>In a nutshell.</p>
<p>The <code>&lt;slot&gt;</code> slot element will be matched if the value of its <code>name</code> attribute matches the value of the <code>slot</code> attribute of any HTML element.</p>
<p>The details are as follows.</p>
<h3 id="the-name-value-is-unique">The name value is unique</h3>
<p><code>&lt;slot&gt;</code> supports the <code>name</code> attribute, which can be seen as an identifier and needs to be unique, since multiple identical names will match at most one slot element. For example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">dialog</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>暂无提示信息<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>暂无提示信息 +1<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>确定<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">dialog</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>The following <code>name=&quot;alert&quot;</code> slot element would not be replaced by HTML, as shown in the following image (the following line of text).</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/a7e5ea364a8240469cf76f43316c0d81.png" alt=""></p>
<h3 id="the-slot-attribute-value-may-not-be-unique">The slot attribute value may not be unique</h3>
<p>The value of the <code>slot</code> attribute may not be unique, for example, the following HTML code looks like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功 +1！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>You will see two successful execution messages, as shown below (screenshot from Firefox browser).</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/478673dc90114033b0c0fbe25882f389.png" alt=""></p>
<h3 id="one-component-can-have-multiple-slots">One component can have multiple slots</h3>
<p>Multiple slots can be used for the same component, e.g. to reserve the position of a button.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">dialog</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>暂无提示信息<span class="p">&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>确定<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">slot</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;button&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">slot</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">dialog</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;button&#34;</span><span class="p">&gt;</span>取消<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>At this point, you can see that not only the content of the prompt has been inserted, but the cancel button has also been inserted into the pop-up box, as shown in the following screenshot.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/bd77aaf751034b1b838d061977b6670d.png" alt=""></p>
<h3 id="must-be-a-child-element-of-the-component">Must be a child element of the component</h3>
<p>The element used to match must also be written in the custom element component and exist as a child element, e.g. the following paired element is outside the custom element and has no slot effect.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>and the following, where the matching element is not a child element but a child of a child element, are also not displayed as valid slots.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;button&#34;</span><span class="p">&gt;</span>取消<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>The effect is as follows, and you can see that there is no cancel button.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/0255759b0ab84ad787f8f1d25a328fe5.png" alt=""></p>
<p>Even if <code>&lt;div&gt;</code> element has <code>display:contents</code> set, it is not valid.</p>
<h2 id="events-in-the-slot-element">Events in the slot element</h2>
<p>Take the example of the cancel button in the popup box, what if we add an event to the slot of the cancel button?</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;button&#34;</span><span class="p">&gt;</span>取消<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>This is the case, although visually, the matching element replaces the slot element, in fact, the position of the two does not change and the HTML structure is as follows.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/40a63bb316164163887c8c1d7a9df2bd.png" alt=""></p>
<p>Therefore, to close the popup box by clicking the cancel button in the popup box, you only need to write events on the original <code>&lt;slot&gt;</code> element or the matching <code>&lt;button&gt;</code> element, and the DOM hierarchy is still handled according to the original DOM relationship.</p>
<p>For example, both of the following can close the popup box.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html">// 1. 匹配按钮元素添加事件
<span class="p">&lt;</span><span class="nt">zxx-alert</span> <span class="na">open</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;alert&#34;</span><span class="p">&gt;</span>插槽执行成功！<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">button</span> <span class="na">slot</span><span class="o">=</span><span class="s">&#34;button&#34;</span> <span class="na">onclick</span><span class="o">=</span><span class="s">&#34;this.parentElement.removeAttribute(&#39;open&#39;)</span><span class="p">&gt;</span>取消<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">zxx-alert</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>Or handle it when defining the Web component (displaying only the key code).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="nx">customElements</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;zxx-alert&#39;</span><span class="p">,</span> <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">HTMLElement</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 同上
</span><span class="c1"></span>    <span class="p">}</span>
    <span class="nx">connectedCallback</span> <span class="p">()</span> <span class="p">{</span>
        <span class="c1">// 直接 slot 元素上添加事件
</span><span class="c1"></span>        <span class="k">this</span><span class="p">.</span><span class="nx">shadowRoot</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;[name=&#34;button&#34;]&#39;</span><span class="p">).</span><span class="nx">onclick</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">toggleAttribute</span><span class="p">(</span><span class="s1">&#39;open&#39;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="special-display-values">Special display values</h2>
<p>As far as I know, the <code>&lt;slot&gt;</code> element is the only element whose <code>display</code> defaults to <code>contents</code> (feel free to correct me if I&rsquo;m wrong).</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/6786af027adc4b959efa76bbd18fa1c5.png" alt=""></p>
<h3 id="what-is-displaycontents">What is display:contents?</h3>
<p><code>display:contents</code> does what its name implies; only the content box, and all the rest of the boxes, are eliminated, which produces the following phenomena.</p>
<ul>
<li>
<p>All layouts require the box model to be used, so the <code>display:contents</code> element has no layout effect; for example, the <code>&lt;item&gt;</code> element below is nested by <code>&lt;div&gt;</code> but is still a flex child, because this nested <code>&lt;div&gt;</code> does not participate in the layout.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="l">&lt;section style=&#34;display:flex;height:100px;&#34;&gt;</span><span class="w">
</span><span class="w"></span><span class="l">&lt;div style=&#34;display:contents;&#34;&gt;</span><span class="w">
</span><span class="w">    </span><span class="l">&lt;item style=&#34;flex:1;background:skyblue;&#34;&gt;1&lt;/item&gt;</span><span class="w">
</span><span class="w">    </span><span class="l">&lt;item style=&#34;flex:1;background:aliceblue;&#34;&gt;2&lt;/item&gt;</span><span class="w">
</span><span class="w">    </span><span class="l">&lt;item style=&#34;flex:1;background:skyblue;&#34;&gt;3&lt;/item&gt;</span><span class="w">
</span><span class="w"></span><span class="l">&lt;/div&gt;</span><span class="w">
</span><span class="w"></span><span class="l">&lt;/section&gt;</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>The rendering is as follows.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/036decc8b2c841c7bf75401f5174e279.png" alt=""></p>
</li>
<li>
<p>width-height backgrounds, etc., act on non-content boxes, so the <code>display:contents</code> element cannot set the size and cannot set the background color.</p>
</li>
<li>
<p>The <code>display:contents</code> element can only set CSS related to the text content, such as color color, font-size font size, etc.</p>
</li>
</ul>
<p>In a nutshell, <code>display:contents</code> means &ldquo;take up space and not do anything&rdquo;, so if you don&rsquo;t have much idea what this CSS declaration does, just think of the <code>&lt;slot&gt;</code> element.</p>
<p>Not the focus of this article, so I won&rsquo;t go further.</p>
<p>The <code>&lt;slot&gt;</code> element compatibility is consistent with the Web Component Development V2 specification and is supported by modern browsers.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/09/26/8e6ac84bd78442809dfa7f9ecb247de0.png" alt=""></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/html/">html</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-09/jenkins-with-kubernetes/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Jenkins With Kubernetes</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-09/webpack-sourcemap-sass-loader-err/">
            <span class="next-text nav-default">webpack close sourceMap cause sass-loader error problem analysis and solution</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
