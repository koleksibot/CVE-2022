<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Python pip source and Anaconda conda source modification - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Due to some unavoidable factors, the official Python packages are sometimes inaccessible or have network instability in China. conda source also has the problem of network link failure. To solve this problem, here are some configuration methods to sort out. Pip vs. Conda Dependency checking pip: does not always show the required additional dependencies. When installing a package, it may simply ignore the dependencies and install them, only indicating errors" /><meta name="keywords" content="python, Pip, Conda" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-10/pip-and-conda/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Python pip source and Anaconda conda source modification" />
<meta property="og:description" content="Due to some unavoidable factors, the official Python packages are sometimes inaccessible or have network instability in China. conda source also has the problem of network link failure. To solve this problem, here are some configuration methods to sort out. Pip vs. Conda Dependency checking pip: does not always show the required additional dependencies. When installing a package, it may simply ignore the dependencies and install them, only indicating errors" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-10/pip-and-conda/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-10-30T13:40:30+08:00" />
<meta property="article:modified_time" content="2021-10-30T13:40:30+08:00" />

<meta itemprop="name" content="Python pip source and Anaconda conda source modification">
<meta itemprop="description" content="Due to some unavoidable factors, the official Python packages are sometimes inaccessible or have network instability in China. conda source also has the problem of network link failure. To solve this problem, here are some configuration methods to sort out. Pip vs. Conda Dependency checking pip: does not always show the required additional dependencies. When installing a package, it may simply ignore the dependencies and install them, only indicating errors"><meta itemprop="datePublished" content="2021-10-30T13:40:30+08:00" />
<meta itemprop="dateModified" content="2021-10-30T13:40:30+08:00" />
<meta itemprop="wordCount" content="598">
<meta itemprop="keywords" content="python," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python pip source and Anaconda conda source modification"/>
<meta name="twitter:description" content="Due to some unavoidable factors, the official Python packages are sometimes inaccessible or have network instability in China. conda source also has the problem of network link failure. To solve this problem, here are some configuration methods to sort out. Pip vs. Conda Dependency checking pip: does not always show the required additional dependencies. When installing a package, it may simply ignore the dependencies and install them, only indicating errors"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Python pip source and Anaconda conda source modification</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-10-30 13:40:30 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 598 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#pip-vs-conda">Pip vs. Conda</a></li>
        <li><a href="#python-pip-source-modifications">Python pip source modifications</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Due to some unavoidable factors, the official Python packages are sometimes inaccessible or have network instability in China. conda source also has the problem of network link failure. To solve this problem, here are some configuration methods to sort out.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/10/30/3eb186b77a1649318a4d709f1fd97479.png" alt=""></p>
<h2 id="pip-vs-conda">Pip vs. Conda</h2>
<p>Dependency checking</p>
<ul>
<li>pip: does not always show the required additional dependencies. When installing a package, it may simply ignore the dependencies and install them, only indicating errors in the results.</li>
<li>conda: Lists additional required dependencies. The dependencies are automatically installed when the package is installed. You can easily switch between different versions of a package.</li>
</ul>
<p>Environment management</p>
<ul>
<li>pip: It is difficult to maintain multiple environments.</li>
<li>conda: It is easier to switch between environments, and environment management is simpler.</li>
</ul>
<p>Impact on the system&rsquo;s own Python</p>
<ul>
<li>pip: Updating/rewinding versions/uninstalling packages in system-installed Python will affect other programs.</li>
<li>conda: It will not affect the system&rsquo;s own Python.</li>
</ul>
<p>Applicable languages</p>
<ul>
<li>pip: Only applies to Python.</li>
<li>conda: works with Python, R, Ruby, Lua, Scala, Java, JavaScript, C/C++, FORTRAN.</li>
</ul>
<h2 id="python-pip-source-modifications">Python pip source modifications</h2>
<p>Common pip sources.</p>
<ul>
<li><a href="https://mirrors.cloud.tencent.com/pypi/simple/">https://mirrors.cloud.tencent.com/pypi/simple/</a></li>
<li><a href="https://mirrors.aliyun.com/pypi/simple/">https://mirrors.aliyun.com/pypi/simple/</a></li>
<li><a href="https://pypi.doubanio.com/simple/">https://pypi.doubanio.com/simple/</a></li>
<li><a href="https://pypi.tuna.tsinghua.edu.cn/simple/">https://pypi.tuna.tsinghua.edu.cn/simple/</a></li>
<li><a href="https://pypi.mirrors.ustc.edu.cn/simple/">https://pypi.mirrors.ustc.edu.cn/simple/</a></li>
</ul>
<p><strong>Temporary use</strong> : Add the -i parameter to specify the pip source when using pip</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">pip</span> <span class="n">install</span> <span class="n">scrapy</span> <span class="o">-</span><span class="n">i</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">pypi</span><span class="o">.</span><span class="n">tuna</span><span class="o">.</span><span class="n">tsinghua</span><span class="o">.</span><span class="n">edu</span><span class="o">.</span><span class="n">cn</span><span class="o">/</span><span class="n">simple</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>Permanent modification</strong> :.</p>
<ul>
<li>Windows: create pip directory under user folder and create in file (%HOMEPATH%\pip\pip.ini) under pip directory</li>
<li>Linux/MAC OS: path and file name in: ~/.pip/pip.conf (if you want it to take effect globally, the file can be placed in /etc/pip.conf)</li>
</ul>
<p>Write the following in the file (index-url can be replaced by the pip source you want to use)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[global]
trusted-host=mirrors.aliyun.com
index-url=https://mirrors.aliyun.com/pypi/simple/
Anaconda conda源的修改
</code></pre></td></tr></table>
</div>
</div><p>According to the Anaconda software source, Anaconda and Miniconda are trademarks of Anaconda, Inc. and any unauthorized public mirroring is not permitted. For its part, Anaconda, Inc. has agreed to open mirroring privileges to educational and research institutions on the condition that traffic information is provided.</p>
<p>The following is a compilation of available conda sources.</p>
<ul>
<li>Tsinghua University mirror: <a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/">https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/</a></li>
<li>Shanghai Jiaotong University mirror: <a href="https://mirrors.sjtug.sjtu.edu.cn/docs/anaconda">https://mirrors.sjtug.sjtu.edu.cn/docs/anaconda</a></li>
</ul>
<p><strong>modify configuration file</strong></p>
<ol>
<li>
<p>Generate the accompanying configuration file by the command: conda config -set show_channel_urls yes</p>
</li>
<li>
<p>Modify the generated directory configuration file .condarc</p>
</li>
</ol>
<ul>
<li>Windows is <code>&quot;%HOMEPATH%\.condarc&quot;</code></li>
<li>Linux/MAC OS is<code>&quot;~/.condarc&quot;</code></li>
</ul>
<p>Recommended configuration content.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">ssl_verify</span><span class="p">:</span><span class="w"> </span><span class="kc">False</span><span class="w">
</span><span class="w"></span><span class="nt">channels</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">defaults</span><span class="w">
</span><span class="w"></span><span class="nt">default_channels</span><span class="p">:</span><span class="w">
</span><span class="w">  </span>- <span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span><span class="w">
</span><span class="w">  </span>- <span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span><span class="w">
</span><span class="w">  </span>- <span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r</span><span class="w">
</span><span class="w">  </span>- <span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/pro</span><span class="w">
</span><span class="w">  </span>- <span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2</span><span class="w">
</span><span class="w"></span><span class="nt">custom_channels</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">conda-forge</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w">  </span><span class="nt">msys2</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w">  </span><span class="nt">bioconda</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w">  </span><span class="nt">menpo</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w">  </span><span class="nt">pytorch</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w">  </span><span class="nt">simpleitk</span><span class="p">:</span><span class="w"> </span><span class="l">https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud</span><span class="w">
</span><span class="w"></span><span class="nt">show_channel_urls</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>If there are still problems with the network, add a proxy at</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">proxy_servers</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">http</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:55959</span><span class="w">
</span><span class="w">    </span><span class="nt">https</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:55959</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>Run conda clean -i to clear the index cache and ensure that the index provided by the mirror site is used.</li>
</ol>
<p><strong>Command Line Direct Configuration</strong></p>
<p>Enter the following command directly from the command line.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/
conda config --set show_channel_urls yes
</code></pre></td></tr></table>
</div>
</div><p>If a Conda HTTP Error is returned, you need to remove the third-party mirror link and revert to the default settings:.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">conda config --remove-key channels
conda config --show <span class="c1"># 查看conda的配置，确认channels</span>
conda config --show-sources <span class="c1"># 仅查看所有镜像</span>
</code></pre></td></tr></table>
</div>
</div><p>Add channels for r, conda-forge, bioconda.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">conda config --add channels r <span class="c1"># R软件包</span>
conda config --add channels conda-forge <span class="c1"># Conda社区维护的不在默认通道中的软件</span>
conda config --add channels bioconda <span class="c1"># 生物信息学类工具</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">python</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-10/jupyterlab-hive/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">JupyterLab HIVE Data Synchronization Process</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-10/linux-windows-mac-os-file_systems/">
            <span class="next-text nav-default">Linux/Windows/Mac OS file systems</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
