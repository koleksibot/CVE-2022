<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Python Module: Container DatatypesCollections - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="There are some built-in data types in Python, such as int, str, list, tuple, dict, etc. Python&amp;rsquo;s collections module builds on these built-in data types by providing several additional data types. namedtuple() generates a subclass of tuple that can use the name to access the content of the element deque A list-like container that implements fast append and pop at both ends Counter A subclass of dictionary that provides counting" /><meta name="keywords" content="Python, Collections" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-11/python-collections/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Python Module: Container DatatypesCollections" />
<meta property="og:description" content="There are some built-in data types in Python, such as int, str, list, tuple, dict, etc. Python&rsquo;s collections module builds on these built-in data types by providing several additional data types. namedtuple() generates a subclass of tuple that can use the name to access the content of the element deque A list-like container that implements fast append and pop at both ends Counter A subclass of dictionary that provides counting" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-11/python-collections/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-11-11T18:58:40+08:00" />
<meta property="article:modified_time" content="2021-11-11T18:58:40+08:00" />

<meta itemprop="name" content="Python Module: Container DatatypesCollections">
<meta itemprop="description" content="There are some built-in data types in Python, such as int, str, list, tuple, dict, etc. Python&rsquo;s collections module builds on these built-in data types by providing several additional data types. namedtuple() generates a subclass of tuple that can use the name to access the content of the element deque A list-like container that implements fast append and pop at both ends Counter A subclass of dictionary that provides counting"><meta itemprop="datePublished" content="2021-11-11T18:58:40+08:00" />
<meta itemprop="dateModified" content="2021-11-11T18:58:40+08:00" />
<meta itemprop="wordCount" content="901">
<meta itemprop="keywords" content="python," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python Module: Container DatatypesCollections"/>
<meta name="twitter:description" content="There are some built-in data types in Python, such as int, str, list, tuple, dict, etc. Python&rsquo;s collections module builds on these built-in data types by providing several additional data types. namedtuple() generates a subclass of tuple that can use the name to access the content of the element deque A list-like container that implements fast append and pop at both ends Counter A subclass of dictionary that provides counting"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Python Module: Container DatatypesCollections</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-11-11 18:58:40 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 901 words </span>
          <span class="more-meta"> 2 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#namedtuple">namedtuple()</a></li>
        <li><a href="#deque">deque</a></li>
        <li><a href="#counter">Counter</a></li>
        <li><a href="#ordereddict">OrderedDict</a></li>
        <li><a href="#defaultdict">DefaultDict</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>There are some built-in data types in Python, such as int, str, list, tuple, dict, etc. Python&rsquo;s collections module builds on these built-in data types by providing several additional data types.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/11/f71c9df9067448049a27f8db45c27b09.png" alt=""></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>namedtuple()</td>
<td>generates a subclass of tuple that can use the name to access the content of the element</td>
</tr>
<tr>
<td>deque</td>
<td>A list-like container that implements fast append and pop at both ends</td>
</tr>
<tr>
<td>Counter</td>
<td>A subclass of dictionary that provides counting of hashable objects</td>
</tr>
<tr>
<td>OrderedDict</td>
<td>subclass of dictionaries that preserve the order in which they are added</td>
</tr>
<tr>
<td>defaultdict</td>
<td>A subclass of dictionary that provides a factory function to provide a default value for dictionary queries</td>
</tr>
<tr>
<td>UserDict</td>
<td>wraps dictionary objects, simplifying dictionary subclassing</td>
</tr>
<tr>
<td>UserList</td>
<td>wraps a list object, simplifying list subclassing</td>
</tr>
<tr>
<td>UserString</td>
<td>encapsulates the list object, simplifying string subclassing</td>
</tr>
</tbody>
</table>
<h2 id="namedtuple">namedtuple()</h2>
<p>namedtuple is used to generate data objects that can be accessed by name, and is often used to enhance the readability of the code, especially when accessing data of type namedtuple.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>

<span class="n">websites</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;百度&#39;</span><span class="p">,</span> <span class="s1">&#39;https://www.baidu.com/&#39;</span><span class="p">,</span> <span class="s1">&#39;李彦宏&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;阿里&#39;</span><span class="p">,</span> <span class="s1">&#39;https://www.taobao.com/&#39;</span><span class="p">,</span> <span class="s1">&#39;马云&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;腾讯&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.qq.com/&#39;</span><span class="p">,</span> <span class="s1">&#39;马化腾&#39;</span><span class="p">)</span>
<span class="p">]</span>

<span class="n">Website</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Website&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;founder&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">website</span> <span class="ow">in</span> <span class="n">websites</span><span class="p">:</span>
    <span class="n">website</span> <span class="o">=</span> <span class="n">Website</span><span class="o">.</span><span class="n">_make</span><span class="p">(</span><span class="n">website</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">website</span><span class="p">)</span>

<span class="c1"># 输出内容：</span>
<span class="c1"># Website(name=&#39;百度&#39;, url=&#39;https://www.baidu.com/&#39;, founder=&#39;李彦宏&#39;)</span>
<span class="c1"># Website(name=&#39;阿里&#39;, url=&#39;https://www.taobao.com/&#39;, founder=&#39;马云&#39;)</span>
<span class="c1"># Website(name=&#39;腾讯&#39;, url=&#39;http://www.qq.com/&#39;, founder=&#39;马化腾&#39;)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="deque">deque</h2>
<p>deque is actually an abbreviation for double-ended queue, which translates to double-ended queue, and its biggest benefit is that it enables to add and remove objects from the head of the queue quickly: .popleft(), .appendleft().</p>
<p>You may say, the native list can also add and remove objects from the head, right? Like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="n">l</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>However, it is worth noting that the time complexity of these two uses of the list object is O(n), which means that the time taken increases linearly with the number of elements. As a double-ended queue, deque also provides some other useful methods, such as rotate, etc.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="n">q</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">q</span><span class="o">.</span><span class="n">appendleft</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>

<span class="c1"># 输出内容：</span>
<span class="c1"># deque([&#39;y&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;x&#39;])</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="counter">Counter</h2>
<p>Counter is a simple counter that counts, for example, the number of occurrences of a character.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;A Counter is a dict subclass for counting hashable objects. 
</span><span class="s1">It is an unordered collection where elements are stored as dictionary keys and their counts are stored as dictionary values. 
</span><span class="s1">Counts are allowed to be any integer value including zero or negative counts. 
</span><span class="s1">The Counter class is similar to bags or multisets in other languages.&#39;&#39;&#39;</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="c1"># 获取出现频率最高的5个字符</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># 输出内容：</span>
<span class="c1"># [(&#39; &#39;, 54), (&#39;e&#39;, 32), (&#39;s&#39;, 25), (&#39;a&#39;, 24), (&#39;t&#39;, 24)]</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="ordereddict">OrderedDict</h2>
<p>An ordered dictionary is like a regular dictionary, but with some extra features related to sorting operations. As the built-in dict class gains the ability to remember the order of insertion (a new behavior guaranteed in Python 3.7), it becomes less important.</p>
<h2 id="defaultdict">DefaultDict</h2>
<p>We all know that when using Python&rsquo;s native data structure dict, if you access it with something like d[key], a KeyError exception will be thrown when the specified key doesn&rsquo;t exist. However, with defaultdict, if you pass in a default factory method, then when you request a non-existent key, the factory method will be called and the result will be used as the default value for the key.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">members</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Age, name</span>
    <span class="p">[</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="s1">&#39;John&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="s1">&#39;Lily&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;male&#39;</span><span class="p">,</span> <span class="s1">&#39;Pony&#39;</span><span class="p">],</span>
    <span class="p">[</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="s1">&#39;Lucy&#39;</span><span class="p">],</span>
<span class="p">]</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
<span class="k">for</span> <span class="n">sex</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">members</span><span class="p">:</span>
    <span class="n">result</span><span class="p">[</span><span class="n">sex</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="c1"># Result:</span>
<span class="c1"># defaultdict(&lt;class &#39;list&#39;&gt;, {&#39;male&#39;: [&#39;John&#39;, &#39;Jack&#39;, &#39;Pony&#39;], &#39;female&#39;: [&#39;Lily&#39;, &#39;Lucy&#39;]})</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">python</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-11/real-time-web-application/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Real-time messaging technology in web applications</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-11/pmml/">
            <span class="next-text nav-default">PMML, JAVA calls Python algorithm model</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
