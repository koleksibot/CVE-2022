<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Code obfuscation for Spring Boot applications using the ProGuard plugin proguard-maven-plugin - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Because Java code is very easy to decompile, Java code obfuscation is needed to protect Java source code well. This article describes how to use ProGuard&amp;rsquo;s plugin proguard-maven-plugin to obfuscate Java programs. How ProGuard works ProGuard can rename classes, fields and methods by removing useless code and using short, meaningless names. This allows you to compress, optimize and obfuscate your code. The result is a smaller compiled file that is" /><meta name="keywords" content="java, maven, springboot, Obfuscate" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-11/use-proguard-maven-plugin-to-obfuscate-the-spring-boot-program/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Code obfuscation for Spring Boot applications using the ProGuard plugin proguard-maven-plugin" />
<meta property="og:description" content="Because Java code is very easy to decompile, Java code obfuscation is needed to protect Java source code well. This article describes how to use ProGuard&rsquo;s plugin proguard-maven-plugin to obfuscate Java programs. How ProGuard works ProGuard can rename classes, fields and methods by removing useless code and using short, meaningless names. This allows you to compress, optimize and obfuscate your code. The result is a smaller compiled file that is" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-11/use-proguard-maven-plugin-to-obfuscate-the-spring-boot-program/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-11-13T13:34:52+08:00" />
<meta property="article:modified_time" content="2021-11-13T13:34:52+08:00" />

<meta itemprop="name" content="Code obfuscation for Spring Boot applications using the ProGuard plugin proguard-maven-plugin">
<meta itemprop="description" content="Because Java code is very easy to decompile, Java code obfuscation is needed to protect Java source code well. This article describes how to use ProGuard&rsquo;s plugin proguard-maven-plugin to obfuscate Java programs. How ProGuard works ProGuard can rename classes, fields and methods by removing useless code and using short, meaningless names. This allows you to compress, optimize and obfuscate your code. The result is a smaller compiled file that is"><meta itemprop="datePublished" content="2021-11-13T13:34:52+08:00" />
<meta itemprop="dateModified" content="2021-11-13T13:34:52+08:00" />
<meta itemprop="wordCount" content="1271">
<meta itemprop="keywords" content="java,maven,springboot," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Code obfuscation for Spring Boot applications using the ProGuard plugin proguard-maven-plugin"/>
<meta name="twitter:description" content="Because Java code is very easy to decompile, Java code obfuscation is needed to protect Java source code well. This article describes how to use ProGuard&rsquo;s plugin proguard-maven-plugin to obfuscate Java programs. How ProGuard works ProGuard can rename classes, fields and methods by removing useless code and using short, meaningless names. This allows you to compress, optimize and obfuscate your code. The result is a smaller compiled file that is"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Code obfuscation for Spring Boot applications using the ProGuard plugin proguard-maven-plugin</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-11-13 13:34:52 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 1271 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#how-proguard-works">How ProGuard works</a></li>
        <li><a href="#how-to-use-proguard">How to use ProGuard</a></li>
        <li><a href="#using-the-proguard-plugin">Using the ProGuard Plugin</a>
          <ul>
            <li><a href="#creating-a-spring-boot-application">Creating a Spring Boot application</a></li>
            <li><a href="#create-a-new-hellocontroller-code">Create a new HelloController code</a></li>
            <li><a href="#modify-the-pomxml-configuration">Modify the pom.xml configuration</a></li>
          </ul>
        </li>
        <li><a href="#verify-that-the-proguard-plugin-is-working-properly">Verify that the ProGuard plugin is working properly</a>
          <ul>
            <li><a href="#verify-that-the-program-is-working-properly">Verify that the program is working properly</a></li>
            <li><a href="#verify-that-the-obfuscation-has-been-completed">Verify that the obfuscation has been completed</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Because Java code is very easy to decompile, Java code obfuscation is needed to protect Java source code well. This article describes how to use ProGuard&rsquo;s plugin proguard-maven-plugin to obfuscate Java programs.</p>
<h2 id="how-proguard-works">How ProGuard works</h2>
<p>ProGuard can rename classes, fields and methods by removing useless code and using short, meaningless names. This allows you to compress, optimize and obfuscate your code. The result is a smaller compiled file that is much harder to reverse engineer with ProGuard.</p>
<ul>
<li>Shrink: This step in the compression process is used to detect and remove unused classes, fields, methods, and properties.</li>
<li>Optimize: In the Optimize step, the bytecode is optimized and useless instructions are removed.</li>
<li>Obfuscate: In the Obfuscate step, rename classes, fields and methods with meaningless names such as a, b, c, etc.</li>
<li>Preveirfy: In the Preveirfy step, the processed code is mainly prefixed on the Java platform.</li>
</ul>
<p>For ProGuard execution flowchart is shown in the figure below.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/69eac561722c4eefbb921d06f01a0032.png" alt=""></p>
<p>Therefore, using ProGuard not only enables code obfuscation, but also provides additional benefits in terms of code compression, optimization, etc.</p>
<h2 id="how-to-use-proguard">How to use ProGuard</h2>
<p>ProGuard offers several ways to use it.</p>
<ul>
<li>Using the ProGuard command line</li>
<li>Using the ProGuard GUI program</li>
<li>Using the ProGuard Plugin</li>
</ul>
<p>Download the installation package, take proguard-7.1.1.zip for example, and unzip it to any directory. Double click the bin/proguardgui.bat file to start the ProGuard tool interface. Look at the style is pure Java client program.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/5d902ea5bdb045849414a073638d9afe.png" alt=""></p>
<p>If the command line approach is used, the proguard.bat file is used.</p>
<p>All of the above ways are relatively simple and will not be described in detail here. After all, it is the way the ProGuard plugin is used that is the main focus of this section.</p>
<h2 id="using-the-proguard-plugin">Using the ProGuard Plugin</h2>
<p>Technically speaking, the ProGuard plugin is not an official product. He is provided by a third party, but is also recognized by ProGuard. The ProGuard plugin is available at: <a href="https://github.com/wvengen/proguard-maven-plugin">https://github.com/wvengen/proguard-maven-plugin</a></p>
<h3 id="creating-a-spring-boot-application">Creating a Spring Boot application</h3>
<p>With Spring Initializr, we start by creating a simple Spring Boot application.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/2bd399dbf2704abdbdab9d06996d4202.png" alt=""></p>
<p>The code structure is as follows.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/4c2c9925c1ce4233a465bc491575f131.png" alt=""></p>
<h3 id="create-a-new-hellocontroller-code">Create a new HelloController code</h3>
<p>Create the package &ldquo;com.waylau.proguard.controller&rdquo; and create the HelloController class under this package with the following code.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="cm">/**
</span><span class="cm"> * Welcome to https://waylau.com
</span><span class="cm"> */</span>
<span class="kn">package</span> <span class="nn">com.waylau.proguard.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.RestController</span><span class="o">;</span>

<span class="cm">/**
</span><span class="cm"> * Hello Controller.
</span><span class="cm"> * 
</span><span class="cm"> * @since 1.0.0 2021年11月11日
</span><span class="cm"> * @author &lt;a href=&#34;https://waylau.com&#34;&gt;Way Lau&lt;/a&gt;
</span><span class="cm"> */</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloController</span> <span class="o">{</span>
	
	<span class="nd">@GetMapping</span><span class="o">(</span><span class="s">&#34;/hello&#34;</span><span class="o">)</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">hello</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">getMsg</span><span class="o">();</span>
	<span class="o">}</span>

	<span class="kd">private</span> <span class="n">String</span> <span class="nf">getMsg</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="s">&#34;Hello World!&#34;</span><span class="o">;</span>
	<span class="o">}</span>

<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The HelloController class is the implementation of a simple REST interface.</p>
<h3 id="modify-the-pomxml-configuration">Modify the pom.xml configuration</h3>
<p>The original pom.xml configuration is as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span class="nt">&lt;project</span> <span class="na">xmlns=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span class="na">xmlns:xsi=</span><span class="s">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&#34;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span class="nt">&gt;</span>
	<span class="nt">&lt;modelVersion&gt;</span>4.0.0<span class="nt">&lt;/modelVersion&gt;</span>
	<span class="nt">&lt;parent&gt;</span>
		<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
		<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-parent<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;version&gt;</span>2.5.6<span class="nt">&lt;/version&gt;</span>
		<span class="nt">&lt;relativePath/&gt;</span>
	<span class="nt">&lt;/parent&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.waylau.proguard<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>proguard-maven-plugin-spring-boot-example<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>0.0.1-SNAPSHOT<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;name&gt;</span>proguard-maven-plugin-spring-boot-example<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;description&gt;</span>Proguard Obfuscate Spring Boot Maven Plugin Example.<span class="nt">&lt;/description&gt;</span>
	<span class="nt">&lt;properties&gt;</span>
		<span class="nt">&lt;java.version&gt;</span>1.8<span class="nt">&lt;/java.version&gt;</span>
	<span class="nt">&lt;/properties&gt;</span>
	<span class="nt">&lt;dependencies&gt;</span>
		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-web<span class="nt">&lt;/artifactId&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>

		<span class="nt">&lt;dependency&gt;</span>
			<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
			<span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-test<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;scope&gt;</span>test<span class="nt">&lt;/scope&gt;</span>
		<span class="nt">&lt;/dependency&gt;</span>
	<span class="nt">&lt;/dependencies&gt;</span>

	<span class="nt">&lt;build&gt;</span>
		<span class="nt">&lt;plugins&gt;</span>
			<span class="nt">&lt;plugin&gt;</span>
				<span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
				<span class="nt">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
			<span class="nt">&lt;/plugin&gt;</span>
		<span class="nt">&lt;/plugins&gt;</span>
	<span class="nt">&lt;/build&gt;</span>

<span class="nt">&lt;/project&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above configuration, add the configuration of the proguard-maven-plugin plugin with the following configuration.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;plugin&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>com.github.wvengen<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>proguard-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>${proguard.maven.plugin.version}<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;executions&gt;</span>
        <span class="nt">&lt;execution&gt;</span>
            <span class="nt">&lt;phase&gt;</span>package<span class="nt">&lt;/phase&gt;</span>
            <span class="nt">&lt;goals&gt;</span>
                <span class="nt">&lt;goal&gt;</span>proguard<span class="nt">&lt;/goal&gt;</span>
            <span class="nt">&lt;/goals&gt;</span>
        <span class="nt">&lt;/execution&gt;</span>
    <span class="nt">&lt;/executions&gt;</span>

    <span class="nt">&lt;configuration&gt;</span>
        <span class="nt">&lt;proguardVersion&gt;</span>${proguard.version}<span class="nt">&lt;/proguardVersion&gt;</span>
        <span class="nt">&lt;injar&gt;</span>${project.build.finalName}.jar<span class="nt">&lt;/injar&gt;</span>
        <span class="nt">&lt;outjar&gt;</span>${project.build.finalName}.jar<span class="nt">&lt;/outjar&gt;</span>
        <span class="nt">&lt;obfuscate&gt;</span>true<span class="nt">&lt;/obfuscate&gt;</span>
        <span class="nt">&lt;options&gt;</span>
            <span class="nt">&lt;option&gt;</span>-dontshrink<span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;option&gt;</span>-dontoptimize<span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将用新的类名替换反射方法调用中的所有字符串。例如，调用Class.forName(&#39;className&#39;) --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-adaptclassstrings<span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将保存所有原始注解等。否则，将从文件中删除所有注解。 --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keepattributes
                Exceptions,
                InnerClasses,
                Signature,
                Deprecated,
                SourceFile,
                LineNumberTable,
                *Annotation*,
                EnclosingMethod
            <span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将保存接口中的所有原始名称（不混淆） --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keepnames interface **<span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将将所有原始方法参数 --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keepparameternames<span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将保存所有原始类文件（不混淆），一般是混淆领域或者服务包中的文件。 --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keep
                class com.waylau.proguard.ProguardMavenPluginSpringBootExampleApplication {
                    public static
                    void main(java.lang.String[]);
                }
            <span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项忽略警告，例如重复的类定义和命名不正确的文件中的类 --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-ignorewarnings<span class="nt">&lt;/option&gt;</span>

            <span class="c">&lt;!-- 此选项将保存服务包中的所有原始类文件（不进行混淆） --&gt;</span>
            <span class="c">&lt;!-- &lt;option&gt;-keep class com.waylau.proguard.service { *; }&lt;/option&gt; --&gt;</span>
            
            <span class="c">&lt;!-- 此选项将保存所有软件包中的所有原始接口文件（不进行混淆） --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keep interface * extends * { *; }<span class="nt">&lt;/option&gt;</span>
            
            <span class="c">&lt;!-- 此选项将保存所有包中所有类中的所有原始定义的注解 --&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keep class com.fasterxml.jackson.** { *; }<span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keep class org.json.JSONObject.** {**
                put(java.lang.String,java.util.Map);}<span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;option&gt;</span>-keepclassmembers class * {
                @org.springframework.context.annotation.Bean *;
                @org.springframework.beans.factory.annotation.Autowired *;
                @org.springframework.beans.factory.annotation.Value *;
                }

            <span class="nt">&lt;/option&gt;</span>

            <span class="nt">&lt;option&gt;</span>-dontwarn com.fasterxml.jackson.databind.**<span class="nt">&lt;/option&gt;</span>
            <span class="nt">&lt;option&gt;</span>-dontwarn com.fasterxml.jackson.**<span class="nt">&lt;/option&gt;</span>

        <span class="nt">&lt;/options&gt;</span>
        <span class="nt">&lt;injarNotExistsSkip&gt;</span>true<span class="nt">&lt;/injarNotExistsSkip&gt;</span>
        <span class="nt">&lt;libs&gt;</span>
            <span class="c">&lt;!--在此添加需要的类库 --&gt;</span>
            <span class="c">&lt;!--&lt;lib&gt;${java.home}/lib/rt.jar&lt;/lib&gt; --&gt;</span>
        <span class="nt">&lt;/libs&gt;</span>

    <span class="nt">&lt;/configuration&gt;</span>
    <span class="nt">&lt;dependencies&gt;</span>
        <span class="nt">&lt;dependency&gt;</span>
            <span class="nt">&lt;groupId&gt;</span>com.guardsquare<span class="nt">&lt;/groupId&gt;</span>
            <span class="nt">&lt;artifactId&gt;</span>proguard-base<span class="nt">&lt;/artifactId&gt;</span>
            <span class="nt">&lt;version&gt;</span>${proguard.version}<span class="nt">&lt;/version&gt;</span>
        <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;/dependencies&gt;</span>
<span class="nt">&lt;/plugin&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>The above configuration requires several points to be noted.</p>
<ul>
<li>Add proguard-maven-plugin plugin and ProGuard configuration</li>
<li>proguard will be run automatically during the package phase</li>
<li>spring-boot-maven-plugin must be run after proguard is obfuscated so that it will fetch files that have already been obfuscated. This means that the obfuscated proguard-maven-plugin-spring-boot-example-0.0.1-SNAPSHOT.jar will overwrite the pre-obfuscated proguard-maven-plugin-spring-boot-example-0.0.1- SNAPSHOT.jar.</li>
</ul>
<h2 id="verify-that-the-proguard-plugin-is-working-properly">Verify that the ProGuard plugin is working properly</h2>
<p>The verification is divided into two pieces, namely</p>
<ul>
<li>Whether the obfuscation has been completed.</li>
<li>Whether the program works properly after obfuscation.</li>
</ul>
<h3 id="verify-that-the-program-is-working-properly">Verify that the program is working properly</h3>
<p>This is relatively simple, just run the program down. Start the application and execute.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">java -jar target/proguard-maven-plugin-spring-boot-example-0.0.1-SNAPSHOT.jar
</code></pre></td></tr></table>
</div>
</div><p>Once started, the REST interface can be accessed through a browser.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/9e0a591183d94f30a2afa7c9ae141caf.png" alt=""></p>
<h3 id="verify-that-the-obfuscation-has-been-completed">Verify that the obfuscation has been completed</h3>
<p>Here you can use a decompiler tool to see if the obfuscation is complete.</p>
<p>Download and install the decompiler tool JD-GUI. jd-gui-windows-1.6.6.zip for example, and extract it to any directory. Double click the jd-gui.exe file to start the JD-GUI tool.</p>
<p>Open our proguard-maven-plugin-spring-boot-example-0.0.1-SNAPSHOT.jar, click on the left class file, you can see the decompiled source code on the right.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/13/74be95d423d4467fa8f1145977740acc.png" alt=""></p>
<p>From the result of decompiling, package name, class name and method name have been successfully obfuscated.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/java/">java</a>
          <a href="/tags/maven/">maven</a>
          <a href="/tags/springboot/">springboot</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-11/helm-chart-compatible-different-kube-versio/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Helm Chart is compatible with different Kubernetes versions</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-11/embrace-the-arm-server/">
            <span class="next-text nav-default">Embrace Arm Server</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
