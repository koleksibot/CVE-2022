<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>String Hashing Algorithm Compendium - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="What is a hash ? Hash is the transformation of an input of arbitrary length (also called pre-image) into an output of fixed length by a hashing algorithm, and that output is the hash value. This transformation is a compressed mapping, i.e., the space for the hash value is usually much smaller than the space for the input, and different inputs may be hashed into the same output, and it is not possible to uniquely determine the input value from the hash value." /><meta name="keywords" content="Python, Hash" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-11/string-hash/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="String Hashing Algorithm Compendium" />
<meta property="og:description" content="What is a hash ? Hash is the transformation of an input of arbitrary length (also called pre-image) into an output of fixed length by a hashing algorithm, and that output is the hash value. This transformation is a compressed mapping, i.e., the space for the hash value is usually much smaller than the space for the input, and different inputs may be hashed into the same output, and it is not possible to uniquely determine the input value from the hash value." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-11/string-hash/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-11-05T13:50:27+08:00" />
<meta property="article:modified_time" content="2021-11-05T13:50:27+08:00" />

<meta itemprop="name" content="String Hashing Algorithm Compendium">
<meta itemprop="description" content="What is a hash ? Hash is the transformation of an input of arbitrary length (also called pre-image) into an output of fixed length by a hashing algorithm, and that output is the hash value. This transformation is a compressed mapping, i.e., the space for the hash value is usually much smaller than the space for the input, and different inputs may be hashed into the same output, and it is not possible to uniquely determine the input value from the hash value."><meta itemprop="datePublished" content="2021-11-05T13:50:27+08:00" />
<meta itemprop="dateModified" content="2021-11-05T13:50:27+08:00" />
<meta itemprop="wordCount" content="1850">
<meta itemprop="keywords" content="python,hash," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="String Hashing Algorithm Compendium"/>
<meta name="twitter:description" content="What is a hash ? Hash is the transformation of an input of arbitrary length (also called pre-image) into an output of fixed length by a hashing algorithm, and that output is the hash value. This transformation is a compressed mapping, i.e., the space for the hash value is usually much smaller than the space for the input, and different inputs may be hashed into the same output, and it is not possible to uniquely determine the input value from the hash value."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">String Hashing Algorithm Compendium</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-11-05 13:50:27 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 1850 words </span>
          <span class="more-meta"> 9 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-a-hash-">What is a hash ?</a></li>
        <li><a href="#the-difference-between-hash-and-encrypt">The difference between Hash and Encrypt</a></li>
        <li><a href="#application-of-hash-function">Application of Hash function</a>
          <ul>
            <li><a href="#error-correction">Error correction</a></li>
            <li><a href="#speech-recognition">Speech recognition</a></li>
            <li><a href="#information-security">Information Security</a></li>
          </ul>
        </li>
        <li><a href="#introduction-to-common-hash-functions">Introduction to Common Hash Functions</a></li>
        <li><a href="#modernizing-the-hash-algorithm">Modernizing the Hash Algorithm</a>
          <ul>
            <li><a href="#jenkins-hash">Jenkins Hash</a></li>
            <li><a href="#murmurhash">MurmurHash</a></li>
            <li><a href="#cityhash">CityHash</a></li>
            <li><a href="#spookyhash">SpookyHash</a></li>
            <li><a href="#framhash">FramHash</a></li>
            <li><a href="#other-hash-algorithms">Other Hash Algorithms</a></li>
            <li><a href="#which-hash-function-should-i-use">Which Hash function should I use?</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h2 id="what-is-a-hash-">What is a hash ?</h2>
<p>Hash is the transformation of an input of arbitrary length (also called pre-image) into an output of fixed length by a hashing algorithm, and that output is the hash value. This transformation is a compressed mapping, i.e., the space for the hash value is usually much smaller than the space for the input, and different inputs may be hashed into the same output, and it is not possible to uniquely determine the input value from the hash value.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/05/d767b6459558473f86671c948af8956c.png" alt=""></p>
<p>The mathematical expression is: h = H(M) , where H()-one way hash function, M-any length plaintext, and h-fixed length hash value.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/05/32450af67f7e478188c872c4207f84d0.png" alt=""></p>
<p>Hash algorithms applied in the field of information security also need to satisfy other key properties.</p>
<ul>
<li><strong>one-way</strong>, the hash value can be obtained simply and quickly from the pre-map, and it is computationally impossible to construct a pre-map such that the hash result is equal to a particular hash value, i.e., it is not feasible to construct the corresponding M=H-1(h). In this way, the hash value is a statistically unique representation of the input value, hence the cryptographic Hash, also known as &ldquo;message digest&rdquo;, which requires that the &ldquo;message&rdquo; can be conveniently &ldquo;digest&rdquo;, but it is not possible to get more information about the &ldquo;message&rdquo; in the &ldquo;digest&rdquo; than in the &ldquo;digest&rdquo; itself. information than the summary itself.</li>
<li><strong>collision-resistant</strong> , i.e., it is statistically impossible to generate 2 pre-maps with the same hash value. Given M, it is computationally impossible to find M' that satisfies H(M)=H(M'), which is weakly conflict-resistant; it is also computationally difficult to find an arbitrary pair of M and M' that satisfies H(M)=H(M'), which is strongly conflict-resistant. The requirement of &ldquo;strong conflict resistance&rdquo; is mainly to prevent the so-called &ldquo;birthday attack&rdquo;, in a group of 10 people, the probability that you can find someone with the same birthday as you is 4%, while in the same group, there are 2 The probability of having the same birthday in the same group is 7%. Similarly, when the pre-mapping space is large, the algorithm must be strong enough to ensure that people with the &ldquo;same birthday&rdquo; cannot be found easily.
<strong>Uniformity of mapping distribution and uniformity of difference distribution</strong>, the total number of bits of 0 and 1 in the hash result should be approximately equal; a change of one bit in the input will change more than half of the bits in the hash result, which is also called &ldquo;avalanche effect &ldquo;To achieve a 1-bit change in the hash result, at least half of the bits in the input must be changed. The essence is that each bit of information in the input must be reflected as evenly as possible in each bit of the output; each bit of the output is the result of the combined effect of as many bits of information as possible in the input.</li>
</ul>
<p>Damgard and Merkle defined the so-called &ldquo;compression function&rdquo;, which transforms a fixed-length input into a shorter fixed-length output, and this has had a significant impact on the design of Hash functions in cryptographic practice. The Hash function is designed to be based on the process of &ldquo;compressing&rdquo; the input group and the result of the previous compression process through a specific compression function repeatedly until the entire message is compressed, with the final output being the hash of the entire message. Although a rigorous proof is lacking, the vast majority of researchers in the industry agree that if the compression function is safe, then it will be safe to hash a message of arbitrary length in the form described above.</p>
<h2 id="the-difference-between-hash-and-encrypt">The difference between Hash and Encrypt</h2>
<p>To summarize, Hash converts the target text into an irreversible hashed string (or message digest) of the same length, while Encrypt converts the target text into a reversible cipher text of a different length.</p>
<p>Mathematically speaking, both hashing and encryption are a mapping. Both are formally defined as follows.</p>
<ul>
<li>A hashing algorithm R = H(S) is a many-to-one mapping, where given a target text S, H can uniquely map it to R, and for all S, R has the same length. Since it is a many-to-one mapping, there is no inverse mapping S=H<sup>-1</sup>(R) for H such that R is converted to a unique S.</li>
<li>An encryption algorithm R=E(S,K<sub>E</sub>) is a one-to-one mapping, where the second parameter is called the encryption key, and E can uniquely map a given plaintext S to a ciphertext R in combination with the encryption key K<sub>E</sub>, and there exists another one-to-one mapping S=D(R,K<sub>D</sub>) that can uniquely map a ciphertext R to a corresponding plaintext S in combination with K<sub>D</sub>, where K<sub>D</sub> is called the decryption key.</li>
</ul>
<p>The following diagram illustrates the hashing and encryption process.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/05/016a91a1e61547b589ce2c74ab113954.png" alt=""></p>
<h2 id="application-of-hash-function">Application of Hash function</h2>
<h3 id="error-correction">Error correction</h3>
<p>Using a hash function it is intuitive to detect errors that occur when data is being transmitted. On the sender side of the data, a hash function is applied to the data to be sent and the result of the calculation is sent with the original data. On the receiving side, the same hash function is applied again to the received data, and if the results of the two hash functions are not the same, then there is an error somewhere in the data transmission process. This is called redundancy checksum.</p>
<h3 id="speech-recognition">Speech recognition</h3>
<p>For applications like matching an MP3 file from a known list, one possible solution would be to use a traditional hash function - such as MD5 - but such a solution would be very sensitive to time shifts, CD read errors, different audio compression algorithms or volume adjustment implementation mechanisms. Using something like MD5 is good for quickly finding audio files that are strictly identical (in terms of the binary data of the audio file), but finding audio files that are all identical (in terms of the content of the audio file) would require the use of other, more advanced algorithms.</p>
<h3 id="information-security">Information Security</h3>
<p>The application of Hash algorithm in information security is mainly in the following 3 areas.</p>
<p><strong>File checksum</strong></p>
<p>We are familiar with the parity check algorithm and CRC check, these two checks do not have the ability to resist data tampering, they can detect and correct the channel error in data transmission to a certain extent, but can not prevent the malicious destruction of data. The &ldquo;digital fingerprint&rdquo; feature of MD5 Hash makes it one of the most widely used Checksum algorithms for file integrity.</p>
<p><strong>Digital Signatures</strong></p>
<p>Hash algorithms are also an important part of modern cryptographic systems. The one-way hash function plays an important role in digital signature protocols because of the slow speed of asymmetric algorithms. Digitally signing a Hash value, also known as a &ldquo;digital digest&rdquo;, can be considered statistically equivalent to digitally signing the document itself. And there are other advantages to such a protocol.</p>
<p><strong>Forensic Protocols</strong></p>
<p>Authentication protocols are also known as challenge-authentication models: a simple and secure method when the transmission channel is listenable, but not tamperable.</p>
<h2 id="introduction-to-common-hash-functions">Introduction to Common Hash Functions</h2>
<p>MD5 and SHA1 are arguably the most widely used Hash algorithms, and they are both designed on the basis of MD4.</p>
<ul>
<li>MD4 (RFC 1320) was designed by Ronald L. Rivest of MIT in 1990, and MD stands for Message Digest. It is suitable for high-speed software implementation on a 32-bit word length processor - it is based on bit manipulation of 32-bit operands.</li>
<li>MD5 (RFC 1321) is an improved version of MD4 by Rivest in 1991. MD5 is more complex and slower than MD4, but is more secure and better at resisting analysis and differencing.</li>
<li>SHA1 was designed by the NIST NSA for use with DSA and produces a 160-bit hash for inputs less than 264 in length, so it is more brute-force resistant. SHA-1 was designed based on the same principles as MD4 and mimics that algorithm.</li>
</ul>
<h2 id="modernizing-the-hash-algorithm">Modernizing the Hash Algorithm</h2>
<h3 id="jenkins-hash">Jenkins Hash</h3>
<p>In 1997 <a href="http://burtleburtle.net/bob/">Bob Jenkins</a> published an article on hash functions in the Dr. Dobbs Journal [&ldquo;A hash function for hash table lookup&rdquo;](http://www. burtleburtle.net/bob/hash/doobs.html), which since its publication now has more extensions online. In this article, Bob included a wide range of existing hash functions, including his own so-called &ldquo;lookup2&rdquo;. Then in 2006, Bob released <a href="http://burtleburtle.net/bob/c/lookup3.c">lookup3</a>, which is widely used because it is fast (0.5 bytes/cycle, as Bob claims) and has no serious flaws. lookup3 is the Jenkins Hash. more For more on Bob&rsquo;s hash function see Wikipedia: <a href="http://en.wikipedia.org/wiki/Jenkins_hash_function">Jenkins hash function</a>. memcached&rsquo;s hash algorithm, which supports two Algorithms: jenkins, murmur3, default is jenkins.</p>
<h3 id="murmurhash">MurmurHash</h3>
<p>Austin Appleby released a new hash function in 2008: <a href="https://en.wikipedia.org/wiki/MurmurHash">MurmurHash</a>. Its latest version is about twice as fast as lookup3 (about 1 byte/cycle), and it is available in both 32-bit and 64-bit versions. The 32-bit version uses only 32-bit math functions and gives a 32-bit hash, while the 64-bit version uses 64-bit math functions and gives a 64-bit hash. According to Austin&rsquo;s analysis, MurmurHash has excellent performance, although Bob Jenkins claimed in Dr. Dobbs article that &ldquo;I predict MurmurHash to be weaker than lookup3, but I don&rsquo;t know the exact value because I haven&rsquo;t tested it&rdquo;. &ldquo;MurmurHash is rapidly gaining popularity thanks to its excellent speed and statistical properties. The current version is MurmurHash3, which is used by Redis, Memcached, Cassandra, HBase, and Lucene.</p>
<h3 id="cityhash">CityHash</h3>
<p><a href="https://github.com/google/cityhash">CityHash</a> is a string hashing algorithm released by Google in 2011, which, like murmurhash, is a non-cryptographic hash algorithm. The development of the CityHash algorithm was inspired by MurmurHash. Its main advantage is that most of the steps contain at least two independent mathematical operations. Google wanted to optimize for speed rather than simplicity, so it did not take care of the special case of shorter inputs. two algorithms were released by Google: cityhash64 and cityhash128. they compute They compute 64 and 128 bit hashes based on the string. The speed of cityHash depends on the CRC32 instruction and is currently SSE 4.2 (Intel Nehalem and later).</p>
<h3 id="spookyhash">SpookyHash</h3>
<p>In 2011 Bob Jenkins released a new hash function of his own, SpookyHash (so named because it was released on Halloween). They both have 2x the speed of MurmurHash, but they both use only 64-bit math functions and no 32-bit version, SpookyHash gives 128-bit output.</p>
<h3 id="framhash">FramHash</h3>
<p>In 2014 Google released <a href="https://github.com/google/farmhash">FarmHash</a>, a new family of hash functions for strings. FarmHash inherits many tricks and techniques from CityHash and is its successor. farmHash has multiple goals and claims to improve on CityHash in several ways. Another improvement of FarmHash over CityHash is that it provides an interface on top of several platform-specific implementations. This allows FarmHash to meet the requirements when developers simply want a fast and robust hash function for hash tables that does not need to be the same on every platform. Currently, FarmHash only includes hash functions for byte arrays on 32-, 64-, and 128-bit platforms. Future development plans include support for integers, tuples, and other data.</p>
<h3 id="other-hash-algorithms">Other Hash Algorithms</h3>
<p>XXHash: <a href="https://github.com/Cyan4973/xxHash">https://github.com/Cyan4973/xxHash</a></p>
<p>SuperFastHash: <a href="http://www.azillionmonkeys.com/qed/hash.html">http://www.azillionmonkeys.com/qed/hash.html</a></p>
<h3 id="which-hash-function-should-i-use">Which Hash function should I use?</h3>
<p>Of course, the later release may be better in terms of functionality, but there may be some kind of limitation. For 32-bit machines, it is recommended to use MurmurHash, which is a bit faster than lookup3&rsquo;s 32-bit.</p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/python/">python</a>
          <a href="/tags/hash/">hash</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-11/ie-conditional-comments/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">IE conditional comments in HTML</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-11/python-datetime/">
            <span class="next-text nav-default">Python Date and Time Processing Explained</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
