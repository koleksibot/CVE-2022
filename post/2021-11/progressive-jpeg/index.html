<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Use progressive JPEG to enhance user experience - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="Today I learned that there are two ways to save JPEG files they are Baseline JPEG (standard) and Progressive JPEG (progressive). Both formats have the same size and image data, and their extensions are the same, the only difference is that they are displayed differently.
Differences between Baseline JPEG and Progressive JPEG Baseline JPEG
This type of JPEG file is stored in a top-to-bottom scan, saving each line sequentially in the JPEG file." /><meta name="keywords" content="jpeg" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-11/progressive-jpeg/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Use progressive JPEG to enhance user experience" />
<meta property="og:description" content="Today I learned that there are two ways to save JPEG files they are Baseline JPEG (standard) and Progressive JPEG (progressive). Both formats have the same size and image data, and their extensions are the same, the only difference is that they are displayed differently.
Differences between Baseline JPEG and Progressive JPEG Baseline JPEG
This type of JPEG file is stored in a top-to-bottom scan, saving each line sequentially in the JPEG file." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-11/progressive-jpeg/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-11-03T13:42:24+08:00" />
<meta property="article:modified_time" content="2021-11-03T13:42:24+08:00" />

<meta itemprop="name" content="Use progressive JPEG to enhance user experience">
<meta itemprop="description" content="Today I learned that there are two ways to save JPEG files they are Baseline JPEG (standard) and Progressive JPEG (progressive). Both formats have the same size and image data, and their extensions are the same, the only difference is that they are displayed differently.
Differences between Baseline JPEG and Progressive JPEG Baseline JPEG
This type of JPEG file is stored in a top-to-bottom scan, saving each line sequentially in the JPEG file."><meta itemprop="datePublished" content="2021-11-03T13:42:24+08:00" />
<meta itemprop="dateModified" content="2021-11-03T13:42:24+08:00" />
<meta itemprop="wordCount" content="561">
<meta itemprop="keywords" content="jpeg," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Use progressive JPEG to enhance user experience"/>
<meta name="twitter:description" content="Today I learned that there are two ways to save JPEG files they are Baseline JPEG (standard) and Progressive JPEG (progressive). Both formats have the same size and image data, and their extensions are the same, the only difference is that they are displayed differently.
Differences between Baseline JPEG and Progressive JPEG Baseline JPEG
This type of JPEG file is stored in a top-to-bottom scan, saving each line sequentially in the JPEG file."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Use progressive JPEG to enhance user experience</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-11-03 13:42:24 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            <a href="/categories/media/"> media </a>
            </div>
          <span class="more-meta"> 561 words </span>
          <span class="more-meta"> 3 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#differences-between-baseline-jpeg-and-progressive-jpeg">Differences between Baseline JPEG and Progressive JPEG</a></li>
        <li><a href="#how-to-save-images-as-progressive-jpeg">How to save images as Progressive JPEG?</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>Today I learned that there are two ways to save JPEG files they are Baseline JPEG (standard) and Progressive JPEG (progressive). Both formats have the same size and image data, and their extensions are the same, the only difference is that they are displayed differently.</p>
<h2 id="differences-between-baseline-jpeg-and-progressive-jpeg">Differences between Baseline JPEG and Progressive JPEG</h2>
<p><strong>Baseline JPEG</strong></p>
<p>This type of JPEG file is stored in a top-to-bottom scan, saving each line sequentially in the JPEG file. When this file is opened to display its contents, the data will be displayed in the order it was stored, line by line, from top to bottom, until all the data has been read, completing the display of the entire image. If the file is large or the network download speed is slow, then you will see the effect of the image being loaded line by line. There is no advantage to this format of JPEG, so Progressive JPEG is generally recommended.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/03/4fe7aa4edae54edf945f0803994116dd.gif" alt=""></p>
<p><strong>Progressive JPEG</strong></p>
<p>Unlike Baseline which scans once, Progressive JPEG files contain multiple scans, which are stored in the JPEG file in a smooth search. During file opening, a faint outline of the entire image is displayed first, and as the number of scans increases, the image becomes clearer and clearer. The main advantage of this format is that in case of slow networks, you can see the outline of the image to know roughly what is being loaded. You will notice this technique on some websites when opening larger images.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/03/1695a8d6994a4cd69c5d67533e40dc90.gif" alt=""></p>
<p>Progressive images bring the advantage of allowing users to see the general outline of the final image without having finished downloading the image, which can enhance the user experience to a certain extent. (It is still recommended to use the standard type for websites with waterfall stay)</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/03/650444d491fe4931b1324873c356aabd.png" alt=""></p>
<p>In addition, the size of progressive images does not differ much from the basic image size, and sometimes it may be smaller than the basic image. The disadvantage of progressive images is that they eat up the user&rsquo;s CPU and memory, but for today&rsquo;s computers this amount of image computation is not a big deal.</p>
<h2 id="how-to-save-images-as-progressive-jpeg">How to save images as Progressive JPEG?</h2>
<p>Having said that, here&rsquo;s how to save images as or convert them to Progressive JPEG.</p>
<p><strong>PhotoShop</strong></p>
<p>In PS there is a &ldquo;store as web format&rdquo;, open it and select &ldquo;continuous&rdquo; is Progressive JPEG.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/11/03/ec4d4845f7cb42adb116e11b54c3e1e9.png" alt=""></p>
<p><strong>Linux</strong></p>
<p>Detect if it is a progressive jpeg</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">identify -verbose filename.jpg <span class="p">|</span> grep Interlace
</code></pre></td></tr></table>
</div>
</div><p>If None is output, it is not a progressive jpeg; if Plane is output, it is a progressive jpeg.</p>
<p>Convert <code>basic jpeg</code> to <code>progressive jpeg</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">convert infile.jpg -interlace Plane outfile.jpg
</code></pre></td></tr></table>
</div>
</div><p><strong>PHP</strong></p>
<p>Using the <a href="https://www.php.net/manual/en/function.imageinterlace.php">imageinterlace</a> and [imagejpeg](<a href="https://www.php.net/manual/en/function">https://www.php.net/manual/en/function</a>. imagejpeg.php) functions we can easily solve the conversion problem.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="nv">$im</span> <span class="o">=</span> <span class="nx">imagecreatefromjpeg</span><span class="p">(</span><span class="s1">&#39;pic.jpg&#39;</span><span class="p">);</span>
    <span class="nx">imageinterlace</span><span class="p">(</span><span class="nv">$im</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">imagejpeg</span><span class="p">(</span><span class="nv">$im</span><span class="p">,</span> <span class="s1">&#39;./php_interlaced.jpg&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
    <span class="nx">imagedestroy</span><span class="p">(</span><span class="nv">$im</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p><strong>Python</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-py" data-lang="py"><span class="kn">import</span> <span class="nn">PIL</span>
<span class="kn">from</span> <span class="nn">exceptions</span> <span class="kn">import</span> <span class="ne">IOError</span>

<span class="n">img</span> <span class="o">=</span> <span class="n">PIL</span><span class="o">.</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">&#34;c:</span><span class="se">\\</span><span class="s2">users</span><span class="se">\\</span><span class="s2">biaodianfu</span><span class="se">\\</span><span class="s2">pictures</span><span class="se">\\</span><span class="s2">in.jpg&#34;</span><span class="p">)</span>
<span class="n">destination</span> <span class="o">=</span> <span class="s2">&#34;c:</span><span class="se">\\</span><span class="s2">users</span><span class="se">\\</span><span class="s2">biaodianfu</span><span class="se">\\</span><span class="s2">pictures</span><span class="se">\\</span><span class="s2">test.jpeg&#34;</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="s2">&#34;JPEG&#34;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">optimize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">progressive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
    <span class="n">PIL</span><span class="o">.</span><span class="n">ImageFile</span><span class="o">.</span><span class="n">MAXBLOCK</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">img</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">img</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">destination</span><span class="p">,</span> <span class="s2">&#34;JPEG&#34;</span><span class="p">,</span> <span class="n">quality</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">optimize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">progressive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>jpegtran</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">jpegtran -copy none -progressive &lt;inputfile&gt; &lt;outputfile&gt;
</code></pre></td></tr></table>
</div>
</div><p><strong>C#</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-c#" data-lang="c#"><span class="k">using</span> <span class="p">(</span><span class="n">Image</span> <span class="n">source</span> <span class="p">=</span> <span class="n">Image</span><span class="p">.</span><span class="n">FromFile</span><span class="p">(</span><span class="s">@&#34;D:\temp\test2.jpg&#34;</span><span class="p">))</span> <span class="p">{</span> 
    <span class="n">ImageCodecInfo</span> <span class="n">codec</span> <span class="p">=</span> <span class="n">ImageCodecInfo</span><span class="p">.</span><span class="n">GetImageEncoders</span><span class="p">().</span><span class="n">First</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">MimeType</span> <span class="p">==</span> <span class="s">&#34;image/jpeg&#34;</span><span class="p">);</span> 
    <span class="n">EncoderParameters</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EncoderParameters</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="n">Param</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EncoderParameter</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Imaging</span><span class="p">.</span><span class="n">Encoder</span><span class="p">.</span><span class="n">Quality</span><span class="p">,</span> <span class="m">100L</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="n">Param</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EncoderParameter</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Imaging</span><span class="p">.</span><span class="n">Encoder</span><span class="p">.</span><span class="n">ScanMethod</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">EncoderValue</span><span class="p">.</span><span class="n">ScanMethodInterlaced</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="n">Param</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EncoderParameter</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Drawing</span><span class="p">.</span><span class="n">Imaging</span><span class="p">.</span><span class="n">Encoder</span><span class="p">.</span><span class="n">RenderMethod</span><span class="p">,</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">EncoderValue</span><span class="p">.</span><span class="n">RenderProgressive</span><span class="p">);</span> 
    <span class="n">source</span><span class="p">.</span><span class="n">Save</span><span class="p">(</span><span class="s">@&#34;D:\temp\saved.jpg&#34;</span><span class="p">,</span> <span class="n">codec</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div>
    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/jpeg/">jpeg</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-11/free-up-hard-disk-space-on-windows/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Computer C drive space space cleaning method</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-11/linux-distribution/">
            <span class="next-text nav-default">How to choose a Linux distribution for your desktop/server</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
