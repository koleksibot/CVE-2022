<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>typescript Useful Tips - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="I&amp;rsquo;ve been using typescript for a long time, but I don&amp;rsquo;t feel like I&amp;rsquo;ve used it completely. Because a lot of typescript features are not used, view the code written before the screen full of any, so it is easy to cause a lot of bugs, but also did not play the typescript real &amp;ldquo;type&amp;rdquo; power. This article summarizes some tips for using typescript, which can be used when using" /><meta name="keywords" content="typescript, Useful Tips" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-08/ts-useful-tips/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="typescript Useful Tips" />
<meta property="og:description" content="I&rsquo;ve been using typescript for a long time, but I don&rsquo;t feel like I&rsquo;ve used it completely. Because a lot of typescript features are not used, view the code written before the screen full of any, so it is easy to cause a lot of bugs, but also did not play the typescript real &ldquo;type&rdquo; power. This article summarizes some tips for using typescript, which can be used when using" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-08/ts-useful-tips/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-08-25T10:49:54+08:00" />
<meta property="article:modified_time" content="2021-08-25T10:49:54+08:00" />

<meta itemprop="name" content="typescript Useful Tips">
<meta itemprop="description" content="I&rsquo;ve been using typescript for a long time, but I don&rsquo;t feel like I&rsquo;ve used it completely. Because a lot of typescript features are not used, view the code written before the screen full of any, so it is easy to cause a lot of bugs, but also did not play the typescript real &ldquo;type&rdquo; power. This article summarizes some tips for using typescript, which can be used when using"><meta itemprop="datePublished" content="2021-08-25T10:49:54+08:00" />
<meta itemprop="dateModified" content="2021-08-25T10:49:54+08:00" />
<meta itemprop="wordCount" content="2034">
<meta itemprop="keywords" content="typescript," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="typescript Useful Tips"/>
<meta name="twitter:description" content="I&rsquo;ve been using typescript for a long time, but I don&rsquo;t feel like I&rsquo;ve used it completely. Because a lot of typescript features are not used, view the code written before the screen full of any, so it is easy to cause a lot of bugs, but also did not play the typescript real &ldquo;type&rdquo; power. This article summarizes some tips for using typescript, which can be used when using"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">typescript Useful Tips</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-08-25 10:49:54 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            </div>
          <span class="more-meta"> 2034 words </span>
          <span class="more-meta"> 5 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#function-overloading">Function Overloading</a></li>
        <li><a href="#mapping-type">Mapping Type</a>
          <ul>
            <li><a href="#keyof-keyof-takes-the-key-of-the-interface">keyof: keyof takes the key of the interface</a></li>
            <li><a href="#never-the-type-of-the-value-that-never-exists">never: the type of the value that never exists</a></li>
            <li><a href="#typeof-takes-the-type-of-a-value">typeof: takes the type of a value</a></li>
            <li><a href="#in-checks-if-an-attribute-exists-on-an-object">in: checks if an attribute exists on an object</a></li>
            <li><a href="#partial-readonly-nullable-required">Partial, Readonly, Nullable, Required</a></li>
            <li><a href="#pick-record">Pick, Record</a></li>
            <li><a href="#exclude-omit">Exclude, Omit</a></li>
            <li><a href="#returntype">ReturnType</a></li>
          </ul>
        </li>
        <li><a href="#type-assertion">Type Assertion</a></li>
        <li><a href="#enumeration">Enumeration</a></li>
        <li><a href="#tuple">Tuple</a></li>
        <li><a href="#generics">Generics</a></li>
        <li><a href="#infer">infer</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>I&rsquo;ve been using typescript for a long time, but I don&rsquo;t feel like I&rsquo;ve used it completely. Because a lot of typescript features are not used, view the code written before the screen full of <code>any</code>, so it is easy to cause a lot of bugs, but also did not play the typescript real &ldquo;type&rdquo; power. This article summarizes some tips for using typescript, which can be used when using typescript in the future.</p>
<p>Without further ado, let&rsquo;s get straight to the code.</p>
<h2 id="function-overloading">Function Overloading</h2>
<p>When you want to pass the user parameter without the flag, and the para parameter with the flag, you can write it like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span>
  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Jack&#39;</span><span class="p">,</span>
  <span class="nx">age</span>: <span class="kt">123</span>
<span class="p">};</span>

<span class="kr">class</span> <span class="nx">SomeClass</span> <span class="p">{</span>

  <span class="kr">public</span> <span class="nx">test</span><span class="p">(</span><span class="nx">para</span>: <span class="kt">User</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span><span class="p">;</span>
  <span class="kr">public</span> <span class="nx">test</span><span class="p">(</span><span class="nx">para</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">flag</span>: <span class="kt">boolean</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span><span class="p">;</span>

  <span class="kr">public</span> <span class="nx">test</span><span class="p">(</span><span class="nx">para</span>: <span class="kt">User</span> <span class="o">|</span> <span class="kt">number</span><span class="p">,</span> <span class="nx">flag?</span>: <span class="kt">boolean</span><span class="p">)</span><span class="o">:</span> <span class="kt">number</span> <span class="p">{</span>
    <span class="c1">// Specific implementation
</span><span class="c1"></span>    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">someClass</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SomeClass</span><span class="p">();</span>

<span class="c1">// ok
</span><span class="c1"></span><span class="nx">someClass</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
<span class="nx">someClass</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="c1">// Error
</span><span class="c1">// someClass.test(123); 
</span><span class="c1">//Argument of type &#39;number&#39; is not assignable to parameter of type &#39;User&#39;.
</span><span class="c1">// someClass.test(user, false);
</span><span class="c1">//Argument of type &#39;{ name: string; age: number; }&#39; is not assignable to parameter of type &#39;number&#39;.
</span></code></pre></td></tr></table>
</div>
</div><h2 id="mapping-type">Mapping Type</h2>
<p>Before understanding mapping types, you need to understand keyof, never, typeof, in.</p>
<h3 id="keyof-keyof-takes-the-key-of-the-interface">keyof: keyof takes the key of the interface</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">interface</span> <span class="nx">Point</span> <span class="p">{</span>
    <span class="nx">x</span>: <span class="kt">number</span><span class="p">;</span>
    <span class="nx">y</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// type keys = &#34;x&#34; | &#34;y&#34;
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">keys</span> <span class="o">=</span> <span class="k">keyof</span> <span class="nx">Point</span><span class="p">;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="never-the-type-of-the-value-that-never-exists">never: the type of the value that never exists</h3>
<p>Official Description.</p>
<blockquote>
<p>the never type represents the type of values that never occur.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="c1">// Example: Performing a comprehensive compile-time check
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">Foo</span> <span class="o">=</span> <span class="kt">string</span> <span class="o">|</span> <span class="kt">number</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">controlFlowAnalysisWithNever</span><span class="p">(</span><span class="nx">foo</span>: <span class="kt">Foo</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">&#34;string&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Here foo is narrowed to a string type
</span><span class="c1"></span>  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s2">&#34;number&#34;</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Here foo is narrowed to a number type
</span><span class="c1"></span>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// foo in this case is never
</span><span class="c1"></span>    <span class="kr">const</span> <span class="nx">check</span>: <span class="kt">never</span> <span class="o">=</span> <span class="nx">foo</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>The purpose of using never to avoid the possibility of adding a union type without a corresponding implementation is to write type-absolutely safe code.</p>
<h3 id="typeof-takes-the-type-of-a-value">typeof: takes the type of a value</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="nx">a</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">3</span>

<span class="c1">// Equivalent to: const b: number = 4
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">b</span>: <span class="kt">typeof</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">4</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="in-checks-if-an-attribute-exists-on-an-object">in: checks if an attribute exists on an object</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">interface</span> <span class="nx">A</span> <span class="p">{</span>
  <span class="nx">x</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">B</span> <span class="p">{</span>
  <span class="nx">y</span>: <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">doStuff</span><span class="p">(</span><span class="nx">q</span>: <span class="kt">A</span> <span class="o">|</span> <span class="nx">B</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="s1">&#39;x&#39;</span> <span class="k">in</span> <span class="nx">q</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// q: A
</span><span class="c1"></span>  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// q: B
</span><span class="c1"></span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Mapping types is the mapping of one type to another type, which simply means that the new type converts each property of the old type in the same form.</p>
<h3 id="partial-readonly-nullable-required">Partial, Readonly, Nullable, Required</h3>
<ul>
<li>Partial converts each attribute to an optional attribute</li>
<li>Readonly Converts each property to a read-only property</li>
<li>Nullable Converts each property to the union of old and null</li>
<li>Required Converts each property to a required property</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">type</span> <span class="nx">Partial</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="k">keyof</span> <span class="nx">T</span><span class="p">]</span><span class="o">?:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">];</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">Readonly</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kr">readonly</span> <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="k">keyof</span> <span class="nx">T</span><span class="p">]</span><span class="o">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">];</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">Nullable</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span> 
  <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="k">keyof</span> <span class="nx">T</span><span class="p">]</span><span class="o">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span> <span class="o">|</span> <span class="kc">null</span> 
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">Required</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="k">keyof</span> <span class="nx">T</span><span class="p">]</span><span class="o">-?:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Person</span> <span class="p">{</span>
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">PersonPartial</span> <span class="o">=</span> <span class="nx">Partial</span><span class="p">&lt;</span><span class="nt">Person</span><span class="p">&gt;;</span>
<span class="kr">type</span> <span class="nx">PersonReadonly</span> <span class="o">=</span> <span class="nx">Readonly</span><span class="p">&lt;</span><span class="nt">Person</span><span class="p">&gt;;</span>
<span class="kr">type</span> <span class="nx">PersonNullable</span> <span class="o">=</span> <span class="nx">Nullable</span><span class="p">&lt;</span><span class="nt">Person</span><span class="p">&gt;;</span>

<span class="kr">type</span> <span class="nx">PersonPartial</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name?</span>: <span class="kt">string</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
    <span class="nx">age?</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kc">undefined</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">PersonReadonly</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kr">readonly</span> <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="kr">readonly</span> <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">PersonNullable</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">name</span>: <span class="kt">string</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
      <span class="nx">age</span>: <span class="kt">number</span> <span class="o">|</span> <span class="kc">null</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Props</span> <span class="p">{</span>
  <span class="nx">a?</span>: <span class="kt">number</span><span class="p">;</span>
  <span class="nx">b?</span>: <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">const</span> <span class="nx">obj</span>: <span class="kt">Props</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span>: <span class="kt">5</span> <span class="p">};</span>

<span class="kr">const</span> <span class="nx">obj2</span>: <span class="kt">Required</span><span class="p">&lt;</span><span class="nt">Props</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">a</span>: <span class="kt">5</span> <span class="p">};</span>
<span class="c1">// Property &#39;b&#39; is missing in type &#39;{ a: number; }&#39; but required in type &#39;Required&lt;Props&gt;&#39;.
</span></code></pre></td></tr></table>
</div>
</div><h3 id="pick-record">Pick, Record</h3>
<ul>
<li>Pick picks a set of properties to specify a new type</li>
<li>Record Creates a set of properties to specify a new type, often used to declare ordinary Object objects</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">type</span> <span class="nx">Pick</span><span class="p">&lt;</span><span class="nt">T</span><span class="err">,</span> <span class="na">K</span> <span class="na">extends</span> <span class="na">keyof</span> <span class="na">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="nx">K</span><span class="p">]</span><span class="o">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">];</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">Record</span><span class="p">&lt;</span><span class="nt">K</span> <span class="na">extends</span> <span class="na">keyof</span> <span class="na">any</span><span class="err">,</span> <span class="na">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="nx">K</span><span class="p">]</span><span class="o">:</span> <span class="nx">T</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Todo</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">description</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">completed</span>: <span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">TodoPreview</span> <span class="o">=</span> <span class="nx">Pick</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="err">,</span> <span class="err">&#34;</span><span class="na">title</span><span class="err">&#34;</span> <span class="err">|</span> <span class="err">&#34;</span><span class="na">completed</span><span class="err">&#34;</span><span class="p">&gt;;</span>

<span class="kr">const</span> <span class="nx">todo</span>: <span class="kt">TodoPreview</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;Clean room&#34;</span><span class="p">,</span>
  <span class="nx">completed</span>: <span class="kt">false</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">todo</span><span class="p">;</span> <span class="c1">// = const todo: TodoPreview
</span><span class="c1"></span>

<span class="kr">interface</span> <span class="nx">PageInfo</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">Page</span> <span class="o">=</span> <span class="s2">&#34;home&#34;</span> <span class="o">|</span> <span class="s2">&#34;about&#34;</span> <span class="o">|</span> <span class="s2">&#34;contact&#34;</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">nav</span>: <span class="kt">Record</span><span class="p">&lt;</span><span class="nt">Page</span><span class="err">,</span> <span class="na">PageInfo</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">about</span><span class="o">:</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;title1&#34;</span> <span class="p">},</span>
  <span class="nx">contact</span><span class="o">:</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;title2&#34;</span> <span class="p">},</span>
  <span class="nx">home</span><span class="o">:</span> <span class="p">{</span> <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;title3&#34;</span> <span class="p">},</span>
<span class="p">};</span>

<span class="nx">nav</span><span class="p">.</span><span class="nx">about</span><span class="p">;</span> <span class="c1">// = const nav: Record
</span></code></pre></td></tr></table>
</div>
</div><h3 id="exclude-omit">Exclude, Omit</h3>
<ul>
<li>Exclude removes the intersection and returns the remainder</li>
<li>Omit Exclude for key-value pair objects, removes the key-value pairs contained in the type</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">type</span> <span class="nx">Exclude</span><span class="p">&lt;</span><span class="nt">T</span><span class="err">,</span> <span class="na">U</span><span class="p">&gt;</span> <span class="o">=</span> <span class="nx">T</span> <span class="kr">extends</span> <span class="nx">U</span> <span class="o">?</span> <span class="kt">never</span> <span class="o">:</span> <span class="nx">T</span>
<span class="kr">type</span> <span class="nx">Omit</span> <span class="o">=</span> <span class="nx">Pick</span><span class="p">&lt;</span><span class="nt">T</span><span class="err">,</span> <span class="na">Exclude</span><span class="err">&lt;</span><span class="na">keyof</span> <span class="na">T</span><span class="err">,</span> <span class="na">K</span><span class="p">&gt;</span><span class="o">&gt;</span>

<span class="c1">// 相当于: type A = &#39;a&#39;
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">A</span> <span class="o">=</span> <span class="nx">Exclude</span><span class="o">&lt;</span><span class="s1">&#39;x&#39;</span> <span class="o">|</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span> <span class="o">|</span> <span class="s1">&#39;y&#39;</span> <span class="o">|</span> <span class="s1">&#39;z&#39;</span><span class="o">&gt;</span>

<span class="kr">interface</span> <span class="nx">Todo</span> <span class="p">{</span>
  <span class="nx">title</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">description</span>: <span class="kt">string</span><span class="p">;</span>
  <span class="nx">completed</span>: <span class="kt">boolean</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">type</span> <span class="nx">TodoPreview</span> <span class="o">=</span> <span class="nx">Omit</span><span class="p">&lt;</span><span class="nt">Todo</span><span class="err">,</span> <span class="err">&#34;</span><span class="na">description</span><span class="err">&#34;</span><span class="p">&gt;;</span>

<span class="kr">const</span> <span class="nx">todo</span>: <span class="kt">TodoPreview</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">title</span><span class="o">:</span> <span class="s2">&#34;a&#34;</span><span class="p">,</span>
  <span class="nx">completed</span>: <span class="kt">false</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="returntype">ReturnType</h3>
<p>Get the return value type, generally a function</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">type</span> <span class="nx">ReturnType</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="err">(</span><span class="na">...args</span><span class="err">:</span> <span class="na">any</span><span class="err">)</span> <span class="err">=</span><span class="p">&gt;</span> <span class="kt">any</span><span class="o">&gt;</span>
  <span class="o">=</span> <span class="nx">T</span> <span class="kr">extends</span> <span class="p">(...</span><span class="nx">args</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">infer</span> <span class="nx">R</span> <span class="o">?</span> <span class="nx">R</span> : <span class="kt">any</span><span class="p">;</span>

<span class="kr">declare</span> <span class="kd">function</span> <span class="nx">f1</span><span class="p">()</span><span class="o">:</span> <span class="p">{</span> <span class="nx">a</span>: <span class="kt">number</span><span class="p">;</span> <span class="nx">b</span>: <span class="kt">string</span> <span class="p">};</span>
<span class="kr">type</span> <span class="nx">T1</span> <span class="o">=</span> <span class="nx">ReturnType</span><span class="p">&lt;</span><span class="nt">typeof</span> <span class="na">f1</span><span class="p">&gt;;</span>
<span class="c1">//    type T1 = {
</span><span class="c1">//        a: number;
</span><span class="c1">//        b: string;
</span><span class="c1">//    }
</span></code></pre></td></tr></table>
</div>
</div><p>There are many more mapping types, see <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">Utility Types</a> reference.</p>
<h2 id="type-assertion">Type Assertion</h2>
<p>Type assertions are used to explicitly tell typescript the detailed type of a value, and can be used wisely to reduce our workload.</p>
<p>For example, a variable doesn&rsquo;t have an initial value, but we know its type information (it may be returned from the backend) what&rsquo;s the best way to derive the type information correctly and still have it work? One online recommendation is to set the initial value and then use typeof to get the type (which may be used elsewhere). It is also possible that using type assertions can solve this type of problem</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span> 
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span> 
    <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span> 
<span class="p">}</span> 

<span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">someClass</span> <span class="p">{</span> 
    <span class="kr">private</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{}</span> <span class="kr">as</span> <span class="nx">User</span><span class="p">;</span>
<span class="p">}</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="enumeration">Enumeration</h2>
<p>Enumerated types are divided into numeric types and string types, where numeric enumerations can be used as flags</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">enum</span> <span class="nx">AnimalFlags</span> <span class="p">{</span>
    <span class="nx">None</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="nx">HasClaws</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span><span class="p">,</span> 
    <span class="nx">CanFly</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="nx">HasClawsOrCanFly</span> <span class="o">=</span> <span class="nx">HasClaws</span> <span class="o">|</span> <span class="nx">CanFly</span> 
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Animal</span> <span class="p">{</span> 
    <span class="nx">flags</span>: <span class="kt">AnimalFlags</span><span class="p">;</span> 
   <span class="p">[</span><span class="nx">key</span>: <span class="kt">string</span><span class="p">]</span><span class="o">:</span> <span class="kt">any</span><span class="p">;</span> 
<span class="p">}</span> 

<span class="kd">function</span> <span class="nx">printAnimalAbilities</span><span class="p">(</span><span class="nx">animal</span>: <span class="kt">Animal</span><span class="p">)</span> <span class="p">{</span> 
    <span class="kd">var</span> <span class="nx">animalFlags</span> <span class="o">=</span> <span class="nx">animal</span><span class="p">.</span><span class="nx">flags</span><span class="p">;</span> 
    <span class="k">if</span> <span class="p">(</span><span class="nx">animalFlags</span> <span class="o">&amp;</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">HasClaws</span><span class="p">)</span> <span class="p">{</span> 
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;animal has claws&#39;</span><span class="p">);</span> 
    <span class="p">}</span> 
    <span class="k">if</span> <span class="p">(</span><span class="nx">animalFlags</span> <span class="o">&amp;</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">CanFly</span><span class="p">)</span> <span class="p">{</span> 
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;animal can fly&#39;</span><span class="p">);</span> 
    <span class="p">}</span> 
    <span class="k">if</span> <span class="p">(</span><span class="nx">animalFlags</span> <span class="o">==</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">None</span><span class="p">)</span> <span class="p">{</span> 
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;nothing&#39;</span><span class="p">);</span> 
    <span class="p">}</span> 
<span class="p">}</span> 

<span class="kd">var</span> <span class="nx">animal</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">flags</span>: <span class="kt">AnimalFlags.None</span> <span class="p">};</span> 
<span class="nx">printAnimalAbilities</span><span class="p">(</span><span class="nx">animal</span><span class="p">);</span> <span class="c1">// nothing 
</span><span class="c1"></span><span class="nx">animal</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">HasClaws</span><span class="p">;</span> 
<span class="nx">printAnimalAbilities</span><span class="p">(</span><span class="nx">animal</span><span class="p">);</span> <span class="c1">// animal has claws 
</span><span class="c1"></span><span class="nx">animal</span><span class="p">.</span><span class="nx">flags</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">HasClaws</span><span class="p">;</span> 
<span class="nx">printAnimalAbilities</span><span class="p">(</span><span class="nx">animal</span><span class="p">);</span> <span class="c1">// nothing 
</span><span class="c1"></span><span class="nx">animal</span><span class="p">.</span><span class="nx">flags</span> <span class="o">|=</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">HasClaws</span> <span class="o">|</span> <span class="nx">AnimalFlags</span><span class="p">.</span><span class="nx">CanFly</span><span class="p">;</span> 
<span class="nx">printAnimalAbilities</span><span class="p">(</span><span class="nx">animal</span><span class="p">);</span> <span class="c1">// animal has claws, animal can fly 
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>using |= to add a flag.</li>
<li>using a combination of &amp;= and ~ to clear a flag.</li>
<li>| to merge flags.</li>
</ul>
<p>This may not be commonly used, but we can see similar code in the typescript source code about types.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/08/25/dac74e99993b470d9978622ef91f7da6.png" alt=" "></p>
<p>Enumerations of string types can maintain constants.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="kr">enum</span> <span class="nx">TODO_STATUS</span> <span class="p">{</span>
  <span class="nx">TODO</span> <span class="o">=</span> <span class="s1">&#39;TODO&#39;</span><span class="p">,</span>
  <span class="nx">DONE</span> <span class="o">=</span> <span class="s1">&#39;DONE&#39;</span><span class="p">,</span>
  <span class="nx">DOING</span> <span class="o">=</span> <span class="s1">&#39;DOING&#39;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">todos</span> <span class="p">(</span><span class="nx">status</span>: <span class="kt">TODO_STATUS</span><span class="p">)</span><span class="o">:</span> <span class="nx">Todo</span><span class="p">[];</span>

<span class="nx">todos</span><span class="p">(</span><span class="nx">TODO_STATUS</span><span class="p">.</span><span class="nx">TODO</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="tuple">Tuple</h2>
<p>Represents an array with a known number and type of elements, the type of each element need not be the same.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kd">let</span> <span class="nx">x</span><span class="o">:</span> <span class="p">[</span><span class="kt">string</span><span class="p">,</span> <span class="kt">number</span><span class="p">];</span>
<span class="nx">x</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">];</span> 
</code></pre></td></tr></table>
</div>
</div><p>When issuing a variable number of requests, you can apply.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">const</span> <span class="nx">requestList</span>: <span class="kt">any</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">http</span><span class="p">.</span><span class="kr">get</span><span class="p">&lt;</span><span class="nt">A</span><span class="p">&gt;(</span><span class="s1">&#39;http://some.1&#39;</span><span class="p">)];</span> <span class="c1">// Set to any[] type 
</span><span class="c1"></span><span class="k">if</span> <span class="p">(</span><span class="nx">flag</span><span class="p">)</span> <span class="p">{</span> 
    <span class="nx">requestList</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="kr">get</span><span class="p">&lt;</span><span class="nt">B</span><span class="p">&gt;(</span><span class="s1">&#39;http://some.2&#39;</span><span class="p">));</span> 
<span class="p">}</span> 
<span class="kr">const</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">data</span>: <span class="kt">a</span> <span class="p">},</span> <span class="nx">response</span> <span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">(</span><span class="nx">requestList</span><span class="p">)</span> <span class="kr">as</span> <span class="p">[</span><span class="nx">Response</span><span class="p">&lt;</span><span class="nt">A</span><span class="p">&gt;,</span> <span class="nx">Response</span><span class="p">&lt;</span><span class="nt">B</span><span class="p">&gt;</span><span class="o">?</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="generics">Generics</h2>
<p>After defining a generic type, there are two ways to use it, one is to pass in the generic type, and the other uses type inference.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">declare</span> <span class="kd">function</span> <span class="nx">fn</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;(</span><span class="nx">arg</span>: <span class="kt">T</span><span class="p">)</span><span class="o">:</span> <span class="nx">T</span><span class="p">;</span> <span class="c1">// Define a generic function 
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">fn1</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">&gt;(</span><span class="s1">&#39;hello&#39;</span><span class="p">);</span> <span class="c1">// The first way, passing in a generic type 
</span><span class="c1"></span><span class="kt">string</span> <span class="kr">const</span> <span class="nx">fn2</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// The second way is to infer that the generic T is of type number from the type number passed in as argument arg 
</span></code></pre></td></tr></table>
</div>
</div><p>An example of a flat array structure to build a tree structure.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="c1">// Data before conversion 
</span><span class="c1"></span><span class="kr">const</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[</span> 
<span class="p">{</span> <span class="nx">id</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">0</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test1&#39;</span><span class="p">},</span> 
<span class="p">{</span> <span class="nx">id</span>: <span class="kt">2</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test2&#39;</span><span class="p">},</span> 
<span class="p">{</span> <span class="nx">id</span>: <span class="kt">3</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">0</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test3&#39;</span><span class="p">}</span> 
<span class="p">];</span> 
<span class="c1">// After conversion 
</span><span class="c1"></span><span class="p">[</span> <span class="p">{</span> <span class="nx">id</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">0</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test1&#39;</span><span class="p">,</span> 
    <span class="nx">childrenList</span><span class="o">:</span> <span class="p">[</span> <span class="p">{</span> <span class="nx">id</span>: <span class="kt">2</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test2&#39;</span><span class="p">,</span> <span class="nx">childrenList</span><span class="o">:</span> <span class="p">[]</span> <span class="p">}</span> <span class="p">]</span> <span class="p">},</span> 
    <span class="p">{</span> <span class="nx">id</span>: <span class="kt">3</span><span class="p">,</span> <span class="nx">parentId</span>: <span class="kt">0</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;test3&#39;</span><span class="p">,</span> <span class="nx">childrenList</span><span class="o">:</span> <span class="p">[]</span> <span class="p">}</span> 
<span class="p">]</span>


<span class="kr">interface</span> <span class="nx">Item</span> <span class="p">{</span> 
    <span class="nx">id</span>: <span class="kt">number</span><span class="p">;</span> 
    <span class="nx">parentId</span>: <span class="kt">number</span><span class="p">;</span> 
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span> 
<span class="p">}</span> 

<span class="c1">// The options parameter is passed in to get the type of childrenKey, and then passed to the TreeItem
</span><span class="c1"></span>
<span class="kr">interface</span> <span class="nx">Options</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="na">string</span><span class="p">&gt;</span> <span class="p">{</span> 
    <span class="nx">childrenKey</span>: <span class="kt">T</span><span class="p">;</span> 
<span class="p">}</span> 
<span class="kr">type</span> <span class="nx">TreeItem</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="na">string</span><span class="p">&gt;</span> <span class="o">=</span> <span class="nx">Item</span> <span class="o">&amp;</span> <span class="p">{</span> <span class="p">[</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">T</span><span class="p">]</span><span class="o">:</span> <span class="nx">TreeItem</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;[]</span> <span class="o">|</span> <span class="p">[]</span> <span class="p">};</span> 
<span class="kr">declare</span> <span class="kd">function</span> <span class="nx">listToTree</span><span class="p">&lt;</span><span class="nt">T</span> <span class="na">extends</span> <span class="na">string </span><span class="o">=</span> <span class="s">&#39;children&#39;</span><span class="p">&gt;(</span><span class="nx">list</span>: <span class="kt">Item</span><span class="p">[],</span> <span class="nx">options</span>: <span class="kt">Options</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;)</span><span class="o">:</span> <span class="nx">TreeItem</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;[];</span> 
<span class="nx">listToTree</span><span class="p">(</span><span class="nx">arr</span><span class="p">,</span> <span class="p">{</span> <span class="nx">childrenKey</span><span class="o">:</span> <span class="s1">&#39;childrenList&#39;</span> <span class="p">}).</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">i</span> <span class="o">=&gt;</span> <span class="nx">i</span><span class="p">.</span><span class="nx">childrenList</span><span class="p">)</span> 
</code></pre></td></tr></table>
</div>
</div><h2 id="infer">infer</h2>
<p>Indicates the type variable to be inferred in the extends conditional statement.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">type</span> <span class="nx">ParamType</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="nx">T</span> <span class="kr">extends</span> <span class="p">(</span><span class="nx">param</span>: <span class="kt">infer</span> <span class="nx">P</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="kt">any</span> <span class="o">?</span> <span class="nx">P</span> : <span class="kt">T</span><span class="p">;</span> 
</code></pre></td></tr></table>
</div>
</div><p>This statement means that if T can be assigned to (param: infer P) =&gt; any, the result is (param: infer P) =&gt; parameter P of type any, otherwise it returns T.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="kr">interface</span> <span class="nx">User</span> <span class="p">{</span> 
    <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span> 
    <span class="nx">age</span>: <span class="kt">number</span><span class="p">;</span> 
<span class="p">}</span> 
<span class="kr">type</span> <span class="nx">Func</span> <span class="o">=</span> <span class="p">(</span><span class="nx">user</span>: <span class="kt">User</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span> 
<span class="kr">type</span> <span class="nx">Param</span> <span class="o">=</span> <span class="nx">ParamType</span><span class="p">&lt;</span><span class="nt">Func</span><span class="p">&gt;;</span> <span class="c1">// Param = User 
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">AA</span> <span class="o">=</span> <span class="nx">ParamType</span><span class="p">&lt;</span><span class="nt">string</span><span class="p">&gt;;</span> <span class="c1">// string
</span></code></pre></td></tr></table>
</div>
</div><p>Example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="c1">// [string, number] -&gt; string | number
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">ElementOf</span><span class="p">&lt;</span><span class="nt">T</span><span class="p">&gt;</span> <span class="o">=</span> <span class="nx">T</span> <span class="kr">extends</span> <span class="nb">Array</span><span class="p">&lt;</span><span class="nt">infer</span> <span class="na">E</span><span class="p">&gt;</span> <span class="o">?</span> <span class="nx">E</span> : <span class="kt">never</span><span class="p">;</span>

<span class="kr">type</span> <span class="nx">TTuple</span> <span class="o">=</span> <span class="p">[</span><span class="kt">string</span><span class="p">,</span> <span class="kt">number</span><span class="p">];</span>

<span class="kr">type</span> <span class="nx">ToUnion</span> <span class="o">=</span> <span class="nx">ElementOf</span><span class="p">&lt;</span><span class="nt">TTuple</span><span class="p">&gt;;</span> <span class="c1">// string | number
</span><span class="c1"></span>

<span class="c1">// T1 | T2 -&gt; T1 &amp; T2
</span><span class="c1"></span><span class="kr">type</span> <span class="nx">UnionToIntersection</span><span class="p">&lt;</span><span class="nt">U</span><span class="p">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="nx">U</span> <span class="kr">extends</span> <span class="kt">any</span> <span class="o">?</span> <span class="p">(</span><span class="nx">k</span>: <span class="kt">U</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span> <span class="o">:</span> <span class="kt">never</span><span class="p">)</span> <span class="kr">extends</span> <span class="p">((</span><span class="nx">k</span>: <span class="kt">infer</span> <span class="nx">I</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">)</span> <span class="o">?</span> <span class="nx">I</span> : <span class="kt">never</span><span class="p">;</span>

<span class="kr">type</span> <span class="nx">Result</span> <span class="o">=</span> <span class="nx">UnionToIntersection</span><span class="p">&lt;</span><span class="nt">T1</span> <span class="err">|</span> <span class="na">T2</span><span class="p">&gt;;</span> <span class="c1">// T1 &amp; T2
</span></code></pre></td></tr></table>
</div>
</div><h2 id="summary">Summary</h2>
<p>typescript is still very powerful about type restrictions, due to the limited article, there are other types such as union types, cross types, etc. Readers can check the information by themselves. I just started to touch the paradigm and its various combinations will feel unskilled, and will slowly apply it in the next project, trying to minimize the bugs.</p>
<hr>
<p>Reference <code>https://blog.dteam.top/posts/2021-08/ts-useful-tips.html</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/typescript/">typescript</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-08/hackers-steal-600-million/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Hacker &#34;had too much fun&#34; and stole $600 million and returned it, and was hired as a consultant instead of being held accountable!</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-08/sourcegraph-entire-open-source-web/">
            <span class="next-text nav-default">Sourcegraph opens to individual developers, will support search of private libraries</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
