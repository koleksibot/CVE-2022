<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>FFmpeg Video Processing Tutorial for Beginners - SoByte</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6356451834813761" crossorigin="anonymous"></script>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-E8GRRGBTEZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-E8GRRGBTEZ');
</script>


<meta name="author" content="" /><meta name="description" content="FFmpeg is the most commonly used open source software for video processing. It is powerful and versatile, used extensively in video websites and commercial software (such as Youtube and iTunes), and is the standard encoding/decoding implementation for many audio and video formats. FFmpeg itself is a huge project containing many components and library files, the most commonly used being its command line tools. This article describes how FFmpeg command line" /><meta name="keywords" content="ffmpeg" />






<meta name="generator" content="Hugo 0.92.2 with theme even" />


<link rel="canonical" href="https://www.sobyte.net/post/2021-08/ffmpeg/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="FFmpeg Video Processing Tutorial for Beginners" />
<meta property="og:description" content="FFmpeg is the most commonly used open source software for video processing. It is powerful and versatile, used extensively in video websites and commercial software (such as Youtube and iTunes), and is the standard encoding/decoding implementation for many audio and video formats. FFmpeg itself is a huge project containing many components and library files, the most commonly used being its command line tools. This article describes how FFmpeg command line" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.sobyte.net/post/2021-08/ffmpeg/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-08-18T14:05:59+08:00" />
<meta property="article:modified_time" content="2021-08-18T14:05:59+08:00" />

<meta itemprop="name" content="FFmpeg Video Processing Tutorial for Beginners">
<meta itemprop="description" content="FFmpeg is the most commonly used open source software for video processing. It is powerful and versatile, used extensively in video websites and commercial software (such as Youtube and iTunes), and is the standard encoding/decoding implementation for many audio and video formats. FFmpeg itself is a huge project containing many components and library files, the most commonly used being its command line tools. This article describes how FFmpeg command line"><meta itemprop="datePublished" content="2021-08-18T14:05:59+08:00" />
<meta itemprop="dateModified" content="2021-08-18T14:05:59+08:00" />
<meta itemprop="wordCount" content="1528">
<meta itemprop="keywords" content="ffmpeg," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="FFmpeg Video Processing Tutorial for Beginners"/>
<meta name="twitter:description" content="FFmpeg is the most commonly used open source software for video processing. It is powerful and versatile, used extensively in video websites and commercial software (such as Youtube and iTunes), and is the standard encoding/decoding implementation for many audio and video formats. FFmpeg itself is a huge project containing many components and library files, the most commonly used being its command line tools. This article describes how FFmpeg command line"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">SoByte</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a><a href="/ukraine/">
        <li class="mobile-menu-item">UKRAINE</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">SoByte</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/ukraine/">UKRAINE</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">FFmpeg Video Processing Tutorial for Beginners</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-08-18 14:05:59 </span>
        <div class="post-category">
            <a href="/categories/skills/"> skills </a>
            <a href="/categories/tools/"> tools </a>
            <a href="/categories/media/"> media </a>
            </div>
          <span class="more-meta"> 1528 words </span>
          <span class="more-meta"> 4 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#concept">Concept</a>
          <ul>
            <li><a href="#container">Container</a></li>
            <li><a href="#encoding-format">Encoding format</a></li>
            <li><a href="#encoder">Encoder</a></li>
          </ul>
        </li>
        <li><a href="#format-of-ffmpeg-usage">Format of FFmpeg usage</a></li>
        <li><a href="#common-command-line-parameters">Common command line parameters</a></li>
        <li><a href="#common-uses">Common Uses</a>
          <ul>
            <li><a href="#view-file-information">View file information</a></li>
            <li><a href="#convert-encoding-format">Convert encoding format</a></li>
            <li><a href="#convert-container-format">Convert container format</a></li>
            <li><a href="#adjusting-the-bit-rate">Adjusting the bit rate</a></li>
            <li><a href="#changing-resolution-transsizing">Changing resolution (transsizing)</a></li>
            <li><a href="#extracting-audio">Extracting audio</a></li>
            <li><a href="#adding-audio-tracks">Adding audio tracks</a></li>
            <li><a href="#screenshots">Screenshots</a></li>
            <li><a href="#crop">Crop</a></li>
            <li><a href="#adding-a-cover-to-audio">Adding a cover to audio</a></li>
          </ul>
        </li>
        <li><a href="#reference-links">Reference Links</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p><a href="https://www.ffmpeg.org/">FFmpeg</a> is the most commonly used open source software for video processing.</p>
<p>It is powerful and versatile, used extensively in video websites and commercial software (such as Youtube and iTunes), and is the standard encoding/decoding implementation for many audio and video formats.</p>
<p><img src="https://cdn.jsdelivr.net/gh/b0xt/sobyte-images/2021/08/18/1f1094d66ef64c25b1d61668b4546875.png" alt=" "></p>
<p>FFmpeg itself is a huge project containing many components and library files, the most commonly used being its command line tools. This article describes how FFmpeg command line can handle video more concisely and efficiently than desktop video processing software.</p>
<p>If you haven&rsquo;t installed it yet, you can follow the <a href="https://www.ffmpeg.org/download.html">official documentation</a> to complete the installation first.</p>
<h2 id="concept">Concept</h2>
<p>Before introducing FFmpeg usage, you need to understand some basic concepts of video processing.</p>
<h3 id="container">Container</h3>
<p>The video file itself is actually a container, which includes video and audio, and may also have other content such as subtitles.</p>
<p>There are several common container formats. Generally speaking, the suffix name of a video file reflects its container format.</p>
<ul>
<li>MP4</li>
<li>MKV</li>
<li>WebM</li>
<li>AVI</li>
</ul>
<p>The following commands view the containers supported by FFmpeg.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -formats
</code></pre></td></tr></table>
</div>
</div><h3 id="encoding-format">Encoding format</h3>
<p>Both video and audio need to be encoded before they can be saved as files. Different encoding formats (CODEC), with different compression ratios, can result in differences in file size and clarity.</p>
<p>Commonly used video encoding formats are listed below.</p>
<ul>
<li>H.262</li>
<li>H.264</li>
<li>H.265</li>
</ul>
<p>The above encoding formats are copyrighted, but can be used for free. In addition, there are several copyright-free video encoding formats.</p>
<ul>
<li>VP8</li>
<li>VP9</li>
<li>AV1</li>
</ul>
<p>The commonly used audio encoding formats are as follows.</p>
<ul>
<li>MP3</li>
<li>AAC</li>
</ul>
<p>All of the above are lossy encoding formats, where some detail is lost after encoding in exchange for a smaller file size after compression. Lossless encoding formats are compressed to produce larger files, so they are not described here.</p>
<p>The following command allows you to view the encoding formats supported by FFmpeg, both video encoding and audio encoding are included.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -codecs
</code></pre></td></tr></table>
</div>
</div><h3 id="encoder">Encoder</h3>
<p>Encoders are library files that implement a certain encoding format. Encoding and decoding of video/audio in a format can only be achieved if the encoders for that format are installed.</p>
<p>Here are some of the video encoders built into FFmpeg.</p>
<ul>
<li>libx264: The most popular open source H.264 encoder</li>
<li>NVENC: NVIDIA GPU-based H.264 encoder</li>
<li>libx265: open source HEVC encoder</li>
<li>libvpx: Google&rsquo;s VP8 and VP9 encoders</li>
<li>libaom: AV1 encoder</li>
</ul>
<p>The audio encoder is as follows.</p>
<ul>
<li>libfdk-aac</li>
<li>aac</li>
</ul>
<p>The following command allows you to view the installed encoders of FFmpeg.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -encoders
</code></pre></td></tr></table>
</div>
</div><h2 id="format-of-ffmpeg-usage">Format of FFmpeg usage</h2>
<p>FFmpeg&rsquo;s command line parameters are very numerous and can be divided into five parts.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text">$ ffmpeg {1} {2} -i {3} {4} {5}
</code></pre></td></tr></table>
</div>
</div><p>The parameters of the five parts in the above command are in the following order.</p>
<ol>
<li>global parameters</li>
<li>input file parameters</li>
<li>input file</li>
<li>output file parameters</li>
<li>output file</li>
</ol>
<p>When there are too many parameters, the ffmpeg command can be written in multiple lines for easy viewing.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-text" data-lang="text">$ ffmpeg \
[global parameters] \
[input file arguments] \
-i [input file] \
[output file arguments] \
[output file]
</code></pre></td></tr></table>
</div>
</div><p>Here is an example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg <span class="se">\
</span><span class="se"></span>-y <span class="se">\ </span><span class="c1"># global parameters</span>
-c:a libfdk_aac -c:v libx264 <span class="se">\ </span><span class="c1"># input file arguments</span>
-i input.mp4 <span class="se">\ </span><span class="c1"># input file</span>
-c:v libvpx-vp9 -c:a libvorbis <span class="se">\ </span><span class="c1"># output file arguments</span>
output.webm <span class="c1"># output file</span>
</code></pre></td></tr></table>
</div>
</div><p>The above command converts an mp4 file to a webm file, both of which are container formats. The audio encoding format of the input mp4 file is aac, and the video encoding format is H.264; the video encoding format of the output webm file is VP9, and the audio format is Vorbis.</p>
<p>If no encoding format is specified, FFmpeg will determine the encoding of the input file by itself. Therefore, the above command can be simply written as follows.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i input.avi output.mp4
</code></pre></td></tr></table>
</div>
</div><h2 id="common-command-line-parameters">Common command line parameters</h2>
<p>The following command line parameters are commonly used in FFmpeg.</p>
<ul>
<li><code>-c</code> : Specify the encoder</li>
<li><code>-c copy</code> : Copy directly, without re-encoding (this is faster)</li>
<li><code>-c:v</code> : Specify the video encoder</li>
<li><code>-c:a</code> : Specify the audio encoder</li>
<li><code>-i</code> : Specify the input file</li>
<li><code>-an</code> : remove the audio stream</li>
<li><code>-vn</code> : Remove video streams</li>
<li><code>-preset</code> : Specify the output video quality, which affects the file generation speed, there are several available values ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslow.</li>
<li><code>-y</code> : Overwrite the file with the same name directly on output without confirmation.</li>
</ul>
<h2 id="common-uses">Common Uses</h2>
<p>Here are a few common uses of FFmpeg.</p>
<h3 id="view-file-information">View file information</h3>
<p>To view meta information about a video file, such as encoding format and bitrate, you can use only the <code>-i</code> parameter.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i input.mp4
</code></pre></td></tr></table>
</div>
</div><p>The above command will output a lot of redundant information, and with the <code>-hide_banner</code> argument, you can display only meta information.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i input.mp4 -hide_banner
</code></pre></td></tr></table>
</div>
</div><h3 id="convert-encoding-format">Convert encoding format</h3>
<p>Transcoding refers to the conversion of a video file from one encoding to another. For example, to convert to H.264 encoding, the encoder <code>libx264</code> is usually used, so you only need to specify the video encoder of the output file.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i <span class="o">[</span>input.file<span class="o">]</span> -c:v libx264 output.mp4
</code></pre></td></tr></table>
</div>
</div><p>Here is a writeup of the conversion to H.265 encoding.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i <span class="o">[</span>input.file<span class="o">]</span> -c:v libx265 output.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="convert-container-format">Convert container format</h3>
<p>Converting container formats (transmuxing) means that the video files are transferred from one container to another. Here is how mp4 to webm is written.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -i input.mp4 -c copy output.webm
</code></pre></td></tr></table>
</div>
</div><p>In the above example, the container is just converted and the internal encoding format remains unchanged, so it is faster to use <code>-c copy</code> to specify a direct copy without transcoding.</p>
<h3 id="adjusting-the-bit-rate">Adjusting the bit rate</h3>
<p>Transrating refers to changing the bit rate of the encoding, and is generally used to make the video file smaller in size. The following example specifies a minimum bitrate of 964K, a maximum of 3856K, and a buffer size of 2000K.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">
$ ffmpeg <span class="se">\
</span><span class="se"></span>-i input.mp4 <span class="se">\
</span><span class="se"></span>-minrate 964K -maxrate 3856K -bufsize 2000K <span class="se">\
</span><span class="se"></span>output.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="changing-resolution-transsizing">Changing resolution (transsizing)</h3>
<p>Here is an example of changing the video resolution (transsizing) from 1080p to 480p.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg <span class="se">\
</span><span class="se"></span>-i input.mp4 <span class="se">\
</span><span class="se"></span>-vf <span class="nv">scale</span><span class="o">=</span>480:-1 <span class="se">\
</span><span class="se"></span>output.mp4
</code></pre></td></tr></table>
</div>
</div><h3 id="extracting-audio">Extracting audio</h3>
<p>Sometimes, it is necessary to extract the audio (demuxing) from inside the video, you can write it like this.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">
$ ffmpeg <span class="se">\
</span><span class="se"></span>-i input.mp4 <span class="se">\
</span><span class="se"></span>-vn -c:a copy <span class="se">\
</span><span class="se"></span>output.aac
</code></pre></td></tr></table>
</div>
</div><p>In the above example, <code>-vn</code> means remove the video, <code>-c:a copy</code> means copy directly without changing the audio encoding.</p>
<h3 id="adding-audio-tracks">Adding audio tracks</h3>
<p>Adding audio tracks (muxing) means that external audio is added to the video, such as adding background music or narration.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg <span class="se">\
</span><span class="se"></span>-i input.aac -i input.mp4 <span class="se">\
</span><span class="se"></span>output.mp4
</code></pre></td></tr></table>
</div>
</div><p>In the example above, there are two input files, audio and video, and FFmpeg will combine them into one file.</p>
<h3 id="screenshots">Screenshots</h3>
<p>The following example is a continuous screenshot of a 1-second video starting from a specified time.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">
$ ffmpeg <span class="se">\
</span><span class="se"></span>-y <span class="se">\
</span><span class="se"></span>-i input.mp4 <span class="se">\
</span><span class="se"></span>-ss 00:01:24 -t 00:00:01 <span class="se">\
</span><span class="se"></span>output_%3d.jpg
</code></pre></td></tr></table>
</div>
</div><p>If you only need to cut a picture, you can specify to cut only one frame.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg <span class="se">\
</span><span class="se"></span>-ss 01:23:45 <span class="se">\
</span><span class="se"></span>-i input <span class="se">\
</span><span class="se"></span>-vframes <span class="m">1</span> -q:v <span class="m">2</span> <span class="se">\
</span><span class="se"></span>output.jpg
</code></pre></td></tr></table>
</div>
</div><p>In the above example, <code>-vframes 1</code> specifies that only one frame will be intercepted, and <code>-q:v 2</code> indicates the quality of the output image, which is usually between 1 and 5 (1 being the highest quality).</p>
<h3 id="crop">Crop</h3>
<p>Cutting means that a clip from the original video is cut and output as a new video. The start time (start) and duration (duration) can be specified, and the end time (end) can be specified.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -ss <span class="o">[</span>start<span class="o">]</span> -i <span class="o">[</span>input<span class="o">]</span> -t <span class="o">[</span>duration<span class="o">]</span> -c copy <span class="o">[</span>output<span class="o">]</span>
$ ffmpeg -ss <span class="o">[</span>start<span class="o">]</span> -i <span class="o">[</span>input<span class="o">]</span> -to <span class="o">[</span>end<span class="o">]</span> -c copy <span class="o">[</span>output<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><p>下面是一个实际的例子。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">$ ffmpeg -ss 00:01:50 -i <span class="o">[</span>input<span class="o">]</span> -t 10.5 -c copy <span class="o">[</span>output<span class="o">]</span>
$ ffmpeg -ss 2.5 -i <span class="o">[</span>input<span class="o">]</span> -to <span class="m">10</span> -c copy <span class="o">[</span>output<span class="o">]</span>
</code></pre></td></tr></table>
</div>
</div><p>In the above example, <code>-c copy</code> means to copy the audio and video directly without changing the encoding format, which will be much faster.</p>
<h3 id="adding-a-cover-to-audio">Adding a cover to audio</h3>
<p>Some video sites only allow uploading video files. To upload an audio file, you must add a cover to the audio, convert it to a video, and then upload it.</p>
<p>The following command will convert an audio file, to a video file with a cover.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh">
$ ffmpeg <span class="se">\
</span><span class="se"></span>-loop <span class="m">1</span> <span class="se">\
</span><span class="se"></span>-i cover.jpg -i input.mp3 <span class="se">\
</span><span class="se"></span>-c:v libx264 -c:a aac -b:a 192k -shortest <span class="se">\
</span><span class="se"></span>output.mp4
</code></pre></td></tr></table>
</div>
</div><p>In the above command, there are two input files, one is the cover image <code>cover.jpg</code> and the other is the audio file <code>input.mp3</code>. The <code>-loop 1</code> parameter means the picture loops infinitely, and the <code>-shortest</code> parameter means the audio file ends and the output video ends.</p>
<h2 id="reference-links">Reference Links</h2>
<ul>
<li><a href="https://github.com/leandromoreira/ffmpeg-libav-tutorial#chapter-3---transcoding">FFmpeg libav tutorial</a></li>
<li><a href="https://github.com/leandromoreira/digital_video_introduction/blob/master/encoding_pratical_examples.md#split-and-merge-smoothly">Digital video introduction</a></li>
<li><a href="http://slhck.info/ffmpeg-encoding-course/">FFmpeg encoding and editing course</a></li>
<li><a href="https://dragonquest64.blogspot.com/2019/10/making-slideshows-wffmpeg.html">Making Slideshows w/FFMpeg</a></li>
<li><a href="https://itsfoss.com/ffmpeg/">The Complete Guide for Using ffmpeg in Linux</a></li>
<li><a href="https://bernd.dev/2020/04/adding-subtitles/">Adding subtitles to your videos the easy way</a></li>
</ul>
<hr>
<p>Reference <code>https://www.ruanyifeng.com/blog/2020/01/ffmpeg.html</code></p>

    </div>

    
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/ffmpeg/">ffmpeg</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/2021-08/internet-explorer-move-into-final-phase/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">IE browser&#39;s phase-out enters final stage</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/2021-08/time-appliance/">
            <span class="next-text nav-default">Facebook develops new open source timing device that works with just one PCIe slot</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
  <a href="https://www.sobyte.net/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2021 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        tags: 'ams',
        }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js" integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin="anonymous"></script>








</body>
</html>
